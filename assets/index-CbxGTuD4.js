var fI=Object.defineProperty;var pI=(t,e,n)=>e in t?fI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var G=(t,e,n)=>pI(t,typeof e!="symbol"?e+"":e,n);function mI(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function zx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ux={exports:{}},Au={},$x={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=Symbol.for("react.element"),gI=Symbol.for("react.portal"),yI=Symbol.for("react.fragment"),_I=Symbol.for("react.strict_mode"),vI=Symbol.for("react.profiler"),xI=Symbol.for("react.provider"),wI=Symbol.for("react.context"),EI=Symbol.for("react.forward_ref"),bI=Symbol.for("react.suspense"),TI=Symbol.for("react.memo"),SI=Symbol.for("react.lazy"),Dy=Symbol.iterator;function II(t){return t===null||typeof t!="object"?null:(t=Dy&&t[Dy]||t["@@iterator"],typeof t=="function"?t:null)}var Wx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hx=Object.assign,qx={};function Hs(t,e,n){this.props=t,this.context=e,this.refs=qx,this.updater=n||Wx}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gx(){}Gx.prototype=Hs.prototype;function xp(t,e,n){this.props=t,this.context=e,this.refs=qx,this.updater=n||Wx}var wp=xp.prototype=new Gx;wp.constructor=xp;Hx(wp,Hs.prototype);wp.isPureReactComponent=!0;var My=Array.isArray,Kx=Object.prototype.hasOwnProperty,Ep={current:null},Qx={key:!0,ref:!0,__self:!0,__source:!0};function Yx(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Kx.call(e,i)&&!Qx.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Qa,type:t,key:s,ref:o,props:r,_owner:Ep.current}}function AI(t,e){return{$$typeof:Qa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qa}function kI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vy=/\/+/g;function zh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kI(""+t.key):e.toString(36)}function oc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qa:case gI:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+zh(o,0):i,My(r)?(n="",t!=null&&(n=t.replace(Vy,"$&/")+"/"),oc(r,e,n,"",function(c){return c})):r!=null&&(bp(r)&&(r=AI(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Vy,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",My(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+zh(s,a);o+=oc(s,e,n,l,r)}else if(l=II(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+zh(s,a++),o+=oc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Tl(t,e,n){if(t==null)return t;var i=[],r=0;return oc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function CI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},ac={transition:null},PI={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:ac,ReactCurrentOwner:Ep};function Xx(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Tl,forEach:function(t,e,n){Tl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tl(t,function(){e++}),e},toArray:function(t){return Tl(t,function(e){return e})||[]},only:function(t){if(!bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Hs;ne.Fragment=yI;ne.Profiler=vI;ne.PureComponent=xp;ne.StrictMode=_I;ne.Suspense=bI;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PI;ne.act=Xx;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Hx({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ep.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Kx.call(e,l)&&!Qx.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Qa,type:t.type,key:r,ref:s,props:i,_owner:o}};ne.createContext=function(t){return t={$$typeof:wI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xI,_context:t},t.Consumer=t};ne.createElement=Yx;ne.createFactory=function(t){var e=Yx.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:EI,render:t}};ne.isValidElement=bp;ne.lazy=function(t){return{$$typeof:SI,_payload:{_status:-1,_result:t},_init:CI}};ne.memo=function(t,e){return{$$typeof:TI,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=ac.transition;ac.transition={};try{t()}finally{ac.transition=e}};ne.unstable_act=Xx;ne.useCallback=function(t,e){return kt.current.useCallback(t,e)};ne.useContext=function(t){return kt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return kt.current.useEffect(t,e)};ne.useId=function(){return kt.current.useId()};ne.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return kt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};ne.useRef=function(t){return kt.current.useRef(t)};ne.useState=function(t){return kt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return kt.current.useTransition()};ne.version="18.3.1";$x.exports=ne;var F=$x.exports;const Jx=zx(F),RI=mI({__proto__:null,default:Jx},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NI=F,DI=Symbol.for("react.element"),MI=Symbol.for("react.fragment"),VI=Object.prototype.hasOwnProperty,OI=NI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LI={key:!0,ref:!0,__self:!0,__source:!0};function Zx(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)VI.call(e,i)&&!LI.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:DI,type:t,key:s,ref:o,props:r,_owner:OI.current}}Au.Fragment=MI;Au.jsx=Zx;Au.jsxs=Zx;Ux.exports=Au;var y=Ux.exports,ew={exports:{}},Yt={},tw={exports:{}},nw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,q){var Y=z.length;z.push(q);e:for(;0<Y;){var de=Y-1>>>1,ge=z[de];if(0<r(ge,q))z[de]=q,z[Y]=ge,Y=de;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var q=z[0],Y=z.pop();if(Y!==q){z[0]=Y;e:for(var de=0,ge=z.length,Ft=ge>>>1;de<Ft;){var ze=2*(de+1)-1,Bt=z[ze],Ge=ze+1,ai=z[Ge];if(0>r(Bt,Y))Ge<ge&&0>r(ai,Bt)?(z[de]=ai,z[Ge]=Y,de=Ge):(z[de]=Bt,z[ze]=Y,de=ze);else if(Ge<ge&&0>r(ai,Y))z[de]=ai,z[Ge]=Y,de=Ge;else break e}}return q}function r(z,q){var Y=z.sortIndex-q.sortIndex;return Y!==0?Y:z.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,m=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var q=n(c);q!==null;){if(q.callback===null)i(c);else if(q.startTime<=z)i(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function R(z){if(v=!1,T(z),!w)if(n(l)!==null)w=!0,ue(N);else{var q=n(c);q!==null&&ye(R,q.startTime-z)}}function N(z,q){w=!1,v&&(v=!1,x(b),b=-1),m=!0;var Y=f;try{for(T(q),d=n(l);d!==null&&(!(d.expirationTime>q)||z&&!C());){var de=d.callback;if(typeof de=="function"){d.callback=null,f=d.priorityLevel;var ge=de(d.expirationTime<=q);q=t.unstable_now(),typeof ge=="function"?d.callback=ge:d===n(l)&&i(l),T(q)}else i(l);d=n(l)}if(d!==null)var Ft=!0;else{var ze=n(c);ze!==null&&ye(R,ze.startTime-q),Ft=!1}return Ft}finally{d=null,f=Y,m=!1}}var M=!1,S=null,b=-1,A=5,k=-1;function C(){return!(t.unstable_now()-k<A)}function D(){if(S!==null){var z=t.unstable_now();k=z;var q=!0;try{q=S(!0,z)}finally{q?P():(M=!1,S=null)}}else M=!1}var P;if(typeof E=="function")P=function(){E(D)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ee=ce.port2;ce.port1.onmessage=D,P=function(){ee.postMessage(null)}}else P=function(){_(D,0)};function ue(z){S=z,M||(M=!0,P())}function ye(z,q){b=_(function(){z(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,ue(N))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var Y=f;f=q;try{return z()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=f;f=z;try{return q()}finally{f=Y}},t.unstable_scheduleCallback=function(z,q,Y){var de=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?de+Y:de):Y=de,z){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Y+ge,z={id:h++,callback:q,priorityLevel:z,startTime:Y,expirationTime:ge,sortIndex:-1},Y>de?(z.sortIndex=Y,e(c,z),n(l)===null&&z===n(c)&&(v?(x(b),b=-1):v=!0,ye(R,Y-de))):(z.sortIndex=ge,e(l,z),w||m||(w=!0,ue(N))),z},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(z){var q=f;return function(){var Y=f;f=q;try{return z.apply(this,arguments)}finally{f=Y}}}})(nw);tw.exports=nw;var jI=tw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI=F,Kt=jI;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iw=new Set,ca={};function Ur(t,e){ks(t,e),ks(t+"Capture",e)}function ks(t,e){for(ca[t]=e,t=0;t<e.length;t++)iw.add(e[t])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bd=Object.prototype.hasOwnProperty,BI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Oy={},Ly={};function zI(t){return Bd.call(Ly,t)?!0:Bd.call(Oy,t)?!1:BI.test(t)?Ly[t]=!0:(Oy[t]=!0,!1)}function UI(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $I(t,e,n,i){if(e===null||typeof e>"u"||UI(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tp=/[\-:]([a-z])/g;function Sp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tp,Sp);ct[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tp,Sp);ct[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tp,Sp);ct[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ip(t,e,n,i){var r=ct.hasOwnProperty(e)?ct[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($I(e,n,r,i)&&(n=null),i||r===null?zI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var oi=FI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),rs=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),Ap=Symbol.for("react.strict_mode"),zd=Symbol.for("react.profiler"),rw=Symbol.for("react.provider"),sw=Symbol.for("react.context"),kp=Symbol.for("react.forward_ref"),Ud=Symbol.for("react.suspense"),$d=Symbol.for("react.suspense_list"),Cp=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),ow=Symbol.for("react.offscreen"),jy=Symbol.iterator;function vo(t){return t===null||typeof t!="object"?null:(t=jy&&t[jy]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Uh;function No(t){if(Uh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uh=e&&e[1]||""}return`
`+Uh+t}var $h=!1;function Wh(t,e){if(!t||$h)return"";$h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$h=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?No(t):""}function WI(t){switch(t.tag){case 5:return No(t.type);case 16:return No("Lazy");case 13:return No("Suspense");case 19:return No("SuspenseList");case 0:case 2:case 15:return t=Wh(t.type,!1),t;case 11:return t=Wh(t.type.render,!1),t;case 1:return t=Wh(t.type,!0),t;default:return""}}function Wd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ss:return"Fragment";case rs:return"Portal";case zd:return"Profiler";case Ap:return"StrictMode";case Ud:return"Suspense";case $d:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sw:return(t.displayName||"Context")+".Consumer";case rw:return(t._context.displayName||"Context")+".Provider";case kp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cp:return e=t.displayName||null,e!==null?e:Wd(t.type)||"Memo";case gi:e=t._payload,t=t._init;try{return Wd(t(e))}catch{}}return null}function HI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wd(e);case 8:return e===Ap?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qI(t){var e=aw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Il(t){t._valueTracker||(t._valueTracker=qI(t))}function lw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=aw(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Nc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hd(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fy(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=$i(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cw(t,e){e=e.checked,e!=null&&Ip(t,"checked",e,!1)}function qd(t,e){cw(t,e);var n=$i(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gd(t,e.type,$i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function By(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gd(t,e,n){(e!=="number"||Nc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Do=Array.isArray;function gs(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+$i(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Kd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Do(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$i(n)}}function uw(t,e){var n=$i(e.value),i=$i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Uy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Al,dw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Al=Al||document.createElement("div"),Al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Al.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ua(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GI=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(t){GI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ho[e]=Ho[t]})});function fw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ho.hasOwnProperty(t)&&Ho[t]?(""+e).trim():e+"px"}function pw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=fw(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var KI=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yd(t,e){if(e){if(KI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Xd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=null;function Pp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zd=null,ys=null,_s=null;function $y(t){if(t=Ja(t)){if(typeof Zd!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Nu(e),Zd(t.stateNode,t.type,e))}}function mw(t){ys?_s?_s.push(t):_s=[t]:ys=t}function gw(){if(ys){var t=ys,e=_s;if(_s=ys=null,$y(t),e)for(t=0;t<e.length;t++)$y(e[t])}}function yw(t,e){return t(e)}function _w(){}var Hh=!1;function vw(t,e,n){if(Hh)return t(e,n);Hh=!0;try{return yw(t,e,n)}finally{Hh=!1,(ys!==null||_s!==null)&&(_w(),gw())}}function ha(t,e){var n=t.stateNode;if(n===null)return null;var i=Nu(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var ef=!1;if(Jn)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){ef=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{ef=!1}function QI(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var qo=!1,Dc=null,Mc=!1,tf=null,YI={onError:function(t){qo=!0,Dc=t}};function XI(t,e,n,i,r,s,o,a,l){qo=!1,Dc=null,QI.apply(YI,arguments)}function JI(t,e,n,i,r,s,o,a,l){if(XI.apply(this,arguments),qo){if(qo){var c=Dc;qo=!1,Dc=null}else throw Error(B(198));Mc||(Mc=!0,tf=c)}}function $r(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wy(t){if($r(t)!==t)throw Error(B(188))}function ZI(t){var e=t.alternate;if(!e){if(e=$r(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Wy(r),t;if(s===i)return Wy(r),e;s=s.sibling}throw Error(B(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==i)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function ww(t){return t=ZI(t),t!==null?Ew(t):null}function Ew(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ew(t);if(e!==null)return e;t=t.sibling}return null}var bw=Kt.unstable_scheduleCallback,Hy=Kt.unstable_cancelCallback,eA=Kt.unstable_shouldYield,tA=Kt.unstable_requestPaint,je=Kt.unstable_now,nA=Kt.unstable_getCurrentPriorityLevel,Rp=Kt.unstable_ImmediatePriority,Tw=Kt.unstable_UserBlockingPriority,Vc=Kt.unstable_NormalPriority,iA=Kt.unstable_LowPriority,Sw=Kt.unstable_IdlePriority,ku=null,Cn=null;function rA(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(ku,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:aA,sA=Math.log,oA=Math.LN2;function aA(t){return t>>>=0,t===0?32:31-(sA(t)/oA|0)|0}var kl=64,Cl=4194304;function Mo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oc(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Mo(a):(s&=o,s!==0&&(i=Mo(s)))}else o=n&~r,o!==0?i=Mo(o):s!==0&&(i=Mo(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-fn(e),r=1<<n,i|=t[n],e&=~r;return i}function lA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cA(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=lA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function nf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Iw(){var t=kl;return kl<<=1,!(kl&4194240)&&(kl=64),t}function qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ya(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function uA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-fn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Np(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-fn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var me=0;function Aw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kw,Dp,Cw,Pw,Rw,rf=!1,Pl=[],ki=null,Ci=null,Pi=null,da=new Map,fa=new Map,_i=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qy(t,e){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":da.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(e.pointerId)}}function wo(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ja(e),e!==null&&Dp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function dA(t,e,n,i,r){switch(e){case"focusin":return ki=wo(ki,t,e,n,i,r),!0;case"dragenter":return Ci=wo(Ci,t,e,n,i,r),!0;case"mouseover":return Pi=wo(Pi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return da.set(s,wo(da.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,fa.set(s,wo(fa.get(s)||null,t,e,n,i,r)),!0}return!1}function Nw(t){var e=xr(t.target);if(e!==null){var n=$r(e);if(n!==null){if(e=n.tag,e===13){if(e=xw(n),e!==null){t.blockedOn=e,Rw(t.priority,function(){Cw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Jd=i,n.target.dispatchEvent(i),Jd=null}else return e=Ja(n),e!==null&&Dp(e),t.blockedOn=n,!1;e.shift()}return!0}function Gy(t,e,n){lc(t)&&n.delete(e)}function fA(){rf=!1,ki!==null&&lc(ki)&&(ki=null),Ci!==null&&lc(Ci)&&(Ci=null),Pi!==null&&lc(Pi)&&(Pi=null),da.forEach(Gy),fa.forEach(Gy)}function Eo(t,e){t.blockedOn===e&&(t.blockedOn=null,rf||(rf=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,fA)))}function pa(t){function e(r){return Eo(r,t)}if(0<Pl.length){Eo(Pl[0],t);for(var n=1;n<Pl.length;n++){var i=Pl[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ki!==null&&Eo(ki,t),Ci!==null&&Eo(Ci,t),Pi!==null&&Eo(Pi,t),da.forEach(e),fa.forEach(e),n=0;n<_i.length;n++)i=_i[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)Nw(n),n.blockedOn===null&&_i.shift()}var vs=oi.ReactCurrentBatchConfig,Lc=!0;function pA(t,e,n,i){var r=me,s=vs.transition;vs.transition=null;try{me=1,Mp(t,e,n,i)}finally{me=r,vs.transition=s}}function mA(t,e,n,i){var r=me,s=vs.transition;vs.transition=null;try{me=4,Mp(t,e,n,i)}finally{me=r,vs.transition=s}}function Mp(t,e,n,i){if(Lc){var r=sf(t,e,n,i);if(r===null)nd(t,e,i,jc,n),qy(t,i);else if(dA(r,t,e,n,i))i.stopPropagation();else if(qy(t,i),e&4&&-1<hA.indexOf(t)){for(;r!==null;){var s=Ja(r);if(s!==null&&kw(s),s=sf(t,e,n,i),s===null&&nd(t,e,i,jc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else nd(t,e,i,null,n)}}var jc=null;function sf(t,e,n,i){if(jc=null,t=Pp(i),t=xr(t),t!==null)if(e=$r(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jc=t,null}function Dw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nA()){case Rp:return 1;case Tw:return 4;case Vc:case iA:return 16;case Sw:return 536870912;default:return 16}default:return 16}}var xi=null,Vp=null,cc=null;function Mw(){if(cc)return cc;var t,e=Vp,n=e.length,i,r="value"in xi?xi.value:xi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return cc=r.slice(t,1<i?1-i:void 0)}function uc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rl(){return!0}function Ky(){return!1}function Xt(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rl:Ky,this.isPropagationStopped=Ky,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),e}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Op=Xt(qs),Xa=Re({},qs,{view:0,detail:0}),gA=Xt(Xa),Gh,Kh,bo,Cu=Re({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bo&&(bo&&t.type==="mousemove"?(Gh=t.screenX-bo.screenX,Kh=t.screenY-bo.screenY):Kh=Gh=0,bo=t),Gh)},movementY:function(t){return"movementY"in t?t.movementY:Kh}}),Qy=Xt(Cu),yA=Re({},Cu,{dataTransfer:0}),_A=Xt(yA),vA=Re({},Xa,{relatedTarget:0}),Qh=Xt(vA),xA=Re({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),wA=Xt(xA),EA=Re({},qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bA=Xt(EA),TA=Re({},qs,{data:0}),Yy=Xt(TA),SA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AA[t])?!!e[t]:!1}function Lp(){return kA}var CA=Re({},Xa,{key:function(t){if(t.key){var e=SA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(t){return t.type==="keypress"?uc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PA=Xt(CA),RA=Re({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=Xt(RA),NA=Re({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),DA=Xt(NA),MA=Re({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),VA=Xt(MA),OA=Re({},Cu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LA=Xt(OA),jA=[9,13,27,32],jp=Jn&&"CompositionEvent"in window,Go=null;Jn&&"documentMode"in document&&(Go=document.documentMode);var FA=Jn&&"TextEvent"in window&&!Go,Vw=Jn&&(!jp||Go&&8<Go&&11>=Go),Jy=" ",Zy=!1;function Ow(t,e){switch(t){case"keyup":return jA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function BA(t,e){switch(t){case"compositionend":return Lw(e);case"keypress":return e.which!==32?null:(Zy=!0,Jy);case"textInput":return t=e.data,t===Jy&&Zy?null:t;default:return null}}function zA(t,e){if(os)return t==="compositionend"||!jp&&Ow(t,e)?(t=Mw(),cc=Vp=xi=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vw&&e.locale!=="ko"?null:e.data;default:return null}}var UA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UA[t.type]:e==="textarea"}function jw(t,e,n,i){mw(i),e=Fc(e,"onChange"),0<e.length&&(n=new Op("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ko=null,ma=null;function $A(t){Qw(t,0)}function Pu(t){var e=cs(t);if(lw(e))return t}function WA(t,e){if(t==="change")return e}var Fw=!1;if(Jn){var Yh;if(Jn){var Xh="oninput"in document;if(!Xh){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),Xh=typeof t_.oninput=="function"}Yh=Xh}else Yh=!1;Fw=Yh&&(!document.documentMode||9<document.documentMode)}function n_(){Ko&&(Ko.detachEvent("onpropertychange",Bw),ma=Ko=null)}function Bw(t){if(t.propertyName==="value"&&Pu(ma)){var e=[];jw(e,ma,t,Pp(t)),vw($A,e)}}function HA(t,e,n){t==="focusin"?(n_(),Ko=e,ma=n,Ko.attachEvent("onpropertychange",Bw)):t==="focusout"&&n_()}function qA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(ma)}function GA(t,e){if(t==="click")return Pu(e)}function KA(t,e){if(t==="input"||t==="change")return Pu(e)}function QA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:QA;function ga(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Bd.call(e,r)||!yn(t[r],e[r]))return!1}return!0}function i_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r_(t,e){var n=i_(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=i_(n)}}function zw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Uw(){for(var t=window,e=Nc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nc(t.document)}return e}function Fp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YA(t){var e=Uw(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zw(n.ownerDocument.documentElement,n)){if(i!==null&&Fp(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=r_(n,s);var o=r_(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XA=Jn&&"documentMode"in document&&11>=document.documentMode,as=null,of=null,Qo=null,af=!1;function s_(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;af||as==null||as!==Nc(i)||(i=as,"selectionStart"in i&&Fp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Qo&&ga(Qo,i)||(Qo=i,i=Fc(of,"onSelect"),0<i.length&&(e=new Op("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=as)))}function Nl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ls={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},Jh={},$w={};Jn&&($w=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function Ru(t){if(Jh[t])return Jh[t];if(!ls[t])return t;var e=ls[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $w)return Jh[t]=e[n];return t}var Ww=Ru("animationend"),Hw=Ru("animationiteration"),qw=Ru("animationstart"),Gw=Ru("transitionend"),Kw=new Map,o_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(t,e){Kw.set(t,e),Ur(e,[t])}for(var Zh=0;Zh<o_.length;Zh++){var ed=o_[Zh],JA=ed.toLowerCase(),ZA=ed[0].toUpperCase()+ed.slice(1);Zi(JA,"on"+ZA)}Zi(Ww,"onAnimationEnd");Zi(Hw,"onAnimationIteration");Zi(qw,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(Gw,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ek=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function a_(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,JI(i,e,void 0,t),t.currentTarget=null}function Qw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;a_(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;a_(r,a,c),s=l}}}if(Mc)throw t=tf,Mc=!1,tf=null,t}function be(t,e){var n=e[df];n===void 0&&(n=e[df]=new Set);var i=t+"__bubble";n.has(i)||(Yw(e,t,2,!1),n.add(i))}function td(t,e,n){var i=0;e&&(i|=4),Yw(n,t,i,e)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function ya(t){if(!t[Dl]){t[Dl]=!0,iw.forEach(function(n){n!=="selectionchange"&&(ek.has(n)||td(n,!1,t),td(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dl]||(e[Dl]=!0,td("selectionchange",!1,e))}}function Yw(t,e,n,i){switch(Dw(e)){case 1:var r=pA;break;case 4:r=mA;break;default:r=Mp}n=r.bind(null,e,n,t),r=void 0,!ef||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function nd(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=xr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}vw(function(){var c=s,h=Pp(n),d=[];e:{var f=Kw.get(t);if(f!==void 0){var m=Op,w=t;switch(t){case"keypress":if(uc(n)===0)break e;case"keydown":case"keyup":m=PA;break;case"focusin":w="focus",m=Qh;break;case"focusout":w="blur",m=Qh;break;case"beforeblur":case"afterblur":m=Qh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=_A;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=DA;break;case Ww:case Hw:case qw:m=wA;break;case Gw:m=VA;break;case"scroll":m=gA;break;case"wheel":m=LA;break;case"copy":case"cut":case"paste":m=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xy}var v=(e&4)!==0,_=!v&&t==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var E=c,T;E!==null;){T=E;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,x!==null&&(R=ha(E,x),R!=null&&v.push(_a(E,R,T)))),_)break;E=E.return}0<v.length&&(f=new m(f,w,null,n,h),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Jd&&(w=n.relatedTarget||n.fromElement)&&(xr(w)||w[Zn]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?xr(w):null,w!==null&&(_=$r(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(v=Qy,R="onMouseLeave",x="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(v=Xy,R="onPointerLeave",x="onPointerEnter",E="pointer"),_=m==null?f:cs(m),T=w==null?f:cs(w),f=new v(R,E+"leave",m,n,h),f.target=_,f.relatedTarget=T,R=null,xr(h)===c&&(v=new v(x,E+"enter",w,n,h),v.target=T,v.relatedTarget=_,R=v),_=R,m&&w)t:{for(v=m,x=w,E=0,T=v;T;T=Xr(T))E++;for(T=0,R=x;R;R=Xr(R))T++;for(;0<E-T;)v=Xr(v),E--;for(;0<T-E;)x=Xr(x),T--;for(;E--;){if(v===x||x!==null&&v===x.alternate)break t;v=Xr(v),x=Xr(x)}v=null}else v=null;m!==null&&l_(d,f,m,v,!1),w!==null&&_!==null&&l_(d,_,w,v,!0)}}e:{if(f=c?cs(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=WA;else if(e_(f))if(Fw)N=KA;else{N=qA;var M=HA}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=GA);if(N&&(N=N(t,c))){jw(d,N,n,h);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Gd(f,"number",f.value)}switch(M=c?cs(c):window,t){case"focusin":(e_(M)||M.contentEditable==="true")&&(as=M,of=c,Qo=null);break;case"focusout":Qo=of=as=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,s_(d,n,h);break;case"selectionchange":if(XA)break;case"keydown":case"keyup":s_(d,n,h)}var S;if(jp)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else os?Ow(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Vw&&n.locale!=="ko"&&(os||b!=="onCompositionStart"?b==="onCompositionEnd"&&os&&(S=Mw()):(xi=h,Vp="value"in xi?xi.value:xi.textContent,os=!0)),M=Fc(c,b),0<M.length&&(b=new Yy(b,t,null,n,h),d.push({event:b,listeners:M}),S?b.data=S:(S=Lw(n),S!==null&&(b.data=S)))),(S=FA?BA(t,n):zA(t,n))&&(c=Fc(c,"onBeforeInput"),0<c.length&&(h=new Yy("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=S))}Qw(d,e)})}function _a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=ha(t,n),s!=null&&i.unshift(_a(t,s,r)),s=ha(t,e),s!=null&&i.push(_a(t,s,r))),t=t.return}return i}function Xr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l_(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=ha(n,s),l!=null&&o.unshift(_a(n,l,a))):r||(l=ha(n,s),l!=null&&o.push(_a(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tk=/\r\n?/g,nk=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(tk,`
`).replace(nk,"")}function Ml(t,e,n){if(e=c_(e),c_(t)!==e&&n)throw Error(B(425))}function Bc(){}var lf=null,cf=null;function uf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hf=typeof setTimeout=="function"?setTimeout:void 0,ik=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(sk)}:hf;function sk(t){setTimeout(function(){throw t})}function id(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),pa(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);pa(e)}function Ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function h_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),kn="__reactFiber$"+Gs,va="__reactProps$"+Gs,Zn="__reactContainer$"+Gs,df="__reactEvents$"+Gs,ok="__reactListeners$"+Gs,ak="__reactHandles$"+Gs;function xr(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zn]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=h_(t);t!==null;){if(n=t[kn])return n;t=h_(t)}return e}t=n,n=t.parentNode}return null}function Ja(t){return t=t[kn]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Nu(t){return t[va]||null}var ff=[],us=-1;function er(t){return{current:t}}function Ie(t){0>us||(t.current=ff[us],ff[us]=null,us--)}function xe(t,e){us++,ff[us]=t.current,t.current=e}var Wi={},wt=er(Wi),Ot=er(!1),Rr=Wi;function Cs(t,e){var n=t.type.contextTypes;if(!n)return Wi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Lt(t){return t=t.childContextTypes,t!=null}function zc(){Ie(Ot),Ie(wt)}function d_(t,e,n){if(wt.current!==Wi)throw Error(B(168));xe(wt,e),xe(Ot,n)}function Xw(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(B(108,HI(t)||"Unknown",r));return Re({},n,i)}function Uc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wi,Rr=wt.current,xe(wt,t),xe(Ot,Ot.current),!0}function f_(t,e,n){var i=t.stateNode;if(!i)throw Error(B(169));n?(t=Xw(t,e,Rr),i.__reactInternalMemoizedMergedChildContext=t,Ie(Ot),Ie(wt),xe(wt,t)):Ie(Ot),xe(Ot,n)}var $n=null,Du=!1,rd=!1;function Jw(t){$n===null?$n=[t]:$n.push(t)}function lk(t){Du=!0,Jw(t)}function tr(){if(!rd&&$n!==null){rd=!0;var t=0,e=me;try{var n=$n;for(me=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}$n=null,Du=!1}catch(r){throw $n!==null&&($n=$n.slice(t+1)),bw(Rp,tr),r}finally{me=e,rd=!1}}return null}var hs=[],ds=0,$c=null,Wc=0,Zt=[],en=0,Nr=null,qn=1,Gn="";function mr(t,e){hs[ds++]=Wc,hs[ds++]=$c,$c=t,Wc=e}function Zw(t,e,n){Zt[en++]=qn,Zt[en++]=Gn,Zt[en++]=Nr,Nr=t;var i=qn;t=Gn;var r=32-fn(i)-1;i&=~(1<<r),n+=1;var s=32-fn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,qn=1<<32-fn(e)+r|n<<r|i,Gn=s+t}else qn=1<<s|n<<r|i,Gn=t}function Bp(t){t.return!==null&&(mr(t,1),Zw(t,1,0))}function zp(t){for(;t===$c;)$c=hs[--ds],hs[ds]=null,Wc=hs[--ds],hs[ds]=null;for(;t===Nr;)Nr=Zt[--en],Zt[en]=null,Gn=Zt[--en],Zt[en]=null,qn=Zt[--en],Zt[en]=null}var qt=null,Wt=null,Ae=!1,dn=null;function e1(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qt=t,Wt=Ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nr!==null?{id:qn,overflow:Gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qt=t,Wt=null,!0):!1;default:return!1}}function pf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mf(t){if(Ae){var e=Wt;if(e){var n=e;if(!p_(t,e)){if(pf(t))throw Error(B(418));e=Ri(n.nextSibling);var i=qt;e&&p_(t,e)?e1(i,n):(t.flags=t.flags&-4097|2,Ae=!1,qt=t)}}else{if(pf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ae=!1,qt=t}}}function m_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function Vl(t){if(t!==qt)return!1;if(!Ae)return m_(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uf(t.type,t.memoizedProps)),e&&(e=Wt)){if(pf(t))throw t1(),Error(B(418));for(;e;)e1(t,e),e=Ri(e.nextSibling)}if(m_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=Ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=qt?Ri(t.stateNode.nextSibling):null;return!0}function t1(){for(var t=Wt;t;)t=Ri(t.nextSibling)}function Ps(){Wt=qt=null,Ae=!1}function Up(t){dn===null?dn=[t]:dn.push(t)}var ck=oi.ReactCurrentBatchConfig;function To(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var i=n.stateNode}if(!i)throw Error(B(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Ol(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g_(t){var e=t._init;return e(t._payload)}function n1(t){function e(x,E){if(t){var T=x.deletions;T===null?(x.deletions=[E],x.flags|=16):T.push(E)}}function n(x,E){if(!t)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function i(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function r(x,E){return x=Vi(x,E),x.index=0,x.sibling=null,x}function s(x,E,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<E?(x.flags|=2,E):T):(x.flags|=2,E)):(x.flags|=1048576,E)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,E,T,R){return E===null||E.tag!==6?(E=hd(T,x.mode,R),E.return=x,E):(E=r(E,T),E.return=x,E)}function l(x,E,T,R){var N=T.type;return N===ss?h(x,E,T.props.children,R,T.key):E!==null&&(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===gi&&g_(N)===E.type)?(R=r(E,T.props),R.ref=To(x,E,T),R.return=x,R):(R=yc(T.type,T.key,T.props,null,x.mode,R),R.ref=To(x,E,T),R.return=x,R)}function c(x,E,T,R){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=dd(T,x.mode,R),E.return=x,E):(E=r(E,T.children||[]),E.return=x,E)}function h(x,E,T,R,N){return E===null||E.tag!==7?(E=Ar(T,x.mode,R,N),E.return=x,E):(E=r(E,T),E.return=x,E)}function d(x,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=hd(""+E,x.mode,T),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Sl:return T=yc(E.type,E.key,E.props,null,x.mode,T),T.ref=To(x,null,E),T.return=x,T;case rs:return E=dd(E,x.mode,T),E.return=x,E;case gi:var R=E._init;return d(x,R(E._payload),T)}if(Do(E)||vo(E))return E=Ar(E,x.mode,T,null),E.return=x,E;Ol(x,E)}return null}function f(x,E,T,R){var N=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return N!==null?null:a(x,E,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Sl:return T.key===N?l(x,E,T,R):null;case rs:return T.key===N?c(x,E,T,R):null;case gi:return N=T._init,f(x,E,N(T._payload),R)}if(Do(T)||vo(T))return N!==null?null:h(x,E,T,R,null);Ol(x,T)}return null}function m(x,E,T,R,N){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(T)||null,a(E,x,""+R,N);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Sl:return x=x.get(R.key===null?T:R.key)||null,l(E,x,R,N);case rs:return x=x.get(R.key===null?T:R.key)||null,c(E,x,R,N);case gi:var M=R._init;return m(x,E,T,M(R._payload),N)}if(Do(R)||vo(R))return x=x.get(T)||null,h(E,x,R,N,null);Ol(E,R)}return null}function w(x,E,T,R){for(var N=null,M=null,S=E,b=E=0,A=null;S!==null&&b<T.length;b++){S.index>b?(A=S,S=null):A=S.sibling;var k=f(x,S,T[b],R);if(k===null){S===null&&(S=A);break}t&&S&&k.alternate===null&&e(x,S),E=s(k,E,b),M===null?N=k:M.sibling=k,M=k,S=A}if(b===T.length)return n(x,S),Ae&&mr(x,b),N;if(S===null){for(;b<T.length;b++)S=d(x,T[b],R),S!==null&&(E=s(S,E,b),M===null?N=S:M.sibling=S,M=S);return Ae&&mr(x,b),N}for(S=i(x,S);b<T.length;b++)A=m(S,x,b,T[b],R),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?b:A.key),E=s(A,E,b),M===null?N=A:M.sibling=A,M=A);return t&&S.forEach(function(C){return e(x,C)}),Ae&&mr(x,b),N}function v(x,E,T,R){var N=vo(T);if(typeof N!="function")throw Error(B(150));if(T=N.call(T),T==null)throw Error(B(151));for(var M=N=null,S=E,b=E=0,A=null,k=T.next();S!==null&&!k.done;b++,k=T.next()){S.index>b?(A=S,S=null):A=S.sibling;var C=f(x,S,k.value,R);if(C===null){S===null&&(S=A);break}t&&S&&C.alternate===null&&e(x,S),E=s(C,E,b),M===null?N=C:M.sibling=C,M=C,S=A}if(k.done)return n(x,S),Ae&&mr(x,b),N;if(S===null){for(;!k.done;b++,k=T.next())k=d(x,k.value,R),k!==null&&(E=s(k,E,b),M===null?N=k:M.sibling=k,M=k);return Ae&&mr(x,b),N}for(S=i(x,S);!k.done;b++,k=T.next())k=m(S,x,b,k.value,R),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?b:k.key),E=s(k,E,b),M===null?N=k:M.sibling=k,M=k);return t&&S.forEach(function(D){return e(x,D)}),Ae&&mr(x,b),N}function _(x,E,T,R){if(typeof T=="object"&&T!==null&&T.type===ss&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Sl:e:{for(var N=T.key,M=E;M!==null;){if(M.key===N){if(N=T.type,N===ss){if(M.tag===7){n(x,M.sibling),E=r(M,T.props.children),E.return=x,x=E;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===gi&&g_(N)===M.type){n(x,M.sibling),E=r(M,T.props),E.ref=To(x,M,T),E.return=x,x=E;break e}n(x,M);break}else e(x,M);M=M.sibling}T.type===ss?(E=Ar(T.props.children,x.mode,R,T.key),E.return=x,x=E):(R=yc(T.type,T.key,T.props,null,x.mode,R),R.ref=To(x,E,T),R.return=x,x=R)}return o(x);case rs:e:{for(M=T.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(x,E.sibling),E=r(E,T.children||[]),E.return=x,x=E;break e}else{n(x,E);break}else e(x,E);E=E.sibling}E=dd(T,x.mode,R),E.return=x,x=E}return o(x);case gi:return M=T._init,_(x,E,M(T._payload),R)}if(Do(T))return w(x,E,T,R);if(vo(T))return v(x,E,T,R);Ol(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(x,E.sibling),E=r(E,T),E.return=x,x=E):(n(x,E),E=hd(T,x.mode,R),E.return=x,x=E),o(x)):n(x,E)}return _}var Rs=n1(!0),i1=n1(!1),Hc=er(null),qc=null,fs=null,$p=null;function Wp(){$p=fs=qc=null}function Hp(t){var e=Hc.current;Ie(Hc),t._currentValue=e}function gf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function xs(t,e){qc=t,$p=fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if($p!==t)if(t={context:t,memoizedValue:e,next:null},fs===null){if(qc===null)throw Error(B(308));fs=t,qc.dependencies={lanes:0,firstContext:t}}else fs=fs.next=t;return e}var wr=null;function qp(t){wr===null?wr=[t]:wr.push(t)}function r1(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,qp(e)):(n.next=r.next,r.next=n),e.interleaved=n,ei(t,i)}function ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yi=!1;function Gp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,le&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ei(t,n)}return r=i.interleaved,r===null?(e.next=e,qp(i)):(e.next=r.next,r.next=e),i.interleaved=e,ei(t,n)}function hc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Np(t,n)}}function y_(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gc(t,e,n,i){var r=t.updateQueue;yi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(f=e,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(m,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(m,d,f):w,f==null)break e;d=Re({},d,f);break e;case 2:yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Mr|=o,t.lanes=o,t.memoizedState=d}}function __(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(B(191,r));r.call(i)}}}var Za={},Pn=er(Za),xa=er(Za),wa=er(Za);function Er(t){if(t===Za)throw Error(B(174));return t}function Kp(t,e){switch(xe(wa,e),xe(xa,t),xe(Pn,Za),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qd(e,t)}Ie(Pn),xe(Pn,e)}function Ns(){Ie(Pn),Ie(xa),Ie(wa)}function o1(t){Er(wa.current);var e=Er(Pn.current),n=Qd(e,t.type);e!==n&&(xe(xa,t),xe(Pn,n))}function Qp(t){xa.current===t&&(Ie(Pn),Ie(xa))}var ke=er(0);function Kc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sd=[];function Yp(){for(var t=0;t<sd.length;t++)sd[t]._workInProgressVersionPrimary=null;sd.length=0}var dc=oi.ReactCurrentDispatcher,od=oi.ReactCurrentBatchConfig,Dr=0,Pe=null,Qe=null,nt=null,Qc=!1,Yo=!1,Ea=0,uk=0;function dt(){throw Error(B(321))}function Xp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function Jp(t,e,n,i,r,s){if(Dr=s,Pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dc.current=t===null||t.memoizedState===null?pk:mk,t=n(i,r),Yo){s=0;do{if(Yo=!1,Ea=0,25<=s)throw Error(B(301));s+=1,nt=Qe=null,e.updateQueue=null,dc.current=gk,t=n(i,r)}while(Yo)}if(dc.current=Yc,e=Qe!==null&&Qe.next!==null,Dr=0,nt=Qe=Pe=null,Qc=!1,e)throw Error(B(300));return t}function Zp(){var t=Ea!==0;return Ea=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Pe.memoizedState=nt=t:nt=nt.next=t,nt}function an(){if(Qe===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=nt===null?Pe.memoizedState:nt.next;if(e!==null)nt=e,Qe=t;else{if(t===null)throw Error(B(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},nt===null?Pe.memoizedState=nt=t:nt=nt.next=t}return nt}function ba(t,e){return typeof e=="function"?e(t):e}function ad(t){var e=an(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=Qe,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Dr&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Pe.lanes|=h,Mr|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,yn(i,e.memoizedState)||(Vt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Pe.lanes|=s,Mr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ld(t){var e=an(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);yn(s,e.memoizedState)||(Vt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function a1(){}function l1(t,e){var n=Pe,i=an(),r=e(),s=!yn(i.memoizedState,r);if(s&&(i.memoizedState=r,Vt=!0),i=i.queue,em(h1.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Ta(9,u1.bind(null,n,i,r,e),void 0,null),rt===null)throw Error(B(349));Dr&30||c1(n,e,r)}return r}function c1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function u1(t,e,n,i){e.value=n,e.getSnapshot=i,d1(e)&&f1(t)}function h1(t,e,n){return n(function(){d1(e)&&f1(t)})}function d1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function f1(t){var e=ei(t,1);e!==null&&pn(e,t,1,-1)}function v_(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:t},e.queue=t,t=t.dispatch=fk.bind(null,Pe,t),[e.memoizedState,t]}function Ta(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function p1(){return an().memoizedState}function fc(t,e,n,i){var r=Sn();Pe.flags|=t,r.memoizedState=Ta(1|e,n,void 0,i===void 0?null:i)}function Mu(t,e,n,i){var r=an();i=i===void 0?null:i;var s=void 0;if(Qe!==null){var o=Qe.memoizedState;if(s=o.destroy,i!==null&&Xp(i,o.deps)){r.memoizedState=Ta(e,n,s,i);return}}Pe.flags|=t,r.memoizedState=Ta(1|e,n,s,i)}function x_(t,e){return fc(8390656,8,t,e)}function em(t,e){return Mu(2048,8,t,e)}function m1(t,e){return Mu(4,2,t,e)}function g1(t,e){return Mu(4,4,t,e)}function y1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _1(t,e,n){return n=n!=null?n.concat([t]):null,Mu(4,4,y1.bind(null,e,t),n)}function tm(){}function v1(t,e){var n=an();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Xp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function x1(t,e){var n=an();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Xp(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function w1(t,e,n){return Dr&21?(yn(n,e)||(n=Iw(),Pe.lanes|=n,Mr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function hk(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var i=od.transition;od.transition={};try{t(!1),e()}finally{me=n,od.transition=i}}function E1(){return an().memoizedState}function dk(t,e,n){var i=Mi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},b1(t))T1(e,n);else if(n=r1(t,e,n,i),n!==null){var r=It();pn(n,t,i,r),S1(n,e,i)}}function fk(t,e,n){var i=Mi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(b1(t))T1(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,yn(a,o)){var l=e.interleaved;l===null?(r.next=r,qp(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=r1(t,e,r,i),n!==null&&(r=It(),pn(n,t,i,r),S1(n,e,i))}}function b1(t){var e=t.alternate;return t===Pe||e!==null&&e===Pe}function T1(t,e){Yo=Qc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function S1(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Np(t,n)}}var Yc={readContext:on,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},pk={readContext:on,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:x_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fc(4194308,4,y1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return fc(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Sn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=dk.bind(null,Pe,t),[i.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:v_,useDebugValue:tm,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=v_(!1),e=t[0];return t=hk.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Pe,r=Sn();if(Ae){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),rt===null)throw Error(B(349));Dr&30||c1(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,x_(h1.bind(null,i,s,t),[t]),i.flags|=2048,Ta(9,u1.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Sn(),e=rt.identifierPrefix;if(Ae){var n=Gn,i=qn;n=(i&~(1<<32-fn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ea++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mk={readContext:on,useCallback:v1,useContext:on,useEffect:em,useImperativeHandle:_1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:x1,useReducer:ad,useRef:p1,useState:function(){return ad(ba)},useDebugValue:tm,useDeferredValue:function(t){var e=an();return w1(e,Qe.memoizedState,t)},useTransition:function(){var t=ad(ba)[0],e=an().memoizedState;return[t,e]},useMutableSource:a1,useSyncExternalStore:l1,useId:E1,unstable_isNewReconciler:!1},gk={readContext:on,useCallback:v1,useContext:on,useEffect:em,useImperativeHandle:_1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:x1,useReducer:ld,useRef:p1,useState:function(){return ld(ba)},useDebugValue:tm,useDeferredValue:function(t){var e=an();return Qe===null?e.memoizedState=t:w1(e,Qe.memoizedState,t)},useTransition:function(){var t=ld(ba)[0],e=an().memoizedState;return[t,e]},useMutableSource:a1,useSyncExternalStore:l1,useId:E1,unstable_isNewReconciler:!1};function un(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vu={isMounted:function(t){return(t=t._reactInternals)?$r(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=It(),r=Mi(t),s=Yn(i,r);s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,r),e!==null&&(pn(e,t,r,i),hc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=It(),r=Mi(t),s=Yn(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,r),e!==null&&(pn(e,t,r,i),hc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),i=Mi(t),r=Yn(n,i);r.tag=2,e!=null&&(r.callback=e),e=Ni(t,r,i),e!==null&&(pn(e,t,i,n),hc(e,t,i))}};function w_(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!ga(n,i)||!ga(r,s):!0}function I1(t,e,n){var i=!1,r=Wi,s=e.contextType;return typeof s=="object"&&s!==null?s=on(s):(r=Lt(e)?Rr:wt.current,i=e.contextTypes,s=(i=i!=null)?Cs(t,r):Wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vu,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function E_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Vu.enqueueReplaceState(e,e.state,null)}function _f(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Gp(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=on(s):(s=Lt(e)?Rr:wt.current,r.context=Cs(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(yf(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Vu.enqueueReplaceState(r,r.state,null),Gc(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ds(t,e){try{var n="",i=e;do n+=WI(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function cd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yk=typeof WeakMap=="function"?WeakMap:Map;function A1(t,e,n){n=Yn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Jc||(Jc=!0,Cf=i),vf(t,e)},n}function k1(t,e,n){n=Yn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){vf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vf(t,e),typeof i!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function b_(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new yk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Rk.bind(null,t,e,n),e.then(t,t))}function T_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S_(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yn(-1,1),e.tag=2,Ni(n,e,1))),n.lanes|=1),t)}var _k=oi.ReactCurrentOwner,Vt=!1;function St(t,e,n,i){e.child=t===null?i1(e,null,n,i):Rs(e,t.child,n,i)}function I_(t,e,n,i,r){n=n.render;var s=e.ref;return xs(e,r),i=Jp(t,e,n,i,s,r),n=Zp(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ti(t,e,r)):(Ae&&n&&Bp(e),e.flags|=1,St(t,e,i,r),e.child)}function A_(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!cm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,C1(t,e,s,i,r)):(t=yc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ga,n(o,i)&&t.ref===e.ref)return ti(t,e,r)}return e.flags|=1,t=Vi(s,i),t.ref=e.ref,t.return=e,e.child=t}function C1(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(ga(s,i)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,ti(t,e,r)}return xf(t,e,n,i,r)}function P1(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(ms,Ut),Ut|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(ms,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,xe(ms,Ut),Ut|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,xe(ms,Ut),Ut|=i;return St(t,e,r,n),e.child}function R1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xf(t,e,n,i,r){var s=Lt(n)?Rr:wt.current;return s=Cs(e,s),xs(e,r),n=Jp(t,e,n,i,s,r),i=Zp(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ti(t,e,r)):(Ae&&i&&Bp(e),e.flags|=1,St(t,e,n,r),e.child)}function k_(t,e,n,i,r){if(Lt(n)){var s=!0;Uc(e)}else s=!1;if(xs(e,r),e.stateNode===null)pc(t,e),I1(e,n,i),_f(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=on(c):(c=Lt(n)?Rr:wt.current,c=Cs(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&E_(e,o,i,c),yi=!1;var f=e.memoizedState;o.state=f,Gc(e,i,o,r),l=e.memoizedState,a!==i||f!==l||Ot.current||yi?(typeof h=="function"&&(yf(e,n,h,i),l=e.memoizedState),(a=yi||w_(e,n,a,i,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,s1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:un(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=on(l):(l=Lt(n)?Rr:wt.current,l=Cs(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&E_(e,o,i,l),yi=!1,f=e.memoizedState,o.state=f,Gc(e,i,o,r);var w=e.memoizedState;a!==d||f!==w||Ot.current||yi?(typeof m=="function"&&(yf(e,n,m,i),w=e.memoizedState),(c=yi||w_(e,n,c,i,f,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),o.props=i,o.state=w,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return wf(t,e,n,i,s,r)}function wf(t,e,n,i,r,s){R1(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&f_(e,n,!1),ti(t,e,s);i=e.stateNode,_k.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Rs(e,t.child,null,s),e.child=Rs(e,null,a,s)):St(t,e,a,s),e.memoizedState=i.state,r&&f_(e,n,!0),e.child}function N1(t){var e=t.stateNode;e.pendingContext?d_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d_(t,e.context,!1),Kp(t,e.containerInfo)}function C_(t,e,n,i,r){return Ps(),Up(r),e.flags|=256,St(t,e,n,i),e.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function bf(t){return{baseLanes:t,cachePool:null,transitions:null}}function D1(t,e,n){var i=e.pendingProps,r=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),xe(ke,r&1),t===null)return mf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ju(o,i,0,null),t=Ar(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=bf(n),e.memoizedState=Ef,t):nm(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return vk(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Vi(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Vi(a,s):(s=Ar(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?bf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ef,i}return s=t.child,t=s.sibling,i=Vi(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function nm(t,e){return e=ju({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ll(t,e,n,i){return i!==null&&Up(i),Rs(e,t.child,null,n),t=nm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vk(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=cd(Error(B(422))),Ll(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=ju({mode:"visible",children:i.children},r,0,null),s=Ar(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Rs(e,t.child,null,o),e.child.memoizedState=bf(o),e.memoizedState=Ef,s);if(!(e.mode&1))return Ll(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(B(419)),i=cd(s,i,void 0),Ll(t,e,o,i)}if(a=(o&t.childLanes)!==0,Vt||a){if(i=rt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ei(t,r),pn(i,t,r,-1))}return lm(),i=cd(Error(B(421))),Ll(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Nk.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Wt=Ri(r.nextSibling),qt=e,Ae=!0,dn=null,t!==null&&(Zt[en++]=qn,Zt[en++]=Gn,Zt[en++]=Nr,qn=t.id,Gn=t.overflow,Nr=e),e=nm(e,i.children),e.flags|=4096,e)}function P_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),gf(t.return,e,n)}function ud(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function M1(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(St(t,e,i.children,n),i=ke.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P_(t,n,e);else if(t.tag===19)P_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(xe(ke,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Kc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),ud(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Kc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}ud(e,!0,n,null,s);break;case"together":ud(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xk(t,e,n){switch(e.tag){case 3:N1(e),Ps();break;case 5:o1(e);break;case 1:Lt(e.type)&&Uc(e);break;case 4:Kp(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;xe(Hc,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(xe(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?D1(t,e,n):(xe(ke,ke.current&1),t=ti(t,e,n),t!==null?t.sibling:null);xe(ke,ke.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return M1(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),xe(ke,ke.current),i)break;return null;case 22:case 23:return e.lanes=0,P1(t,e,n)}return ti(t,e,n)}var V1,Tf,O1,L1;V1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tf=function(){};O1=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Er(Pn.current);var s=null;switch(n){case"input":r=Hd(t,r),i=Hd(t,i),s=[];break;case"select":r=Re({},r,{value:void 0}),i=Re({},i,{value:void 0}),s=[];break;case"textarea":r=Kd(t,r),i=Kd(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Bc)}Yd(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ca.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ca.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};L1=function(t,e,n,i){n!==i&&(e.flags|=4)};function So(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function wk(t,e,n){var i=e.pendingProps;switch(zp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Lt(e.type)&&zc(),ft(e),null;case 3:return i=e.stateNode,Ns(),Ie(Ot),Ie(wt),Yp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Vl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(Nf(dn),dn=null))),Tf(t,e),ft(e),null;case 5:Qp(e);var r=Er(wa.current);if(n=e.type,t!==null&&e.stateNode!=null)O1(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(B(166));return ft(e),null}if(t=Er(Pn.current),Vl(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[kn]=e,i[va]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(r=0;r<Vo.length;r++)be(Vo[r],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":Fy(i,s),be("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},be("invalid",i);break;case"textarea":zy(i,s),be("invalid",i)}Yd(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ml(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ml(i.textContent,a,t),r=["children",""+a]):ca.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",i)}switch(n){case"input":Il(i),By(i,s,!0);break;case"textarea":Il(i),Uy(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Bc)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[kn]=e,t[va]=i,V1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xd(n,i),n){case"dialog":be("cancel",t),be("close",t),r=i;break;case"iframe":case"object":case"embed":be("load",t),r=i;break;case"video":case"audio":for(r=0;r<Vo.length;r++)be(Vo[r],t);r=i;break;case"source":be("error",t),r=i;break;case"img":case"image":case"link":be("error",t),be("load",t),r=i;break;case"details":be("toggle",t),r=i;break;case"input":Fy(t,i),r=Hd(t,i),be("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Re({},i,{value:void 0}),be("invalid",t);break;case"textarea":zy(t,i),r=Kd(t,i),be("invalid",t);break;default:r=i}Yd(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?pw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ua(t,l):typeof l=="number"&&ua(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ca.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",t):l!=null&&Ip(t,s,l,o))}switch(n){case"input":Il(t),By(t,i,!1);break;case"textarea":Il(t),Uy(t);break;case"option":i.value!=null&&t.setAttribute("value",""+$i(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?gs(t,!!i.multiple,s,!1):i.defaultValue!=null&&gs(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Bc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)L1(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(B(166));if(n=Er(wa.current),Er(Pn.current),Vl(e)){if(i=e.stateNode,n=e.memoizedProps,i[kn]=e,(s=i.nodeValue!==n)&&(t=qt,t!==null))switch(t.tag){case 3:Ml(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ml(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[kn]=e,e.stateNode=i}return ft(e),null;case 13:if(Ie(ke),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Wt!==null&&e.mode&1&&!(e.flags&128))t1(),Ps(),e.flags|=98560,s=!1;else if(s=Vl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[kn]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),s=!1}else dn!==null&&(Nf(dn),dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Xe===0&&(Xe=3):lm())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return Ns(),Tf(t,e),t===null&&ya(e.stateNode.containerInfo),ft(e),null;case 10:return Hp(e.type._context),ft(e),null;case 17:return Lt(e.type)&&zc(),ft(e),null;case 19:if(Ie(ke),s=e.memoizedState,s===null)return ft(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)So(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kc(t),o!==null){for(e.flags|=128,So(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&je()>Ms&&(e.flags|=128,i=!0,So(s,!1),e.lanes=4194304)}else{if(!i)if(t=Kc(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),So(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return ft(e),null}else 2*je()-s.renderingStartTime>Ms&&n!==1073741824&&(e.flags|=128,i=!0,So(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=je(),e.sibling=null,n=ke.current,xe(ke,i?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return am(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ut&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function Ek(t,e){switch(zp(e),e.tag){case 1:return Lt(e.type)&&zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ns(),Ie(Ot),Ie(wt),Yp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qp(e),null;case 13:if(Ie(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(ke),null;case 4:return Ns(),null;case 10:return Hp(e.type._context),null;case 22:case 23:return am(),null;case 24:return null;default:return null}}var jl=!1,yt=!1,bk=typeof WeakSet=="function"?WeakSet:Set,H=null;function ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ve(t,e,i)}else n.current=null}function Sf(t,e,n){try{n()}catch(i){Ve(t,e,i)}}var R_=!1;function Tk(t,e){if(lf=Lc,t=Uw(),Fp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===r&&(a=o),f===s&&++h===i&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cf={focusedElem:t,selectionRange:n},Lc=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:un(e.type,v),_);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(R){Ve(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return w=R_,R_=!1,w}function Xo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Sf(e,n,s)}r=r.next}while(r!==i)}}function Ou(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function If(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function j1(t){var e=t.alternate;e!==null&&(t.alternate=null,j1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[va],delete e[df],delete e[ok],delete e[ak])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F1(t){return t.tag===5||t.tag===3||t.tag===4}function N_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Af(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bc));else if(i!==4&&(t=t.child,t!==null))for(Af(t,e,n),t=t.sibling;t!==null;)Af(t,e,n),t=t.sibling}function kf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(kf(t,e,n),t=t.sibling;t!==null;)kf(t,e,n),t=t.sibling}var st=null,hn=!1;function pi(t,e,n){for(n=n.child;n!==null;)B1(t,e,n),n=n.sibling}function B1(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(ku,n)}catch{}switch(n.tag){case 5:yt||ps(n,e);case 6:var i=st,r=hn;st=null,pi(t,e,n),st=i,hn=r,st!==null&&(hn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(hn?(t=st,n=n.stateNode,t.nodeType===8?id(t.parentNode,n):t.nodeType===1&&id(t,n),pa(t)):id(st,n.stateNode));break;case 4:i=st,r=hn,st=n.stateNode.containerInfo,hn=!0,pi(t,e,n),st=i,hn=r;break;case 0:case 11:case 14:case 15:if(!yt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sf(n,e,o),r=r.next}while(r!==i)}pi(t,e,n);break;case 1:if(!yt&&(ps(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ve(n,e,a)}pi(t,e,n);break;case 21:pi(t,e,n);break;case 22:n.mode&1?(yt=(i=yt)||n.memoizedState!==null,pi(t,e,n),yt=i):pi(t,e,n);break;default:pi(t,e,n)}}function D_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bk),e.forEach(function(i){var r=Dk.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,hn=!1;break e;case 3:st=a.stateNode.containerInfo,hn=!0;break e;case 4:st=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(st===null)throw Error(B(160));B1(s,o,r),st=null,hn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Ve(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)z1(e,t),e=e.sibling}function z1(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),En(t),i&4){try{Xo(3,t,t.return),Ou(3,t)}catch(v){Ve(t,t.return,v)}try{Xo(5,t,t.return)}catch(v){Ve(t,t.return,v)}}break;case 1:cn(e,t),En(t),i&512&&n!==null&&ps(n,n.return);break;case 5:if(cn(e,t),En(t),i&512&&n!==null&&ps(n,n.return),t.flags&32){var r=t.stateNode;try{ua(r,"")}catch(v){Ve(t,t.return,v)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cw(r,s),Xd(a,o);var c=Xd(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?pw(r,d):h==="dangerouslySetInnerHTML"?dw(r,d):h==="children"?ua(r,d):Ip(r,h,d,c)}switch(a){case"input":qd(r,s);break;case"textarea":uw(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?gs(r,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?gs(r,!!s.multiple,s.defaultValue,!0):gs(r,!!s.multiple,s.multiple?[]:"",!1))}r[va]=s}catch(v){Ve(t,t.return,v)}}break;case 6:if(cn(e,t),En(t),i&4){if(t.stateNode===null)throw Error(B(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(v){Ve(t,t.return,v)}}break;case 3:if(cn(e,t),En(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{pa(e.containerInfo)}catch(v){Ve(t,t.return,v)}break;case 4:cn(e,t),En(t);break;case 13:cn(e,t),En(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(sm=je())),i&4&&D_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(c=yt)||h,cn(e,t),yt=c):cn(e,t),En(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(d=H=h;H!==null;){switch(f=H,m=f.child,f.tag){case 0:case 11:case 14:case 15:Xo(4,f,f.return);break;case 1:ps(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Ve(i,n,v)}}break;case 5:ps(f,f.return);break;case 22:if(f.memoizedState!==null){V_(d);continue}}m!==null?(m.return=f,H=m):V_(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fw("display",o))}catch(v){Ve(t,t.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Ve(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:cn(e,t),En(t),i&4&&D_(t);break;case 21:break;default:cn(e,t),En(t)}}function En(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(F1(n)){var i=n;break e}n=n.return}throw Error(B(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ua(r,""),i.flags&=-33);var s=N_(t);kf(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=N_(t);Af(t,a,o);break;default:throw Error(B(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sk(t,e,n){H=t,U1(t)}function U1(t,e,n){for(var i=(t.mode&1)!==0;H!==null;){var r=H,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||jl;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||yt;a=jl;var c=yt;if(jl=o,(yt=l)&&!c)for(H=r;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?O_(r):l!==null?(l.return=o,H=l):O_(r);for(;s!==null;)H=s,U1(s),s=s.sibling;H=r,jl=a,yt=c}M_(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,H=s):M_(t)}}function M_(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||Ou(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!yt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:un(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&__(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}__(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&pa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}yt||e.flags&512&&If(e)}catch(f){Ve(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function V_(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function O_(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ou(4,e)}catch(l){Ve(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Ve(e,r,l)}}var s=e.return;try{If(e)}catch(l){Ve(e,s,l)}break;case 5:var o=e.return;try{If(e)}catch(l){Ve(e,o,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var Ik=Math.ceil,Xc=oi.ReactCurrentDispatcher,im=oi.ReactCurrentOwner,sn=oi.ReactCurrentBatchConfig,le=0,rt=null,$e=null,lt=0,Ut=0,ms=er(0),Xe=0,Sa=null,Mr=0,Lu=0,rm=0,Jo=null,Nt=null,sm=0,Ms=1/0,Un=null,Jc=!1,Cf=null,Di=null,Fl=!1,wi=null,Zc=0,Zo=0,Pf=null,mc=-1,gc=0;function It(){return le&6?je():mc!==-1?mc:mc=je()}function Mi(t){return t.mode&1?le&2&&lt!==0?lt&-lt:ck.transition!==null?(gc===0&&(gc=Iw()),gc):(t=me,t!==0||(t=window.event,t=t===void 0?16:Dw(t.type)),t):1}function pn(t,e,n,i){if(50<Zo)throw Zo=0,Pf=null,Error(B(185));Ya(t,n,i),(!(le&2)||t!==rt)&&(t===rt&&(!(le&2)&&(Lu|=n),Xe===4&&vi(t,lt)),jt(t,i),n===1&&le===0&&!(e.mode&1)&&(Ms=je()+500,Du&&tr()))}function jt(t,e){var n=t.callbackNode;cA(t,e);var i=Oc(t,t===rt?lt:0);if(i===0)n!==null&&Hy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Hy(n),e===1)t.tag===0?lk(L_.bind(null,t)):Jw(L_.bind(null,t)),rk(function(){!(le&6)&&tr()}),n=null;else{switch(Aw(i)){case 1:n=Rp;break;case 4:n=Tw;break;case 16:n=Vc;break;case 536870912:n=Sw;break;default:n=Vc}n=Y1(n,$1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $1(t,e){if(mc=-1,gc=0,le&6)throw Error(B(327));var n=t.callbackNode;if(ws()&&t.callbackNode!==n)return null;var i=Oc(t,t===rt?lt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=eu(t,i);else{e=i;var r=le;le|=2;var s=H1();(rt!==t||lt!==e)&&(Un=null,Ms=je()+500,Ir(t,e));do try{Ck();break}catch(a){W1(t,a)}while(!0);Wp(),Xc.current=s,le=r,$e!==null?e=0:(rt=null,lt=0,e=Xe)}if(e!==0){if(e===2&&(r=nf(t),r!==0&&(i=r,e=Rf(t,r))),e===1)throw n=Sa,Ir(t,0),vi(t,i),jt(t,je()),n;if(e===6)vi(t,i);else{if(r=t.current.alternate,!(i&30)&&!Ak(r)&&(e=eu(t,i),e===2&&(s=nf(t),s!==0&&(i=s,e=Rf(t,s))),e===1))throw n=Sa,Ir(t,0),vi(t,i),jt(t,je()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(B(345));case 2:gr(t,Nt,Un);break;case 3:if(vi(t,i),(i&130023424)===i&&(e=sm+500-je(),10<e)){if(Oc(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){It(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=hf(gr.bind(null,t,Nt,Un),e);break}gr(t,Nt,Un);break;case 4:if(vi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-fn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=je()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ik(i/1960))-i,10<i){t.timeoutHandle=hf(gr.bind(null,t,Nt,Un),i);break}gr(t,Nt,Un);break;case 5:gr(t,Nt,Un);break;default:throw Error(B(329))}}}return jt(t,je()),t.callbackNode===n?$1.bind(null,t):null}function Rf(t,e){var n=Jo;return t.current.memoizedState.isDehydrated&&(Ir(t,e).flags|=256),t=eu(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&Nf(e)),t}function Nf(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function Ak(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!yn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~rm,e&=~Lu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),i=1<<n;t[n]=-1,e&=~i}}function L_(t){if(le&6)throw Error(B(327));ws();var e=Oc(t,0);if(!(e&1))return jt(t,je()),null;var n=eu(t,e);if(t.tag!==0&&n===2){var i=nf(t);i!==0&&(e=i,n=Rf(t,i))}if(n===1)throw n=Sa,Ir(t,0),vi(t,e),jt(t,je()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gr(t,Nt,Un),jt(t,je()),null}function om(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Ms=je()+500,Du&&tr())}}function Vr(t){wi!==null&&wi.tag===0&&!(le&6)&&ws();var e=le;le|=1;var n=sn.transition,i=me;try{if(sn.transition=null,me=1,t)return t()}finally{me=i,sn.transition=n,le=e,!(le&6)&&tr()}}function am(){Ut=ms.current,Ie(ms)}function Ir(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ik(n)),$e!==null)for(n=$e.return;n!==null;){var i=n;switch(zp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&zc();break;case 3:Ns(),Ie(Ot),Ie(wt),Yp();break;case 5:Qp(i);break;case 4:Ns();break;case 13:Ie(ke);break;case 19:Ie(ke);break;case 10:Hp(i.type._context);break;case 22:case 23:am()}n=n.return}if(rt=t,$e=t=Vi(t.current,null),lt=Ut=e,Xe=0,Sa=null,rm=Lu=Mr=0,Nt=Jo=null,wr!==null){for(e=0;e<wr.length;e++)if(n=wr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}wr=null}return t}function W1(t,e){do{var n=$e;try{if(Wp(),dc.current=Yc,Qc){for(var i=Pe.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Qc=!1}if(Dr=0,nt=Qe=Pe=null,Yo=!1,Ea=0,im.current=null,n===null||n.return===null){Xe=1,Sa=e,$e=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=T_(o);if(m!==null){m.flags&=-257,S_(m,o,a,s,e),m.mode&1&&b_(s,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){b_(s,c,e),lm();break e}l=Error(B(426))}}else if(Ae&&a.mode&1){var _=T_(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),S_(_,o,a,s,e),Up(Ds(l,a));break e}}s=l=Ds(l,a),Xe!==4&&(Xe=2),Jo===null?Jo=[s]:Jo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=A1(s,l,e);y_(s,x);break e;case 1:a=l;var E=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Di===null||!Di.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=k1(s,a,e);y_(s,R);break e}}s=s.return}while(s!==null)}G1(n)}catch(N){e=N,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function H1(){var t=Xc.current;return Xc.current=Yc,t===null?Yc:t}function lm(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),rt===null||!(Mr&268435455)&&!(Lu&268435455)||vi(rt,lt)}function eu(t,e){var n=le;le|=2;var i=H1();(rt!==t||lt!==e)&&(Un=null,Ir(t,e));do try{kk();break}catch(r){W1(t,r)}while(!0);if(Wp(),le=n,Xc.current=i,$e!==null)throw Error(B(261));return rt=null,lt=0,Xe}function kk(){for(;$e!==null;)q1($e)}function Ck(){for(;$e!==null&&!eA();)q1($e)}function q1(t){var e=Q1(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?G1(t):$e=e,im.current=null}function G1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ek(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,$e=null;return}}else if(n=wk(n,e,Ut),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);Xe===0&&(Xe=5)}function gr(t,e,n){var i=me,r=sn.transition;try{sn.transition=null,me=1,Pk(t,e,n,i)}finally{sn.transition=r,me=i}return null}function Pk(t,e,n,i){do ws();while(wi!==null);if(le&6)throw Error(B(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uA(t,s),t===rt&&($e=rt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fl||(Fl=!0,Y1(Vc,function(){return ws(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=sn.transition,sn.transition=null;var o=me;me=1;var a=le;le|=4,im.current=null,Tk(t,n),z1(n,t),YA(cf),Lc=!!lf,cf=lf=null,t.current=n,Sk(n),tA(),le=a,me=o,sn.transition=s}else t.current=n;if(Fl&&(Fl=!1,wi=t,Zc=r),s=t.pendingLanes,s===0&&(Di=null),rA(n.stateNode),jt(t,je()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Jc)throw Jc=!1,t=Cf,Cf=null,t;return Zc&1&&t.tag!==0&&ws(),s=t.pendingLanes,s&1?t===Pf?Zo++:(Zo=0,Pf=t):Zo=0,tr(),null}function ws(){if(wi!==null){var t=Aw(Zc),e=sn.transition,n=me;try{if(sn.transition=null,me=16>t?16:t,wi===null)var i=!1;else{if(t=wi,wi=null,Zc=0,le&6)throw Error(B(331));var r=le;for(le|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:Xo(8,h,s)}var d=h.child;if(d!==null)d.return=h,H=d;else for(;H!==null;){h=H;var f=h.sibling,m=h.return;if(j1(h),h===c){H=null;break}if(f!==null){f.return=m,H=f;break}H=m}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xo(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,H=x;break e}H=s.return}}var E=t.current;for(H=E;H!==null;){o=H;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,H=T;else e:for(o=E;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ou(9,a)}}catch(N){Ve(a,a.return,N)}if(a===o){H=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,H=R;break e}H=a.return}}if(le=r,tr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(ku,t)}catch{}i=!0}return i}finally{me=n,sn.transition=e}}return!1}function j_(t,e,n){e=Ds(n,e),e=A1(t,e,1),t=Ni(t,e,1),e=It(),t!==null&&(Ya(t,1,e),jt(t,e))}function Ve(t,e,n){if(t.tag===3)j_(t,t,n);else for(;e!==null;){if(e.tag===3){j_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Di===null||!Di.has(i))){t=Ds(n,t),t=k1(e,t,1),e=Ni(e,t,1),t=It(),e!==null&&(Ya(e,1,t),jt(e,t));break}}e=e.return}}function Rk(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(lt&n)===n&&(Xe===4||Xe===3&&(lt&130023424)===lt&&500>je()-sm?Ir(t,0):rm|=n),jt(t,e)}function K1(t,e){e===0&&(t.mode&1?(e=Cl,Cl<<=1,!(Cl&130023424)&&(Cl=4194304)):e=1);var n=It();t=ei(t,e),t!==null&&(Ya(t,e,n),jt(t,n))}function Nk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K1(t,n)}function Dk(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(B(314))}i!==null&&i.delete(e),K1(t,n)}var Q1;Q1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,xk(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,Ae&&e.flags&1048576&&Zw(e,Wc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;pc(t,e),t=e.pendingProps;var r=Cs(e,wt.current);xs(e,n),r=Jp(null,e,i,t,r,n);var s=Zp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(i)?(s=!0,Uc(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Gp(e),r.updater=Vu,e.stateNode=r,r._reactInternals=e,_f(e,i,t,n),e=wf(null,e,i,!0,s,n)):(e.tag=0,Ae&&s&&Bp(e),St(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(pc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Vk(i),t=un(i,t),r){case 0:e=xf(null,e,i,t,n);break e;case 1:e=k_(null,e,i,t,n);break e;case 11:e=I_(null,e,i,t,n);break e;case 14:e=A_(null,e,i,un(i.type,t),n);break e}throw Error(B(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:un(i,r),xf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:un(i,r),k_(t,e,i,r,n);case 3:e:{if(N1(e),t===null)throw Error(B(387));i=e.pendingProps,s=e.memoizedState,r=s.element,s1(t,e),Gc(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ds(Error(B(423)),e),e=C_(t,e,i,n,r);break e}else if(i!==r){r=Ds(Error(B(424)),e),e=C_(t,e,i,n,r);break e}else for(Wt=Ri(e.stateNode.containerInfo.firstChild),qt=e,Ae=!0,dn=null,n=i1(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),i===r){e=ti(t,e,n);break e}St(t,e,i,n)}e=e.child}return e;case 5:return o1(e),t===null&&mf(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,uf(i,r)?o=null:s!==null&&uf(i,s)&&(e.flags|=32),R1(t,e),St(t,e,o,n),e.child;case 6:return t===null&&mf(e),null;case 13:return D1(t,e,n);case 4:return Kp(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Rs(e,null,i,n):St(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:un(i,r),I_(t,e,i,r,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,xe(Hc,i._currentValue),i._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===r.children&&!Ot.current){e=ti(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Yn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}St(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,xs(e,n),r=on(r),i=i(r),e.flags|=1,St(t,e,i,n),e.child;case 14:return i=e.type,r=un(i,e.pendingProps),r=un(i.type,r),A_(t,e,i,r,n);case 15:return C1(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:un(i,r),pc(t,e),e.tag=1,Lt(i)?(t=!0,Uc(e)):t=!1,xs(e,n),I1(e,i,r),_f(e,i,r,n),wf(null,e,i,!0,t,n);case 19:return M1(t,e,n);case 22:return P1(t,e,n)}throw Error(B(156,e.tag))};function Y1(t,e){return bw(t,e)}function Mk(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,i){return new Mk(t,e,n,i)}function cm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vk(t){if(typeof t=="function")return cm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kp)return 11;if(t===Cp)return 14}return 2}function Vi(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yc(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")cm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ss:return Ar(n.children,r,s,e);case Ap:o=8,r|=8;break;case zd:return t=nn(12,n,e,r|2),t.elementType=zd,t.lanes=s,t;case Ud:return t=nn(13,n,e,r),t.elementType=Ud,t.lanes=s,t;case $d:return t=nn(19,n,e,r),t.elementType=$d,t.lanes=s,t;case ow:return ju(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rw:o=10;break e;case sw:o=9;break e;case kp:o=11;break e;case Cp:o=14;break e;case gi:o=16,i=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=nn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Ar(t,e,n,i){return t=nn(7,t,i,e),t.lanes=n,t}function ju(t,e,n,i){return t=nn(22,t,i,e),t.elementType=ow,t.lanes=n,t.stateNode={isHidden:!1},t}function hd(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function dd(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ok(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qh(0),this.expirationTimes=qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function um(t,e,n,i,r,s,o,a,l){return t=new Ok(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=nn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gp(s),t}function Lk(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function X1(t){if(!t)return Wi;t=t._reactInternals;e:{if($r(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Lt(n))return Xw(t,n,e)}return e}function J1(t,e,n,i,r,s,o,a,l){return t=um(n,i,!0,t,r,s,o,a,l),t.context=X1(null),n=t.current,i=It(),r=Mi(n),s=Yn(i,r),s.callback=e??null,Ni(n,s,r),t.current.lanes=r,Ya(t,r,i),jt(t,i),t}function Fu(t,e,n,i){var r=e.current,s=It(),o=Mi(r);return n=X1(n),e.context===null?e.context=n:e.pendingContext=n,e=Yn(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Ni(r,e,o),t!==null&&(pn(t,r,o,s),hc(t,r,o)),o}function tu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hm(t,e){F_(t,e),(t=t.alternate)&&F_(t,e)}function jk(){return null}var Z1=typeof reportError=="function"?reportError:function(t){console.error(t)};function dm(t){this._internalRoot=t}Bu.prototype.render=dm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Fu(t,e,null,null)};Bu.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vr(function(){Fu(null,t,null,null)}),e[Zn]=null}};function Bu(t){this._internalRoot=t}Bu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_i.length&&e!==0&&e<_i[n].priority;n++);_i.splice(n,0,t),n===0&&Nw(t)}};function fm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B_(){}function Fk(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=tu(o);s.call(c)}}var o=J1(e,i,t,0,null,!1,!1,"",B_);return t._reactRootContainer=o,t[Zn]=o.current,ya(t.nodeType===8?t.parentNode:t),Vr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=tu(l);a.call(c)}}var l=um(t,0,!1,null,null,!1,!1,"",B_);return t._reactRootContainer=l,t[Zn]=l.current,ya(t.nodeType===8?t.parentNode:t),Vr(function(){Fu(e,l,n,i)}),l}function Uu(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=tu(o);a.call(l)}}Fu(e,o,t,r)}else o=Fk(n,e,t,r,i);return tu(o)}kw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mo(e.pendingLanes);n!==0&&(Np(e,n|1),jt(e,je()),!(le&6)&&(Ms=je()+500,tr()))}break;case 13:Vr(function(){var i=ei(t,1);if(i!==null){var r=It();pn(i,t,1,r)}}),hm(t,1)}};Dp=function(t){if(t.tag===13){var e=ei(t,134217728);if(e!==null){var n=It();pn(e,t,134217728,n)}hm(t,134217728)}};Cw=function(t){if(t.tag===13){var e=Mi(t),n=ei(t,e);if(n!==null){var i=It();pn(n,t,e,i)}hm(t,e)}};Pw=function(){return me};Rw=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};Zd=function(t,e,n){switch(e){case"input":if(qd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Nu(i);if(!r)throw Error(B(90));lw(i),qd(i,r)}}}break;case"textarea":uw(t,n);break;case"select":e=n.value,e!=null&&gs(t,!!n.multiple,e,!1)}};yw=om;_w=Vr;var Bk={usingClientEntryPoint:!1,Events:[Ja,cs,Nu,mw,gw,om]},Io={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zk={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ww(t),t===null?null:t.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{ku=Bl.inject(zk),Cn=Bl}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bk;Yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fm(e))throw Error(B(200));return Lk(t,e,null,n)};Yt.createRoot=function(t,e){if(!fm(t))throw Error(B(299));var n=!1,i="",r=Z1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=um(t,1,!1,null,null,n,!1,i,r),t[Zn]=e.current,ya(t.nodeType===8?t.parentNode:t),new dm(e)};Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=ww(e),t=t===null?null:t.stateNode,t};Yt.flushSync=function(t){return Vr(t)};Yt.hydrate=function(t,e,n){if(!zu(e))throw Error(B(200));return Uu(null,t,e,!0,n)};Yt.hydrateRoot=function(t,e,n){if(!fm(t))throw Error(B(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Z1;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=J1(e,null,t,1,n??null,r,!1,s,o),t[Zn]=e.current,ya(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Bu(e)};Yt.render=function(t,e,n){if(!zu(e))throw Error(B(200));return Uu(null,t,e,!1,n)};Yt.unmountComponentAtNode=function(t){if(!zu(t))throw Error(B(40));return t._reactRootContainer?(Vr(function(){Uu(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1};Yt.unstable_batchedUpdates=om;Yt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!zu(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Uu(t,e,n,!1,i)};Yt.version="18.3.1-next-f1338f8080-20240426";function eE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eE)}catch(t){console.error(t)}}eE(),ew.exports=Yt;var Uk=ew.exports,tE,z_=Uk;tE=z_.createRoot,z_.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ia.apply(this,arguments)}var Ei;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ei||(Ei={}));const U_="popstate";function $k(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Df("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:nu(r)}return Hk(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wk(){return Math.random().toString(36).substr(2,8)}function $_(t,e){return{usr:t.state,key:t.key,idx:e}}function Df(t,e,n,i){return n===void 0&&(n=null),Ia({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ks(e):e,{state:n,key:e&&e.key||i||Wk()})}function nu(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Hk(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ei.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Ia({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Ei.Pop;let _=h(),x=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:x})}function f(_,x){a=Ei.Push;let E=Df(v.location,_,x);c=h()+1;let T=$_(E,c),R=v.createHref(E);try{o.pushState(T,"",R)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(R)}s&&l&&l({action:a,location:v.location,delta:1})}function m(_,x){a=Ei.Replace;let E=Df(v.location,_,x);c=h();let T=$_(E,c),R=v.createHref(E);o.replaceState(T,"",R),s&&l&&l({action:a,location:v.location,delta:0})}function w(_){let x=r.location.origin!=="null"?r.location.origin:r.location.href,E=typeof _=="string"?_:nu(_);return E=E.replace(/ $/,"%20"),qe(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let v={get action(){return a},get location(){return t(r,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(U_,d),l=_,()=>{r.removeEventListener(U_,d),l=null}},createHref(_){return e(r,_)},createURL:w,encodeLocation(_){let x=w(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(_){return o.go(_)}};return v}var W_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W_||(W_={}));function qk(t,e,n){return n===void 0&&(n="/"),Gk(t,e,n)}function Gk(t,e,n,i){let r=typeof e=="string"?Ks(e):e,s=mm(r.pathname||"/",n);if(s==null)return null;let o=nE(t);Kk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=oC(s);a=iC(o[l],c)}return a}function nE(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Oi([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nE(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:tC(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of iE(s.path))r(s,o,l)}),e}function iE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=iE(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Kk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Qk=/^:[\w-]+$/,Yk=3,Xk=2,Jk=1,Zk=10,eC=-2,H_=t=>t==="*";function tC(t,e){let n=t.split("/"),i=n.length;return n.some(H_)&&(i+=eC),e&&(i+=Xk),n.filter(r=>!H_(r)).reduce((r,s)=>r+(Qk.test(s)?Yk:s===""?Jk:Zk),i)}function nC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function iC(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=rC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Oi([s,d.pathname]),pathnameBase:hC(Oi([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Oi([s,d.pathnameBase]))}return o}function rC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=sC(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,h,d)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[d];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function sC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function oC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const aC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lC=t=>aC.test(t);function cC(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Ks(t):t,s;if(n)if(lC(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),pm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=q_(n.substring(1),"/"):s=q_(n,e)}else s=e;return{pathname:s,search:dC(i),hash:fC(r)}}function q_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function fd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rE(t,e){let n=uC(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function sE(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Ks(t):(r=Ia({},t),qe(!r.pathname||!r.pathname.includes("?"),fd("?","pathname","search",r)),qe(!r.pathname||!r.pathname.includes("#"),fd("#","pathname","hash",r)),qe(!r.search||!r.search.includes("#"),fd("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=cC(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),hC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oE=["post","put","patch","delete"];new Set(oE);const mC=["get",...oE];new Set(mC);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Aa.apply(this,arguments)}const gm=F.createContext(null),gC=F.createContext(null),Wr=F.createContext(null),$u=F.createContext(null),nr=F.createContext({outlet:null,matches:[],isDataRoute:!1}),aE=F.createContext(null);function yC(t,e){let{relative:n}=e===void 0?{}:e;el()||qe(!1);let{basename:i,navigator:r}=F.useContext(Wr),{hash:s,pathname:o,search:a}=cE(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Oi([i,o])),r.createHref({pathname:l,search:a,hash:s})}function el(){return F.useContext($u)!=null}function tl(){return el()||qe(!1),F.useContext($u).location}function lE(t){F.useContext(Wr).static||F.useLayoutEffect(t)}function _C(){let{isDataRoute:t}=F.useContext(nr);return t?NC():vC()}function vC(){el()||qe(!1);let t=F.useContext(gm),{basename:e,future:n,navigator:i}=F.useContext(Wr),{matches:r}=F.useContext(nr),{pathname:s}=tl(),o=JSON.stringify(rE(r,n.v7_relativeSplatPath)),a=F.useRef(!1);return lE(()=>{a.current=!0}),F.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=sE(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Oi([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,o,s,t])}function xC(){let{matches:t}=F.useContext(nr),e=t[t.length-1];return e?e.params:{}}function cE(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=F.useContext(Wr),{matches:r}=F.useContext(nr),{pathname:s}=tl(),o=JSON.stringify(rE(r,i.v7_relativeSplatPath));return F.useMemo(()=>sE(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function wC(t,e){return EC(t,e)}function EC(t,e,n,i){el()||qe(!1);let{navigator:r}=F.useContext(Wr),{matches:s}=F.useContext(nr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=tl(),h;if(e){var d;let _=typeof e=="string"?Ks(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||qe(!1),h=_}else h=c;let f=h.pathname||"/",m=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=qk(t,{pathname:m}),v=AC(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Oi([l,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Oi([l,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,i);return e&&v?F.createElement($u.Provider,{value:{location:Aa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ei.Pop}},v):v}function bC(){let t=RC(),e=pC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:r},n):null,null)}const TC=F.createElement(bC,null);class SC extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(nr.Provider,{value:this.props.routeContext},F.createElement(aE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IC(t){let{routeContext:e,match:n,children:i}=t,r=F.useContext(gm);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(nr.Provider,{value:e},i)}function AC(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||qe(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:m}=n,w=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let m,w=!1,v=null,_=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||TC,l&&(c<0&&f===0?(DC("route-fallback"),w=!0,_=null):c===f&&(w=!0,_=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),E=()=>{let T;return m?T=v:w?T=_:d.route.Component?T=F.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=h,F.createElement(IC,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?F.createElement(SC,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}var uE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uE||{}),hE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hE||{});function kC(t){let e=F.useContext(gm);return e||qe(!1),e}function CC(t){let e=F.useContext(gC);return e||qe(!1),e}function PC(t){let e=F.useContext(nr);return e||qe(!1),e}function dE(t){let e=PC(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function RC(){var t;let e=F.useContext(aE),n=CC(),i=dE();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function NC(){let{router:t}=kC(uE.UseNavigateStable),e=dE(hE.UseNavigateStable),n=F.useRef(!1);return lE(()=>{n.current=!0}),F.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Aa({fromRouteId:e},s)))},[t,e])}const G_={};function DC(t,e,n){G_[t]||(G_[t]=!0)}function MC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _c(t){qe(!1)}function VC(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ei.Pop,navigator:s,static:o=!1,future:a}=t;el()&&qe(!1);let l=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:s,static:o,future:Aa({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Ks(i));let{pathname:h="/",search:d="",hash:f="",state:m=null,key:w="default"}=i,v=F.useMemo(()=>{let _=mm(h,l);return _==null?null:{location:{pathname:_,search:d,hash:f,state:m,key:w},navigationType:r}},[l,h,d,f,m,w,r]);return v==null?null:F.createElement(Wr.Provider,{value:c},F.createElement($u.Provider,{children:n,value:v}))}function OC(t){let{children:e,location:n}=t;return wC(Mf(e),n)}new Promise(()=>{});function Mf(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(i,r)=>{if(!F.isValidElement(i))return;let s=[...e,r];if(i.type===F.Fragment){n.push.apply(n,Mf(i.props.children,s));return}i.type!==_c&&qe(!1),!i.props.index||!i.props.children||qe(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Mf(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vf.apply(this,arguments)}function LC(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function jC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FC(t,e){return t.button===0&&(!e||e==="_self")&&!jC(t)}const BC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zC="6";try{window.__reactRouterVersion=zC}catch{}const UC="startTransition",K_=RI[UC];function $C(t){let{basename:e,children:n,future:i,window:r}=t,s=F.useRef();s.current==null&&(s.current=$k({window:r,v5Compat:!0}));let o=s.current,[a,l]=F.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},h=F.useCallback(d=>{c&&K_?K_(()=>l(d)):l(d)},[l,c]);return F.useLayoutEffect(()=>o.listen(h),[o,h]),F.useEffect(()=>MC(i),[i]),F.createElement(VC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const WC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=F.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d}=e,f=LC(e,BC),{basename:m}=F.useContext(Wr),w,v=!1;if(typeof c=="string"&&HC.test(c)&&(w=c,WC))try{let T=new URL(window.location.href),R=c.startsWith("//")?new URL(T.protocol+c):new URL(c),N=mm(R.pathname,m);R.origin===T.origin&&N!=null?c=N+R.search+R.hash:v=!0}catch{}let _=yC(c,{relative:r}),x=qC(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,viewTransition:d});function E(T){i&&i(T),T.defaultPrevented||x(T)}return F.createElement("a",Vf({},f,{href:w||_,onClick:v||s?i:E,ref:n,target:l}))});var Q_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Q_||(Q_={}));var Y_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Y_||(Y_={}));function qC(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=_C(),c=tl(),h=cE(t,{relative:o});return F.useCallback(d=>{if(FC(d,n)){d.preventDefault();let f=i!==void 0?i:nu(c)===nu(h);l(t,{replace:f,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,i,r,n,t,s,o,a])}const GC={},X_=t=>{let e;const n=new Set,i=(h,d)=>{const f=typeof h=="function"?h(e):h;if(!Object.is(f,e)){const m=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(w=>w(e,m))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(GC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(i,r,l);return l},KC=t=>t?X_(t):X_;var fE={exports:{}},pE={},mE={exports:{}},gE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vs=F;function QC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var YC=typeof Object.is=="function"?Object.is:QC,XC=Vs.useState,JC=Vs.useEffect,ZC=Vs.useLayoutEffect,e2=Vs.useDebugValue;function t2(t,e){var n=e(),i=XC({inst:{value:n,getSnapshot:e}}),r=i[0].inst,s=i[1];return ZC(function(){r.value=n,r.getSnapshot=e,pd(r)&&s({inst:r})},[t,n,e]),JC(function(){return pd(r)&&s({inst:r}),t(function(){pd(r)&&s({inst:r})})},[t]),e2(n),n}function pd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!YC(t,n)}catch{return!0}}function n2(t,e){return e()}var i2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n2:t2;gE.useSyncExternalStore=Vs.useSyncExternalStore!==void 0?Vs.useSyncExternalStore:i2;mE.exports=gE;var r2=mE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=F,s2=r2;function o2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a2=typeof Object.is=="function"?Object.is:o2,l2=s2.useSyncExternalStore,c2=Wu.useRef,u2=Wu.useEffect,h2=Wu.useMemo,d2=Wu.useDebugValue;pE.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var s=c2(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=h2(function(){function l(m){if(!c){if(c=!0,h=m,m=i(m),r!==void 0&&o.hasValue){var w=o.value;if(r(w,m))return d=w}return d=m}if(w=d,a2(h,m))return w;var v=i(m);return r!==void 0&&r(w,v)?(h=m,w):(h=m,d=v)}var c=!1,h,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,i,r]);var a=l2(t,s[0],s[1]);return u2(function(){o.hasValue=!0,o.value=a},[a]),d2(a),a};fE.exports=pE;var f2=fE.exports;const p2=zx(f2),yE={},{useDebugValue:m2}=Jx,{useSyncExternalStoreWithSelector:g2}=p2;let J_=!1;const y2=t=>t;function _2(t,e=y2,n){(yE?"production":void 0)!=="production"&&n&&!J_&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),J_=!0);const i=g2(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return m2(i),i}const v2=t=>{(yE?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?KC(t):t,n=(i,r)=>_2(e,i,r);return Object.assign(n,e),n},x2=t=>v2,w2=()=>{};var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},E2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),i.push(n[h],n[d],n[f],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||d==null)throw new b2;const f=s<<2|a>>4;if(i.push(f),c!==64){const m=a<<4&240|c>>2;if(i.push(m),d!==64){const w=c<<6&192|d;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class b2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T2=function(t){const e=_E(t);return vE.encodeByteArray(e,!0)},iu=function(t){return T2(t).replace(/\./g,"")},S2=function(t){try{return vE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=()=>I2().__FIREBASE_DEFAULTS__,k2=()=>{if(typeof process>"u"||typeof Z_>"u")return;const t=Z_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},C2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&S2(t[1]);return e&&JSON.parse(e)},ym=()=>{try{return w2()||A2()||k2()||C2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},P2=t=>{var e,n;return(n=(e=ym())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},R2=t=>{const e=P2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},xE=()=>{var t;return(t=ym())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function D2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[iu(JSON.stringify(n)),iu(JSON.stringify(o)),""].join(".")}const ea={};function V2(){const t={prod:[],emulator:[]};for(const e of Object.keys(ea))ea[e]?t.emulator.push(e):t.prod.push(e);return t}function O2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let e0=!1;function L2(t,e){if(typeof window>"u"||typeof document>"u"||!_m(window.location.host)||ea[t]===e||ea[t]||e0)return;ea[t]=e;function n(f){return`__firebase__banner__${f}`}const i="__firebase__banner",s=V2().prod.length>0;function o(){const f=document.getElementById(i);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{e0=!0,o()},f}function h(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=O2(i),m=n("text"),w=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),_=document.getElementById(v)||document.createElement("a"),x=n("preprendIcon"),E=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),h(_,v);const R=c();l(E,x),T.append(E,w,_,R),document.body.appendChild(T)}s?(w.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F2(){var e;const t=(e=ym())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B2(){return!F2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vm(){try{return typeof indexedDB=="object"}catch{return!1}}function xm(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function EE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="FirebaseError";class ir extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=z2,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hu.prototype.create)}}class Hu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?U2(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ir(r,a,i)}}function U2(t,e){return t.replace($2,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const $2=/\{\$([^}]+)}/g;function ka(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(t0(s)&&t0(o)){if(!ka(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function t0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=1e3,H2=2,q2=4*60*60*1e3,G2=.5;function n0(t,e=W2,n=H2){const i=e*Math.pow(n,t),r=Math.round(G2*i*(Math.random()-.5)*2);return Math.min(q2,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){return t&&t._delegate?t._delegate:t}class ni{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new N2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y2(e))try{this.getOrInitializeService({instanceIdentifier:yr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yr){return this.instances.has(e)}getOptions(e=yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Q2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=yr){return this.component?this.component.multipleInstances?e:yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q2(t){return t===yr?void 0:t}function Y2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const J2={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Z2=ae.INFO,eP={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},tP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=eP[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wm{constructor(e){this.name=e,this._logLevel=Z2,this._logHandler=tP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const nP=(t,e)=>e.some(n=>t instanceof n);let i0,r0;function iP(){return i0||(i0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rP(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,Of=new WeakMap,TE=new WeakMap,md=new WeakMap,Em=new WeakMap;function sP(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Li(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bE.set(n,t)}).catch(()=>{}),Em.set(e,t),e}function oP(t){if(Of.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Of.set(t,e)}let Lf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Of.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aP(t){Lf=t(Lf)}function lP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(gd(this),e,...n);return TE.set(i,e.sort?e.sort():[e]),Li(i)}:rP().includes(t)?function(...e){return t.apply(gd(this),e),Li(bE.get(this))}:function(...e){return Li(t.apply(gd(this),e))}}function cP(t){return typeof t=="function"?lP(t):(t instanceof IDBTransaction&&oP(t),nP(t,iP())?new Proxy(t,Lf):t)}function Li(t){if(t instanceof IDBRequest)return sP(t);if(md.has(t))return md.get(t);const e=cP(t);return e!==t&&(md.set(t,e),Em.set(e,t)),e}const gd=t=>Em.get(t);function SE(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Li(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Li(o.result),l.oldVersion,l.newVersion,Li(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const uP=["get","getKey","getAll","getAllKeys","count"],hP=["put","add","delete","clear"],yd=new Map;function s0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yd.get(e))return yd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=hP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||uP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return yd.set(e,s),s}aP(t=>({...t,get:(e,n,i)=>s0(e,n)||t.get(e,n,i),has:(e,n)=>!!s0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function fP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jf="@firebase/app",o0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new wm("@firebase/app"),pP="@firebase/app-compat",mP="@firebase/analytics-compat",gP="@firebase/analytics",yP="@firebase/app-check-compat",_P="@firebase/app-check",vP="@firebase/auth",xP="@firebase/auth-compat",wP="@firebase/database",EP="@firebase/data-connect",bP="@firebase/database-compat",TP="@firebase/functions",SP="@firebase/functions-compat",IP="@firebase/installations",AP="@firebase/installations-compat",kP="@firebase/messaging",CP="@firebase/messaging-compat",PP="@firebase/performance",RP="@firebase/performance-compat",NP="@firebase/remote-config",DP="@firebase/remote-config-compat",MP="@firebase/storage",VP="@firebase/storage-compat",OP="@firebase/firestore",LP="@firebase/ai",jP="@firebase/firestore-compat",FP="firebase",BP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",zP={[jf]:"fire-core",[pP]:"fire-core-compat",[gP]:"fire-analytics",[mP]:"fire-analytics-compat",[_P]:"fire-app-check",[yP]:"fire-app-check-compat",[vP]:"fire-auth",[xP]:"fire-auth-compat",[wP]:"fire-rtdb",[EP]:"fire-data-connect",[bP]:"fire-rtdb-compat",[TP]:"fire-fn",[SP]:"fire-fn-compat",[IP]:"fire-iid",[AP]:"fire-iid-compat",[kP]:"fire-fcm",[CP]:"fire-fcm-compat",[PP]:"fire-perf",[RP]:"fire-perf-compat",[NP]:"fire-rc",[DP]:"fire-rc-compat",[MP]:"fire-gcs",[VP]:"fire-gcs-compat",[OP]:"fire-fst",[jP]:"fire-fst-compat",[LP]:"fire-vertex","fire-js":"fire-js",[FP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new Map,UP=new Map,Bf=new Map;function a0(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hi(t){const e=t.name;if(Bf.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Bf.set(e,t);for(const n of ru.values())a0(n,t);for(const n of UP.values())a0(n,t);return!0}function nl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $P(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new Hu("app","Firebase",WP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=BP;function IE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Ff,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw ji.create("bad-app-name",{appName:String(r)});if(n||(n=xE()),!n)throw ji.create("no-options");const s=ru.get(r);if(s){if(ka(n,s.options)&&ka(i,s.config))return s;throw ji.create("duplicate-app",{appName:r})}const o=new X2(r);for(const l of Bf.values())o.addComponent(l);const a=new HP(n,i,o);return ru.set(r,a),a}function AE(t=Ff){const e=ru.get(t);if(!e&&t===Ff&&xE())return IE();if(!e)throw ji.create("no-app",{appName:t});return e}function Rn(t,e,n){let i=zP[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const o=[`Unable to register library "${i}" with version "${e}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(o.join(" "));return}Hi(new ni(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="firebase-heartbeat-database",KP=1,Ca="firebase-heartbeat-store";let _d=null;function kE(){return _d||(_d=SE(GP,KP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ca)}catch(n){console.warn(n)}}}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),_d}async function QP(t){try{const n=(await kE()).transaction(Ca),i=await n.objectStore(Ca).get(CE(t));return await n.done,i}catch(e){if(e instanceof ir)ii.warn(e.message);else{const n=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(n.message)}}}async function l0(t,e){try{const i=(await kE()).transaction(Ca,"readwrite");await i.objectStore(Ca).put(e,CE(t)),await i.done}catch(n){if(n instanceof ir)ii.warn(n.message);else{const i=ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ii.warn(i.message)}}}function CE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=1024,XP=30;class JP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=c0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>XP){const o=tR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=c0(),{heartbeatsToSend:i,unsentEntries:r}=ZP(this._heartbeatsCache.heartbeats),s=iu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ii.warn(n),""}}}function c0(){return new Date().toISOString().substring(0,10)}function ZP(t,e=YP){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),u0(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),u0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class eR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vm()?xm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return l0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return l0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function u0(t){return iu(JSON.stringify({version:2,heartbeats:t})).length}function tR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){Hi(new ni("platform-logger",e=>new dP(e),"PRIVATE")),Hi(new ni("heartbeat",e=>new JP(e),"PRIVATE")),Rn(jf,o0,t),Rn(jf,o0,"esm2020"),Rn("fire-js","")}nR("");var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,PE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,b){function A(){}A.prototype=b.prototype,S.F=b.prototype,S.prototype=new A,S.prototype.constructor=S,S.D=function(k,C,D){for(var P=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)P[ce-2]=arguments[ce];return b.prototype[C].apply(k,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,b,A){A||(A=0);const k=Array(16);if(typeof b=="string")for(var C=0;C<16;++C)k[C]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(C=0;C<16;++C)k[C]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=S.g[0],A=S.g[1],C=S.g[2];let D=S.g[3],P;P=b+(D^A&(C^D))+k[0]+3614090360&4294967295,b=A+(P<<7&4294967295|P>>>25),P=D+(C^b&(A^C))+k[1]+3905402710&4294967295,D=b+(P<<12&4294967295|P>>>20),P=C+(A^D&(b^A))+k[2]+606105819&4294967295,C=D+(P<<17&4294967295|P>>>15),P=A+(b^C&(D^b))+k[3]+3250441966&4294967295,A=C+(P<<22&4294967295|P>>>10),P=b+(D^A&(C^D))+k[4]+4118548399&4294967295,b=A+(P<<7&4294967295|P>>>25),P=D+(C^b&(A^C))+k[5]+1200080426&4294967295,D=b+(P<<12&4294967295|P>>>20),P=C+(A^D&(b^A))+k[6]+2821735955&4294967295,C=D+(P<<17&4294967295|P>>>15),P=A+(b^C&(D^b))+k[7]+4249261313&4294967295,A=C+(P<<22&4294967295|P>>>10),P=b+(D^A&(C^D))+k[8]+1770035416&4294967295,b=A+(P<<7&4294967295|P>>>25),P=D+(C^b&(A^C))+k[9]+2336552879&4294967295,D=b+(P<<12&4294967295|P>>>20),P=C+(A^D&(b^A))+k[10]+4294925233&4294967295,C=D+(P<<17&4294967295|P>>>15),P=A+(b^C&(D^b))+k[11]+2304563134&4294967295,A=C+(P<<22&4294967295|P>>>10),P=b+(D^A&(C^D))+k[12]+1804603682&4294967295,b=A+(P<<7&4294967295|P>>>25),P=D+(C^b&(A^C))+k[13]+4254626195&4294967295,D=b+(P<<12&4294967295|P>>>20),P=C+(A^D&(b^A))+k[14]+2792965006&4294967295,C=D+(P<<17&4294967295|P>>>15),P=A+(b^C&(D^b))+k[15]+1236535329&4294967295,A=C+(P<<22&4294967295|P>>>10),P=b+(C^D&(A^C))+k[1]+4129170786&4294967295,b=A+(P<<5&4294967295|P>>>27),P=D+(A^C&(b^A))+k[6]+3225465664&4294967295,D=b+(P<<9&4294967295|P>>>23),P=C+(b^A&(D^b))+k[11]+643717713&4294967295,C=D+(P<<14&4294967295|P>>>18),P=A+(D^b&(C^D))+k[0]+3921069994&4294967295,A=C+(P<<20&4294967295|P>>>12),P=b+(C^D&(A^C))+k[5]+3593408605&4294967295,b=A+(P<<5&4294967295|P>>>27),P=D+(A^C&(b^A))+k[10]+38016083&4294967295,D=b+(P<<9&4294967295|P>>>23),P=C+(b^A&(D^b))+k[15]+3634488961&4294967295,C=D+(P<<14&4294967295|P>>>18),P=A+(D^b&(C^D))+k[4]+3889429448&4294967295,A=C+(P<<20&4294967295|P>>>12),P=b+(C^D&(A^C))+k[9]+568446438&4294967295,b=A+(P<<5&4294967295|P>>>27),P=D+(A^C&(b^A))+k[14]+3275163606&4294967295,D=b+(P<<9&4294967295|P>>>23),P=C+(b^A&(D^b))+k[3]+4107603335&4294967295,C=D+(P<<14&4294967295|P>>>18),P=A+(D^b&(C^D))+k[8]+1163531501&4294967295,A=C+(P<<20&4294967295|P>>>12),P=b+(C^D&(A^C))+k[13]+2850285829&4294967295,b=A+(P<<5&4294967295|P>>>27),P=D+(A^C&(b^A))+k[2]+4243563512&4294967295,D=b+(P<<9&4294967295|P>>>23),P=C+(b^A&(D^b))+k[7]+1735328473&4294967295,C=D+(P<<14&4294967295|P>>>18),P=A+(D^b&(C^D))+k[12]+2368359562&4294967295,A=C+(P<<20&4294967295|P>>>12),P=b+(A^C^D)+k[5]+4294588738&4294967295,b=A+(P<<4&4294967295|P>>>28),P=D+(b^A^C)+k[8]+2272392833&4294967295,D=b+(P<<11&4294967295|P>>>21),P=C+(D^b^A)+k[11]+1839030562&4294967295,C=D+(P<<16&4294967295|P>>>16),P=A+(C^D^b)+k[14]+4259657740&4294967295,A=C+(P<<23&4294967295|P>>>9),P=b+(A^C^D)+k[1]+2763975236&4294967295,b=A+(P<<4&4294967295|P>>>28),P=D+(b^A^C)+k[4]+1272893353&4294967295,D=b+(P<<11&4294967295|P>>>21),P=C+(D^b^A)+k[7]+4139469664&4294967295,C=D+(P<<16&4294967295|P>>>16),P=A+(C^D^b)+k[10]+3200236656&4294967295,A=C+(P<<23&4294967295|P>>>9),P=b+(A^C^D)+k[13]+681279174&4294967295,b=A+(P<<4&4294967295|P>>>28),P=D+(b^A^C)+k[0]+3936430074&4294967295,D=b+(P<<11&4294967295|P>>>21),P=C+(D^b^A)+k[3]+3572445317&4294967295,C=D+(P<<16&4294967295|P>>>16),P=A+(C^D^b)+k[6]+76029189&4294967295,A=C+(P<<23&4294967295|P>>>9),P=b+(A^C^D)+k[9]+3654602809&4294967295,b=A+(P<<4&4294967295|P>>>28),P=D+(b^A^C)+k[12]+3873151461&4294967295,D=b+(P<<11&4294967295|P>>>21),P=C+(D^b^A)+k[15]+530742520&4294967295,C=D+(P<<16&4294967295|P>>>16),P=A+(C^D^b)+k[2]+3299628645&4294967295,A=C+(P<<23&4294967295|P>>>9),P=b+(C^(A|~D))+k[0]+4096336452&4294967295,b=A+(P<<6&4294967295|P>>>26),P=D+(A^(b|~C))+k[7]+1126891415&4294967295,D=b+(P<<10&4294967295|P>>>22),P=C+(b^(D|~A))+k[14]+2878612391&4294967295,C=D+(P<<15&4294967295|P>>>17),P=A+(D^(C|~b))+k[5]+4237533241&4294967295,A=C+(P<<21&4294967295|P>>>11),P=b+(C^(A|~D))+k[12]+1700485571&4294967295,b=A+(P<<6&4294967295|P>>>26),P=D+(A^(b|~C))+k[3]+2399980690&4294967295,D=b+(P<<10&4294967295|P>>>22),P=C+(b^(D|~A))+k[10]+4293915773&4294967295,C=D+(P<<15&4294967295|P>>>17),P=A+(D^(C|~b))+k[1]+2240044497&4294967295,A=C+(P<<21&4294967295|P>>>11),P=b+(C^(A|~D))+k[8]+1873313359&4294967295,b=A+(P<<6&4294967295|P>>>26),P=D+(A^(b|~C))+k[15]+4264355552&4294967295,D=b+(P<<10&4294967295|P>>>22),P=C+(b^(D|~A))+k[6]+2734768916&4294967295,C=D+(P<<15&4294967295|P>>>17),P=A+(D^(C|~b))+k[13]+1309151649&4294967295,A=C+(P<<21&4294967295|P>>>11),P=b+(C^(A|~D))+k[4]+4149444226&4294967295,b=A+(P<<6&4294967295|P>>>26),P=D+(A^(b|~C))+k[11]+3174756917&4294967295,D=b+(P<<10&4294967295|P>>>22),P=C+(b^(D|~A))+k[2]+718787259&4294967295,C=D+(P<<15&4294967295|P>>>17),P=A+(D^(C|~b))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(C+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+D&4294967295}i.prototype.v=function(S,b){b===void 0&&(b=S.length);const A=b-this.blockSize,k=this.C;let C=this.h,D=0;for(;D<b;){if(C==0)for(;D<=A;)r(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<b;)if(k[C++]=S.charCodeAt(D++),C==this.blockSize){r(this,k),C=0;break}}else for(;D<b;)if(k[C++]=S[D++],C==this.blockSize){r(this,k),C=0;break}}this.h=C,this.o+=b},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;b=this.o*8;for(var A=S.length-8;A<S.length;++A)S[A]=b&255,b/=256;for(this.v(S),S=Array(16),b=0,A=0;A<4;++A)for(let k=0;k<32;k+=8)S[b++]=this.g[A]>>>k&255;return S};function s(S,b){var A=a;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=b(S)}function o(S,b){this.h=b;const A=[];let k=!0;for(let C=S.length-1;C>=0;C--){const D=S[C]|0;k&&D==b||(A[C]=D,k=!1)}this.g=A}var a={};function l(S){return-128<=S&&S<128?s(S,function(b){return new o([b|0],b<0?-1:0)}):new o([S|0],S<0?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(S<0)return _(c(-S));const b=[];let A=1;for(let k=0;S>=A;k++)b[k]=S/A|0,A*=4294967296;return new o(b,0)}function h(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return _(h(S.substring(1),b));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(b,8));let k=d;for(let D=0;D<S.length;D+=8){var C=Math.min(8,S.length-D);const P=parseInt(S.substring(D,D+C),b);C<8?(C=c(Math.pow(b,C)),k=k.j(C).add(c(P))):(k=k.j(A),k=k.add(c(P)))}return k}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-_(this).m();let S=0,b=1;for(let A=0;A<this.g.length;A++){const k=this.i(A);S+=(k>=0?k:4294967296+k)*b,b*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(v(this))return"-"+_(this).toString(S);const b=c(Math.pow(S,6));var A=this;let k="";for(;;){const C=R(A,b).g;A=x(A,C.j(b));let D=((A.g.length>0?A.g[0]:A.h)>>>0).toString(S);if(A=C,w(A))return D+k;for(;D.length<6;)D="0"+D;k=D+k}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(let b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=x(this,S),v(S)?-1:w(S)?0:1};function _(S){const b=S.g.length,A=[];for(let k=0;k<b;k++)A[k]=~S.g[k];return new o(A,~S.h).add(f)}t.abs=function(){return v(this)?_(this):this},t.add=function(S){const b=Math.max(this.g.length,S.g.length),A=[];let k=0;for(let C=0;C<=b;C++){let D=k+(this.i(C)&65535)+(S.i(C)&65535),P=(D>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);k=P>>>16,D&=65535,P&=65535,A[C]=P<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(S,b){return S.add(_(b))}t.j=function(S){if(w(this)||w(S))return d;if(v(this))return v(S)?_(this).j(_(S)):_(_(this).j(S));if(v(S))return _(this.j(_(S)));if(this.l(m)<0&&S.l(m)<0)return c(this.m()*S.m());const b=this.g.length+S.g.length,A=[];for(var k=0;k<2*b;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(let C=0;C<S.g.length;C++){const D=this.i(k)>>>16,P=this.i(k)&65535,ce=S.i(C)>>>16,ee=S.i(C)&65535;A[2*k+2*C]+=P*ee,E(A,2*k+2*C),A[2*k+2*C+1]+=D*ee,E(A,2*k+2*C+1),A[2*k+2*C+1]+=P*ce,E(A,2*k+2*C+1),A[2*k+2*C+2]+=D*ce,E(A,2*k+2*C+2)}for(S=0;S<b;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=b;S<2*b;S++)A[S]=0;return new o(A,0)};function E(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function T(S,b){this.g=S,this.h=b}function R(S,b){if(w(b))throw Error("division by zero");if(w(S))return new T(d,d);if(v(S))return b=R(_(S),b),new T(_(b.g),_(b.h));if(v(b))return b=R(S,_(b)),new T(_(b.g),b.h);if(S.g.length>30){if(v(S)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var A=f,k=b;k.l(S)<=0;)A=N(A),k=N(k);var C=M(A,1),D=M(k,1);for(k=M(k,2),A=M(A,2);!w(k);){var P=D.add(k);P.l(S)<=0&&(C=C.add(A),D=P),k=M(k,1),A=M(A,1)}return b=x(S,C.j(b)),new T(C,b)}for(C=d;S.l(b)>=0;){for(A=Math.max(1,Math.floor(S.m()/b.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),D=c(A),P=D.j(b);v(P)||P.l(S)>0;)A-=k,D=c(A),P=D.j(b);w(D)&&(D=f),C=C.add(D),S=x(S,P)}return new T(C,S)}t.B=function(S){return R(this,S).h},t.and=function(S){const b=Math.max(this.g.length,S.g.length),A=[];for(let k=0;k<b;k++)A[k]=this.i(k)&S.i(k);return new o(A,this.h&S.h)},t.or=function(S){const b=Math.max(this.g.length,S.g.length),A=[];for(let k=0;k<b;k++)A[k]=this.i(k)|S.i(k);return new o(A,this.h|S.h)},t.xor=function(S){const b=Math.max(this.g.length,S.g.length),A=[];for(let k=0;k<b;k++)A[k]=this.i(k)^S.i(k);return new o(A,this.h^S.h)};function N(S){const b=S.g.length+1,A=[];for(let k=0;k<b;k++)A[k]=S.i(k)<<1|S.i(k-1)>>>31;return new o(A,S.h)}function M(S,b){const A=b>>5;b%=32;const k=S.g.length-A,C=[];for(let D=0;D<k;D++)C[D]=b>0?S.i(D+A)>>>b|S.i(D+A+1)<<32-b:S.i(D+A);return new o(C,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,PE=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Fi=o}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});var zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RE,Oo,NE,vc,zf,DE,ME,VE;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zl=="object"&&zl];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var i=n(this);function r(u,p){if(p)e:{var g=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var V=u[I];if(!(V in g))break e;g=g[V]}u=u[u.length-1],I=g[u],p=p(I),p!=I&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}r("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(u){return u||function(p){var g=[],I;for(I in p)Object.prototype.hasOwnProperty.call(p,I)&&g.push([I,p[I]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function l(u,p,g){return u.call.apply(u.bind,arguments)}function c(u,p,g){return c=l,c.apply(null,arguments)}function h(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function d(u,p){function g(){}g.prototype=p.prototype,u.Z=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(I,V,O){for(var U=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)U[Z-2]=arguments[Z];return p.prototype[V].apply(I,U)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function m(u){const p=u.length;if(p>0){const g=Array(p);for(let I=0;I<p;I++)g[I]=u[I];return g}return[]}function w(u,p){for(let I=1;I<arguments.length;I++){const V=arguments[I];var g=typeof V;if(g=g!="object"?g:V?Array.isArray(V)?"array":g:"null",g=="array"||g=="object"&&typeof V.length=="number"){g=u.length||0;const O=V.length||0;u.length=g+O;for(let U=0;U<O;U++)u[g+U]=V[U]}else u.push(V)}}class v{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(u){o.setTimeout(()=>{throw u},0)}function x(){var u=S;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class E{constructor(){this.h=this.g=null}add(p,g){const I=T.get();I.set(p,g),this.h?this.h.next=I:this.g=I,this.h=I}}var T=new v(()=>new R,u=>u.reset());class R{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let N,M=!1,S=new E,b=()=>{const u=Promise.resolve(void 0);N=()=>{u.then(A)}};function A(){for(var u;u=x();){try{u.h.call(u.g)}catch(g){_(g)}var p=T;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}M=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return u}();function P(u){return/^[\s\xa0]*$/.test(u)}function ce(u,p){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}d(ce,C),ce.prototype.init=function(u,p){const g=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),ue=0;function ye(u,p,g,I,V){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!I,this.ha=V,this.key=++ue,this.da=this.fa=!1}function z(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function q(u,p,g){for(const I in u)p.call(g,u[I],I,u)}function Y(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function de(u){const p={};for(const g in u)p[g]=u[g];return p}const ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ft(u,p){let g,I;for(let V=1;V<arguments.length;V++){I=arguments[V];for(g in I)u[g]=I[g];for(let O=0;O<ge.length;O++)g=ge[O],Object.prototype.hasOwnProperty.call(I,g)&&(u[g]=I[g])}}function ze(u){this.src=u,this.g={},this.h=0}ze.prototype.add=function(u,p,g,I,V){const O=u.toString();u=this.g[O],u||(u=this.g[O]=[],this.h++);const U=Ge(u,p,I,V);return U>-1?(p=u[U],g||(p.fa=!1)):(p=new ye(p,this.src,O,!!I,V),p.fa=g,u.push(p)),p};function Bt(u,p){const g=p.type;if(g in u.g){var I=u.g[g],V=Array.prototype.indexOf.call(I,p,void 0),O;(O=V>=0)&&Array.prototype.splice.call(I,V,1),O&&(z(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Ge(u,p,g,I){for(let V=0;V<u.length;++V){const O=u[V];if(!O.da&&O.listener==p&&O.capture==!!g&&O.ha==I)return V}return-1}var ai="closure_lm_"+(Math.random()*1e6|0),xh={};function Vg(u,p,g,I,V){if(Array.isArray(p)){for(let O=0;O<p.length;O++)Vg(u,p[O],g,I,V);return null}return g=jg(g),u&&u[ee]?u.J(p,g,a(I)?!!I.capture:!1,V):jS(u,p,g,!1,I,V)}function jS(u,p,g,I,V,O){if(!p)throw Error("Invalid event type");const U=a(V)?!!V.capture:!!V;let Z=Eh(u);if(Z||(u[ai]=Z=new ze(u)),g=Z.add(p,g,I,U,O),g.proxy)return g;if(I=FS(),g.proxy=I,I.src=u,I.listener=g,u.addEventListener)D||(V=U),V===void 0&&(V=!1),u.addEventListener(p.toString(),I,V);else if(u.attachEvent)u.attachEvent(Lg(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function FS(){function u(g){return p.call(u.src,u.listener,g)}const p=BS;return u}function Og(u,p,g,I,V){if(Array.isArray(p))for(var O=0;O<p.length;O++)Og(u,p[O],g,I,V);else I=a(I)?!!I.capture:!!I,g=jg(g),u&&u[ee]?(u=u.i,O=String(p).toString(),O in u.g&&(p=u.g[O],g=Ge(p,g,I,V),g>-1&&(z(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete u.g[O],u.h--)))):u&&(u=Eh(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Ge(p,g,I,V)),(g=u>-1?p[u]:null)&&wh(g))}function wh(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ee])Bt(p.i,u);else{var g=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(g,I,u.capture):p.detachEvent?p.detachEvent(Lg(g),I):p.addListener&&p.removeListener&&p.removeListener(I),(g=Eh(p))?(Bt(g,u),g.h==0&&(g.src=null,p[ai]=null)):z(u)}}}function Lg(u){return u in xh?xh[u]:xh[u]="on"+u}function BS(u,p){if(u.da)u=!0;else{p=new ce(p,this);const g=u.listener,I=u.ha||u.src;u.fa&&wh(u),u=g.call(I,p)}return u}function Eh(u){return u=u[ai],u instanceof ze?u:null}var bh="__closure_events_fn_"+(Math.random()*1e9>>>0);function jg(u){return typeof u=="function"?u:(u[bh]||(u[bh]=function(p){return u.handleEvent(p)}),u[bh])}function ht(){k.call(this),this.i=new ze(this),this.M=this,this.G=null}d(ht,k),ht.prototype[ee]=!0,ht.prototype.removeEventListener=function(u,p,g,I){Og(this,u,p,g,I)};function bt(u,p){var g,I=u.G;if(I)for(g=[];I;I=I.G)g.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new C(p,u);else if(p instanceof C)p.target=p.target||u;else{var V=p;p=new C(I,u),Ft(p,V)}V=!0;let O,U;if(g)for(U=g.length-1;U>=0;U--)O=p.g=g[U],V=dl(O,I,!0,p)&&V;if(O=p.g=u,V=dl(O,I,!0,p)&&V,V=dl(O,I,!1,p)&&V,g)for(U=0;U<g.length;U++)O=p.g=g[U],V=dl(O,I,!1,p)&&V}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const g=u.g[p];for(let I=0;I<g.length;I++)z(g[I]);delete u.g[p],u.h--}}this.G=null},ht.prototype.J=function(u,p,g,I){return this.i.add(String(u),p,!1,g,I)},ht.prototype.K=function(u,p,g,I){return this.i.add(String(u),p,!0,g,I)};function dl(u,p,g,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let V=!0;for(let O=0;O<p.length;++O){const U=p[O];if(U&&!U.da&&U.capture==g){const Z=U.listener,Ke=U.ha||U.src;U.fa&&Bt(u.i,U),V=Z.call(Ke,I)!==!1&&V}}return V&&!I.defaultPrevented}function zS(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(u,p||0)}function Fg(u){u.g=zS(()=>{u.g=null,u.i&&(u.i=!1,Fg(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class US extends k{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Fg(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(u){k.call(this),this.h=u,this.g={}}d(no,k);var Bg=[];function zg(u){q(u.g,function(p,g){this.g.hasOwnProperty(g)&&wh(p)},u),u.g={}}no.prototype.N=function(){no.Z.N.call(this),zg(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Th=o.JSON.stringify,$S=o.JSON.parse,WS=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Ug(){}function $g(){}var io={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Sh(){C.call(this,"d")}d(Sh,C);function Ih(){C.call(this,"c")}d(Ih,C);var ar={},Wg=null;function fl(){return Wg=Wg||new ht}ar.Ia="serverreachability";function Hg(u){C.call(this,ar.Ia,u)}d(Hg,C);function ro(u){const p=fl();bt(p,new Hg(p))}ar.STAT_EVENT="statevent";function qg(u,p){C.call(this,ar.STAT_EVENT,u),this.stat=p}d(qg,C);function Tt(u){const p=fl();bt(p,new qg(p,u))}ar.Ja="timingevent";function Gg(u,p){C.call(this,ar.Ja,u),this.size=p}d(Gg,C);function so(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},p)}function oo(){this.g=!0}oo.prototype.ua=function(){this.g=!1};function HS(u,p,g,I,V,O){u.info(function(){if(u.g)if(O){var U="",Z=O.split("&");for(let _e=0;_e<Z.length;_e++){var Ke=Z[_e].split("=");if(Ke.length>1){const et=Ke[0];Ke=Ke[1];const wn=et.split("_");U=wn.length>=2&&wn[1]=="type"?U+(et+"="+Ke+"&"):U+(et+"=redacted&")}}}else U=null;else U=O;return"XMLHTTP REQ ("+I+") [attempt "+V+"]: "+p+`
`+g+`
`+U})}function qS(u,p,g,I,V,O,U){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+V+"]: "+p+`
`+g+`
`+O+" "+U})}function Kr(u,p,g,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+KS(u,g)+(I?" "+I:"")})}function GS(u,p){u.info(function(){return"TIMEOUT: "+p})}oo.prototype.info=function(){};function KS(u,p){if(!u.g)return p;if(!p)return null;try{const O=JSON.parse(p);if(O){for(u=0;u<O.length;u++)if(Array.isArray(O[u])){var g=O[u];if(!(g.length<2)){var I=g[1];if(Array.isArray(I)&&!(I.length<1)){var V=I[0];if(V!="noop"&&V!="stop"&&V!="close")for(let U=1;U<I.length;U++)I[U]=""}}}}return Th(O)}catch{return p}}var pl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qg;function Ah(){}d(Ah,Ug),Ah.prototype.g=function(){return new XMLHttpRequest},Qg=new Ah;function ao(u){return encodeURIComponent(String(u))}function QS(u){var p=1;u=u.split(":");const g=[];for(;p>0&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function li(u,p,g,I){this.j=u,this.i=p,this.l=g,this.S=I||1,this.V=new no(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yg}function Yg(){this.i=null,this.g="",this.h=!1}var Xg={},kh={};function Ch(u,p,g){u.M=1,u.A=gl(xn(p)),u.u=g,u.R=!0,Jg(u,null)}function Jg(u,p){u.F=Date.now(),ml(u),u.B=xn(u.A);var g=u.B,I=u.S;Array.isArray(I)||(I=[String(I)]),hy(g.i,"t",I),u.C=0,g=u.j.L,u.h=new Yg,u.g=Cy(u.j,g?p:null,!u.u),u.P>0&&(u.O=new US(c(u.Y,u,u.g),u.P)),p=u.V,g=u.g,I=u.ba;var V="readystatechange";Array.isArray(V)||(V&&(Bg[0]=V.toString()),V=Bg);for(let O=0;O<V.length;O++){const U=Vg(g,V[O],I||p.handleEvent,!1,p.h||p);if(!U)break;p.g[U.key]=U}p=u.J?de(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),ro(),HS(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const p=this.O;p&&hi(u)==3?p.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const Z=hi(this.g),Ke=this.g.ya(),_e=this.g.ca();if(!(Z<3)&&(Z!=3||this.g&&(this.h.h||this.g.la()||_y(this.g)))){this.K||Z!=4||Ke==7||(Ke==8||_e<=0?ro(3):ro(2)),Ph(this);var p=this.g.ca();this.X=p;var g=YS(this);if(this.o=p==200,qS(this.i,this.v,this.B,this.l,this.S,Z,p),this.o){if(this.U&&!this.L){t:{if(this.g){var I,V=this.g;if((I=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var O=I;break t}}O=null}if(u=O)Kr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rh(this,u);else{this.o=!1,this.m=3,Tt(12),lr(this),lo(this);break e}}if(this.R){u=!0;let et;for(;!this.K&&this.C<g.length;)if(et=XS(this,g),et==kh){Z==4&&(this.m=4,Tt(14),u=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(et==Xg){this.m=4,Tt(15),Kr(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else Kr(this.i,this.l,et,null),Rh(this,et);if(Zg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Z!=4||g.length!=0||this.h.h||(this.m=1,Tt(16),u=!1),this.o=this.o&&u,!u)Kr(this.i,this.l,g,"[Invalid Chunked Response]"),lr(this),lo(this);else if(g.length>0&&!this.W){this.W=!0;var U=this.j;U.g==this&&U.aa&&!U.P&&(U.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Fh(U),U.P=!0,Tt(11))}}else Kr(this.i,this.l,g,null),Rh(this,g);Z==4&&lr(this),this.o&&!this.K&&(Z==4?Sy(this.j,this):(this.o=!1,ml(this)))}else hI(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),lr(this),lo(this)}}}catch{}finally{}};function YS(u){if(!Zg(u))return u.g.la();const p=_y(u.g);if(p==="")return"";let g="";const I=p.length,V=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return lr(u),lo(u),"";u.h.i=new o.TextDecoder}for(let O=0;O<I;O++)u.h.h=!0,g+=u.h.i.decode(p[O],{stream:!(V&&O==I-1)});return p.length=0,u.h.g+=g,u.C=0,u.h.g}function Zg(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function XS(u,p){var g=u.C,I=p.indexOf(`
`,g);return I==-1?kh:(g=Number(p.substring(g,I)),isNaN(g)?Xg:(I+=1,I+g>p.length?kh:(p=p.slice(I,I+g),u.C=I+g,p)))}li.prototype.cancel=function(){this.K=!0,lr(this)};function ml(u){u.T=Date.now()+u.H,ey(u,u.H)}function ey(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=so(c(u.aa,u),p)}function Ph(u){u.D&&(o.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(GS(this.i,this.B),this.M!=2&&(ro(),Tt(17)),lr(this),this.m=2,lo(this)):ey(this,this.T-u)};function lo(u){u.j.I==0||u.K||Sy(u.j,u)}function lr(u){Ph(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,zg(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Rh(u,p){try{var g=u.j;if(g.I!=0&&(g.g==u||Nh(g.h,u))){if(!u.L&&Nh(g.h,u)&&g.I==3){try{var I=g.Ba.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var V=I;if(V[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)wl(g),vl(g);else break e;jh(g),Tt(18)}}else g.xa=V[1],0<g.xa-g.K&&V[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=so(c(g.Va,g),6e3));iy(g.h)<=1&&g.ta&&(g.ta=void 0)}else ur(g,11)}else if((u.L||g.g==u)&&wl(g),!P(p))for(V=g.Ba.g.parse(p),p=0;p<V.length;p++){let _e=V[p];const et=_e[0];if(!(et<=g.K))if(g.K=et,_e=_e[1],g.I==2)if(_e[0]=="c"){g.M=_e[1],g.ba=_e[2];const wn=_e[3];wn!=null&&(g.ka=wn,g.j.info("VER="+g.ka));const hr=_e[4];hr!=null&&(g.za=hr,g.j.info("SVER="+g.za));const di=_e[5];di!=null&&typeof di=="number"&&di>0&&(I=1.5*di,g.O=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const fi=u.g;if(fi){const bl=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bl){var O=I.h;O.g||bl.indexOf("spdy")==-1&&bl.indexOf("quic")==-1&&bl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Dh(O,O.h),O.h=null))}if(I.G){const Bh=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Bh&&(I.wa=Bh,Ee(I.J,I.G,Bh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),I=g;var U=u;if(I.na=ky(I,I.L?I.ba:null,I.W),U.L){ry(I.h,U);var Z=U,Ke=I.O;Ke&&(Z.H=Ke),Z.D&&(Ph(Z),ml(Z)),I.g=U}else by(I);g.i.length>0&&xl(g)}else _e[0]!="stop"&&_e[0]!="close"||ur(g,7);else g.I==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?ur(g,7):Lh(g):_e[0]!="noop"&&g.l&&g.l.qa(_e),g.A=0)}}ro(4)}catch{}}var JS=class{constructor(u,p){this.g=u,this.map=p}};function ty(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ny(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function iy(u){return u.h?1:u.g?u.g.size:0}function Nh(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Dh(u,p){u.g?u.g.add(p):u.h=p}function ry(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ty.prototype.cancel=function(){if(this.i=sy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sy(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.G);return p}return m(u.i)}var oy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZS(u,p){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const I=u[g].indexOf("=");let V,O=null;I>=0?(V=u[g].substring(0,I),O=u[g].substring(I+1)):V=u[g],p(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function ci(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof ci?(this.l=u.l,co(this,u.j),this.o=u.o,this.g=u.g,uo(this,u.u),this.h=u.h,Mh(this,dy(u.i)),this.m=u.m):u&&(p=String(u).match(oy))?(this.l=!1,co(this,p[1]||"",!0),this.o=ho(p[2]||""),this.g=ho(p[3]||"",!0),uo(this,p[4]),this.h=ho(p[5]||"",!0),Mh(this,p[6]||"",!0),this.m=ho(p[7]||"")):(this.l=!1,this.i=new po(null,this.l))}ci.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(fo(p,ay,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(fo(p,ay,!0),"@"),u.push(ao(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(fo(g,g.charAt(0)=="/"?nI:tI,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",fo(g,rI)),u.join("")},ci.prototype.resolve=function(u){const p=xn(this);let g=!!u.j;g?co(p,u.j):g=!!u.o,g?p.o=u.o:g=!!u.g,g?p.g=u.g:g=u.u!=null;var I=u.h;if(g)uo(p,u.u);else if(g=!!u.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var V=p.h.lastIndexOf("/");V!=-1&&(I=p.h.slice(0,V+1)+I)}if(V=I,V==".."||V==".")I="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){I=V.lastIndexOf("/",0)==0,V=V.split("/");const O=[];for(let U=0;U<V.length;){const Z=V[U++];Z=="."?I&&U==V.length&&O.push(""):Z==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),I&&U==V.length&&O.push("")):(O.push(Z),I=!0)}I=O.join("/")}else I=V}return g?p.h=I:g=u.i.toString()!=="",g?Mh(p,dy(u.i)):g=!!u.m,g&&(p.m=u.m),p};function xn(u){return new ci(u)}function co(u,p,g){u.j=g?ho(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function uo(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Mh(u,p,g){p instanceof po?(u.i=p,sI(u.i,u.l)):(g||(p=fo(p,iI)),u.i=new po(p,u.l))}function Ee(u,p,g){u.i.set(p,g)}function gl(u){return Ee(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ho(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fo(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,eI),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function eI(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ay=/[#\/\?@]/g,tI=/[#\?:]/g,nI=/[#\?]/g,iI=/[#\?@]/g,rI=/#/g;function po(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function cr(u){u.g||(u.g=new Map,u.h=0,u.i&&ZS(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=po.prototype,t.add=function(u,p){cr(this),this.i=null,u=Qr(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function ly(u,p){cr(u),p=Qr(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function cy(u,p){return cr(u),p=Qr(u,p),u.g.has(p)}t.forEach=function(u,p){cr(this),this.g.forEach(function(g,I){g.forEach(function(V){u.call(p,V,I,this)},this)},this)};function uy(u,p){cr(u);let g=[];if(typeof p=="string")cy(u,p)&&(g=g.concat(u.g.get(Qr(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)g=g.concat(u[p]);return g}t.set=function(u,p){return cr(this),this.i=null,u=Qr(this,u),cy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=uy(this,u),u.length>0?String(u[0]):p):p};function hy(u,p,g){ly(u,p),g.length>0&&(u.i=null,u.g.set(Qr(u,p),m(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let I=0;I<p.length;I++){var g=p[I];const V=ao(g);g=uy(this,g);for(let O=0;O<g.length;O++){let U=V;g[O]!==""&&(U+="="+ao(g[O])),u.push(U)}}return this.i=u.join("&")};function dy(u){const p=new po;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Qr(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function sI(u,p){p&&!u.j&&(cr(u),u.i=null,u.g.forEach(function(g,I){const V=I.toLowerCase();I!=V&&(ly(this,I),hy(this,V,g))},u)),u.j=p}function oI(u,p){const g=new oo;if(o.Image){const I=new Image;I.onload=h(ui,g,"TestLoadImage: loaded",!0,p,I),I.onerror=h(ui,g,"TestLoadImage: error",!1,p,I),I.onabort=h(ui,g,"TestLoadImage: abort",!1,p,I),I.ontimeout=h(ui,g,"TestLoadImage: timeout",!1,p,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function aI(u,p){const g=new oo,I=new AbortController,V=setTimeout(()=>{I.abort(),ui(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then(O=>{clearTimeout(V),O.ok?ui(g,"TestPingServer: ok",!0,p):ui(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),ui(g,"TestPingServer: error",!1,p)})}function ui(u,p,g,I,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),I(g)}catch{}}function lI(){this.g=new WS}function Vh(u){this.i=u.Sb||null,this.h=u.ab||!1}d(Vh,Ug),Vh.prototype.g=function(){return new yl(this.i,this.h)};function yl(u,p){ht.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(yl,ht),t=yl.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,go(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mo(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,go(this)),this.g&&(this.readyState=3,go(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fy(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function fy(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?mo(this):go(this),this.readyState==3&&fy(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,mo(this))},t.Na=function(u){this.g&&(this.response=u,mo(this))},t.ga=function(){this.g&&mo(this)};function mo(u){u.readyState=4,u.l=null,u.j=null,u.B=null,go(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function go(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function py(u){let p="";return q(u,function(g,I){p+=I,p+=":",p+=g,p+=`\r
`}),p}function Oh(u,p,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=py(g),typeof u=="string"?g!=null&&ao(g):Ee(u,p,g))}function De(u){ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(De,ht);var cI=/^https?$/i,uI=["POST","PUT"];t=De.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qg.g(),this.g.onreadystatechange=f(c(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(O){my(this,O);return}if(u=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var V in I)g.set(V,I[V]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const O of I.keys())g.set(O,I.get(O));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(O=>O.toLowerCase()=="content-type"),V=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(uI,p,void 0)>=0)||I||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,U]of g)this.g.setRequestHeader(O,U);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(O){my(this,O)}};function my(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,gy(u),_l(u)}function gy(u){u.A||(u.A=!0,bt(u,"complete"),bt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,bt(this,"complete"),bt(this,"abort"),_l(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_l(this,!0)),De.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?yy(this):this.Xa())},t.Xa=function(){yy(this)};function yy(u){if(u.h&&typeof s<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(bt(u,"readystatechange"),hi(u)==4){u.h=!1;try{const O=u.ca();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var I;if(I=O===0){let U=String(u.D).match(oy)[1]||null;!U&&o.self&&o.self.location&&(U=o.self.location.protocol.slice(0,-1)),I=!cI.test(U?U.toLowerCase():"")}g=I}if(g)bt(u,"complete"),bt(u,"success");else{u.o=6;try{var V=hi(u)>2?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.ca()+"]",gy(u)}}finally{_l(u)}}}}function _l(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,p||bt(u,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}t.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),$S(p)}};function _y(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hI(u){const p={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(P(u[I]))continue;var g=QS(u[I]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const O=p[V]||[];p[V]=O,O.push(g)}Y(p,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yo(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function vy(u){this.za=0,this.i=[],this.j=new oo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yo("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yo("baseRetryDelayMs",5e3,u),this.Za=yo("retryDelaySeedMs",1e4,u),this.Ta=yo("forwardChannelMaxRetries",2,u),this.va=yo("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ty(u&&u.concurrentRequestLimit),this.Ba=new lI,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=vy.prototype,t.ka=8,t.I=1,t.connect=function(u,p,g,I){Tt(0),this.W=u,this.H=p||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.J=ky(this,null,this.W),xl(this)};function Lh(u){if(xy(u),u.I==3){var p=u.V++,g=xn(u.J);if(Ee(g,"SID",u.M),Ee(g,"RID",p),Ee(g,"TYPE","terminate"),_o(u,g),p=new li(u,u.j,p),p.M=2,p.A=gl(xn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=Cy(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ml(p)}Ay(u)}function vl(u){u.g&&(Fh(u),u.g.cancel(),u.g=null)}function xy(u){vl(u),u.v&&(o.clearTimeout(u.v),u.v=null),wl(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function xl(u){if(!ny(u.h)&&!u.m){u.m=!0;var p=u.Ea;N||b(),M||(N(),M=!0),S.add(p,u),u.D=0}}function dI(u,p){return iy(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=so(c(u.Ea,u,p),Iy(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const V=new li(this,this.j,u);let O=this.o;if(this.U&&(O?(O=de(O),Ft(O,this.U)):O=this.U),this.u!==null||this.R||(V.J=O,O=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Ey(this,V,p),g=xn(this.J),Ee(g,"RID",u),Ee(g,"CVER",22),this.G&&Ee(g,"X-HTTP-Session-Id",this.G),_o(this,g),O&&(this.R?p="headers="+ao(py(O))+"&"+p:this.u&&Oh(g,this.u,O)),Dh(this.h,V),this.Ra&&Ee(g,"TYPE","init"),this.S?(Ee(g,"$req",p),Ee(g,"SID","null"),V.U=!0,Ch(V,g,null)):Ch(V,g,p),this.I=2}}else this.I==3&&(u?wy(this,u):this.i.length==0||ny(this.h)||wy(this))};function wy(u,p){var g;p?g=p.l:g=u.V++;const I=xn(u.J);Ee(I,"SID",u.M),Ee(I,"RID",g),Ee(I,"AID",u.K),_o(u,I),u.u&&u.o&&Oh(I,u.u,u.o),g=new li(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Ey(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Dh(u.h,g),Ch(g,I,p)}function _o(u,p){u.H&&q(u.H,function(g,I){Ee(p,I,g)}),u.l&&q({},function(g,I){Ee(p,I,g)})}function Ey(u,p,g){g=Math.min(u.i.length,g);const I=u.l?c(u.l.Ka,u.l,u):null;e:{var V=u.i;let Z=-1;for(;;){const Ke=["count="+g];Z==-1?g>0?(Z=V[0].g,Ke.push("ofs="+Z)):Z=0:Ke.push("ofs="+Z);let _e=!0;for(let et=0;et<g;et++){var O=V[et].g;const wn=V[et].map;if(O-=Z,O<0)Z=Math.max(0,V[et].g-100),_e=!1;else try{O="req"+O+"_"||"";try{var U=wn instanceof Map?wn:Object.entries(wn);for(const[hr,di]of U){let fi=di;a(di)&&(fi=Th(di)),Ke.push(O+hr+"="+encodeURIComponent(fi))}}catch(hr){throw Ke.push(O+"type="+encodeURIComponent("_badmap")),hr}}catch{I&&I(wn)}}if(_e){U=Ke.join("&");break e}}U=void 0}return u=u.i.splice(0,g),p.G=u,U}function by(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;N||b(),M||(N(),M=!0),S.add(p,u),u.A=0}}function jh(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=so(c(u.Da,u),Iy(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,Ty(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=so(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),vl(this),Ty(this))};function Fh(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function Ty(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=xn(u.na);Ee(p,"RID","rpc"),Ee(p,"SID",u.M),Ee(p,"AID",u.K),Ee(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ee(p,"TO",u.ia),Ee(p,"TYPE","xmlhttp"),_o(u,p),u.u&&u.o&&Oh(p,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=gl(xn(p)),g.u=null,g.R=!0,Jg(g,u)}t.Va=function(){this.C!=null&&(this.C=null,vl(this),jh(this),Tt(19))};function wl(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function Sy(u,p){var g=null;if(u.g==p){wl(u),Fh(u),u.g=null;var I=2}else if(Nh(u.h,p))g=p.G,ry(u.h,p),I=1;else return;if(u.I!=0){if(p.o)if(I==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var V=u.D;I=fl(),bt(I,new Gg(I,g)),xl(u)}else by(u);else if(V=p.m,V==3||V==0&&p.X>0||!(I==1&&dI(u,p)||I==2&&jh(u)))switch(g&&g.length>0&&(p=u.h,p.i=p.i.concat(g)),V){case 1:ur(u,5);break;case 4:ur(u,10);break;case 3:ur(u,6);break;default:ur(u,2)}}}function Iy(u,p){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*p}function ur(u,p){if(u.j.info("Error code "+p),p==2){var g=c(u.bb,u),I=u.Ua;const V=!I;I=new ci(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||co(I,"https"),gl(I),V?oI(I.toString(),g):aI(I.toString(),g)}else Tt(2);u.I=0,u.l&&u.l.pa(p),Ay(u),xy(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Ay(u){if(u.I=0,u.ja=[],u.l){const p=sy(u.h);(p.length!=0||u.i.length!=0)&&(w(u.ja,p),w(u.ja,u.i),u.h.i.length=0,m(u.i),u.i.length=0),u.l.oa()}}function ky(u,p,g){var I=g instanceof ci?xn(g):new ci(g);if(I.g!="")p&&(I.g=p+"."+I.g),uo(I,I.u);else{var V=o.location;I=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;const O=new ci(null);I&&co(O,I),p&&(O.g=p),V&&uo(O,V),g&&(O.h=g),I=O}return g=u.G,p=u.wa,g&&p&&Ee(I,g,p),Ee(I,"VER",u.ka),_o(u,I),I}function Cy(u,p,g){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new De(new Vh({ab:g})):new De(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Py(){}t=Py.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function El(){}El.prototype.g=function(u,p){return new zt(u,p)};function zt(u,p){ht.call(this),this.g=new vy(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!P(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!P(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Yr(this)}d(zt,ht),zt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Lh(this.g)},zt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=Th(u),u=g);p.i.push(new JS(p.Ya++,u)),p.I==3&&xl(p)},zt.prototype.N=function(){this.g.l=null,delete this.j,Lh(this.g),delete this.g,zt.Z.N.call(this)};function Ry(u){Sh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}d(Ry,Sh);function Ny(){Ih.call(this),this.status=1}d(Ny,Ih);function Yr(u){this.g=u}d(Yr,Py),Yr.prototype.ra=function(){bt(this.g,"a")},Yr.prototype.qa=function(u){bt(this.g,new Ry(u))},Yr.prototype.pa=function(u){bt(this.g,new Ny)},Yr.prototype.oa=function(){bt(this.g,"b")},El.prototype.createWebChannel=El.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,VE=function(){return new El},ME=function(){return fl()},DE=ar,zf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,vc=pl,Kg.COMPLETE="complete",NE=Kg,$g.EventType=io,io.OPEN="a",io.CLOSE="b",io.ERROR="c",io.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Oo=$g,De.prototype.listenOnce=De.prototype.K,De.prototype.getLastError=De.prototype.Ha,De.prototype.getLastErrorCode=De.prototype.ya,De.prototype.getStatus=De.prototype.ca,De.prototype.getResponseJson=De.prototype.La,De.prototype.getResponseText=De.prototype.la,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Fa,RE=De}).apply(typeof zl<"u"?zl:typeof self<"u"?self:typeof window<"u"?window:{});const d0="@firebase/firestore",f0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new wm("@firebase/firestore");function es(){return Or.logLevel}function W(t,...e){if(Or.logLevel<=ae.DEBUG){const n=e.map(bm);Or.debug(`Firestore (${Qs}): ${t}`,...n)}}function ri(t,...e){if(Or.logLevel<=ae.ERROR){const n=e.map(bm);Or.error(`Firestore (${Qs}): ${t}`,...n)}}function Os(t,...e){if(Or.logLevel<=ae.WARN){const n=e.map(bm);Or.warn(`Firestore (${Qs}): ${t}`,...n)}}function bm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,OE(t,i,n)}function OE(t,e,n){let i=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ri(i),new Error(i)}function he(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||OE(e,r,i)}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class rR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sR{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){he(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Bi,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Bi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(he(typeof i.accessToken=="string",31837,{l:i}),new LE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string",2055,{h:e}),new gt(e)}}class oR{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aR{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new oR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$P(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){he(this.o===void 0,3512);const i=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new p0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=cR(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function ie(t,e){return t<e?-1:t>e?1:0}function Uf(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return vd(r)===vd(s)?ie(r,s):vd(r)?1:-1}return ie(t.length,e.length)}const uR=55296,hR=57343;function vd(t){const e=t.charCodeAt(0);return e>=uR&&e<=hR}function Ls(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="__name__";class An{constructor(e,n,i){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Q(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return An.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof An?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=An.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return ie(e.length,n.length)}static compareSegments(e,n){const i=An.isNumericId(e),r=An.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?An.extractNumericId(e).compare(An.extractNumericId(n)):Uf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fi.fromString(e.substring(4,e.length-2))}}class ve extends An{construct(e,n,i){return new ve(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new $(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const dR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends An{construct(e,n,i){return new at(e,n,i)}static isValidIdentifier(e){return dR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m0}static keyField(){return new at([m0])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new $(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new $(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new $(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(ve.fromString(e))}static fromName(e){return new K(ve.fromString(e).popFirst(5))}static empty(){return new K(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t,e,n){if(!n)throw new $(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fR(t,e,n,i){if(e===!0&&i===!0)throw new $(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function g0(t){if(!K.isDocumentKey(t))throw new $(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function y0(t){if(K.isDocumentKey(t))throw new $(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qu(t);throw new $(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e){const n={typeString:t};return e&&(n.value=e),n}function il(t,e){if(!FE(t))throw new $(L.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const o=t[i];if(r&&typeof o!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new $(L.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=-62135596800,v0=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*v0);return new Se(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_0)throw new $(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(il(e,Se._jsonSchema))return new Se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:He("string",Se._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(e){return new X(e)}static min(){return new X(new Se(0,0))}static max(){return new X(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=-1;function pR(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=X.fromTimestamp(i===1e9?new Se(n+1,0):new Se(n,i));return new qi(r,K.empty(),e)}function mR(t){return new qi(t.readTime,t.key,Pa)}class qi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new qi(X.min(),K.empty(),Pa)}static max(){return new qi(X.max(),K.empty(),Pa)}}function gR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==yR)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,i)=>{n(e)})}static reject(e){return new j((n,i)=>{i(e)})}static waitFor(e){return new j((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=j.resolve(!1);for(const i of e)n=n.next(r=>r?j.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new j((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,n){return new j((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function vR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=-1;function Ku(t){return t==null}function su(t){return t===0&&1/t==-1/0}function xR(t){return typeof t=="number"&&Number.isInteger(t)&&!su(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="";function wR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=x0(e)),e=ER(t.get(n),e);return x0(e)}function ER(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case BE:n+="";break;default:n+=s}}return n}function x0(t){return t+BE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ul(this.root,e,this.comparator,!0)}}class Ul{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??ot.RED,this.left=r??ot.EMPTY,this.right=s??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new ot(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ot.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(e){return new E0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class E0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Ht([])}unionWith(e){let n=new Ze(at.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ht(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new UE("Invalid base64 string: "+s):s}}(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const bR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(t){if(he(!!t,39018),typeof t=="string"){let e=0;const n=bR.exec(t);if(he(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ki(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="server_timestamp",WE="__type__",HE="__previous_value__",qE="__local_write_time__";function Im(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[WE])==null?void 0:i.stringValue)===$E}function Qu(t){const e=t.mapValue.fields[HE];return Im(e)?Qu(e):e}function Ra(t){const e=Gi(t.mapValue.fields[qE].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,i,r,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const ou="(default)";class Na{constructor(e,n){this.projectId=e,this.database=n||ou}static empty(){return new Na("","")}get isDefaultDatabase(){return this.database===ou}isEqual(e){return e instanceof Na&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="__type__",SR="__max__",$l={mapValue:{}},KE="__vector__",au="value";function Qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Im(t)?4:AR(t)?9007199254740991:IR(t)?10:11:Q(28295,{value:t})}function Ln(t,e){if(t===e)return!0;const n=Qi(t);if(n!==Qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ra(t).isEqual(Ra(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Gi(r.timestampValue),a=Gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ki(r.bytesValue).isEqual(Ki(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Le(r.geoPointValue.latitude)===Le(s.geoPointValue.latitude)&&Le(r.geoPointValue.longitude)===Le(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Le(r.integerValue)===Le(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Le(r.doubleValue),a=Le(s.doubleValue);return o===a?su(o)===su(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ls(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(w0(o)!==w0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ln(o[l],a[l])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function Da(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function js(t,e){if(t===e)return 0;const n=Qi(t),i=Qi(e);if(n!==i)return ie(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Le(s.integerValue||s.doubleValue),l=Le(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return b0(t.timestampValue,e.timestampValue);case 4:return b0(Ra(t),Ra(e));case 5:return Uf(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ki(s),l=Ki(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ie(a[c],l[c]);if(h!==0)return h}return ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ie(Le(s.latitude),Le(o.latitude));return a!==0?a:ie(Le(s.longitude),Le(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return T0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,m,w,v;const a=s.fields||{},l=o.fields||{},c=(f=a[au])==null?void 0:f.arrayValue,h=(m=l[au])==null?void 0:m.arrayValue,d=ie(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return d!==0?d:T0(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===$l.mapValue&&o===$l.mapValue)return 0;if(s===$l.mapValue)return 1;if(o===$l.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=Uf(l[d],h[d]);if(f!==0)return f;const m=js(a[l[d]],c[h[d]]);if(m!==0)return m}return ie(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function b0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=Gi(t),i=Gi(e),r=ie(n.seconds,i.seconds);return r!==0?r:ie(n.nanos,i.nanos)}function T0(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=js(n[r],i[r]);if(s)return s}return ie(n.length,i.length)}function Fs(t){return $f(t)}function $f(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Gi(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=$f(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${$f(n.fields[o])}`;return r+"}"}(t.mapValue):Q(61005,{value:t})}function xc(t){switch(Qi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qu(t);return e?16+xc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ki(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+xc(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return rr(i.fields,(s,o)=>{r+=s.length+xc(o)}),r}(t.mapValue);default:throw Q(13486,{value:t})}}function S0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wf(t){return!!t&&"integerValue"in t}function Am(t){return!!t&&"arrayValue"in t}function I0(t){return!!t&&"nullValue"in t}function A0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wc(t){return!!t&&"mapValue"in t}function IR(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[GE])==null?void 0:i.stringValue)===KE}function ta(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return rr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ta(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ta(t.arrayValue.values[n]);return e}return{...t}}function AR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ta(n)}setAll(e){let n=at.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=ta(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];wc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){rr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Dt(ta(this.value))}}function QE(t){const e=[];return rr(t.fields,(n,i)=>{const r=new at([n]);if(wc(i)){const s=QE(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Ht(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _t(e,0,X.min(),X.min(),X.min(),Dt.empty(),0)}static newFoundDocument(e,n,i,r){return new _t(e,1,n,X.min(),i,r,0)}static newNoDocument(e,n){return new _t(e,2,n,X.min(),X.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,X.min(),X.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.position=e,this.inclusive=n}}function k0(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=K.comparator(K.fromName(o.referenceValue),n.key):i=js(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function C0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n="asc"){this.field=e,this.dir=n}}function kR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{}class We extends YE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new PR(e,n,i):n==="array-contains"?new DR(e,i):n==="in"?new MR(e,i):n==="not-in"?new VR(e,i):n==="array-contains-any"?new OR(e,i):new We(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new RR(e,i):new NR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(js(n,this.value)):n!==null&&Qi(this.value)===Qi(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _n extends YE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _n(e,n)}matches(e){return XE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XE(t){return t.op==="and"}function JE(t){return CR(t)&&XE(t)}function CR(t){for(const e of t.filters)if(e instanceof _n)return!1;return!0}function Hf(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Fs(t.value);if(JE(t))return t.filters.map(e=>Hf(e)).join(",");{const e=t.filters.map(n=>Hf(n)).join(",");return`${t.op}(${e})`}}function ZE(t,e){return t instanceof We?function(i,r){return r instanceof We&&i.op===r.op&&i.field.isEqual(r.field)&&Ln(i.value,r.value)}(t,e):t instanceof _n?function(i,r){return r instanceof _n&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&ZE(o,r.filters[a]),!0):!1}(t,e):void Q(19439)}function eb(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(t):t instanceof _n?function(n){return n.op.toString()+" {"+n.getFilters().map(eb).join(" ,")+"}"}(t):"Filter"}class PR extends We{constructor(e,n,i){super(e,n,i),this.key=K.fromName(i.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class RR extends We{constructor(e,n){super(e,"in",n),this.keys=tb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NR extends We{constructor(e,n){super(e,"not-in",n),this.keys=tb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tb(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>K.fromName(i.referenceValue))}class DR extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Am(n)&&Da(n.arrayValue,this.value)}}class MR extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Da(this.value.arrayValue,n)}}class VR extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(Da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Da(this.value.arrayValue,n)}}class OR extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Am(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Da(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function P0(t,e=null,n=[],i=[],r=null,s=null,o=null){return new LR(t,e,n,i,r,s,o)}function km(t){const e=J(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Hf(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ku(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Fs(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Fs(i)).join(",")),e.Te=n}return e.Te}function Cm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!C0(t.startAt,e.startAt)&&C0(t.endAt,e.endAt)}function qf(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jR(t,e,n,i,r,s,o,a){return new Js(t,e,n,i,r,s,o,a)}function Pm(t){return new Js(t)}function R0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nb(t){return t.collectionGroup!==null}function na(t){const e=J(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ze(at.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ma(s,i))}),n.has(at.keyField().canonicalString())||e.Ie.push(new Ma(at.keyField(),i))}return e.Ie}function Nn(t){const e=J(t);return e.Ee||(e.Ee=FR(e,na(t))),e.Ee}function FR(t,e){if(t.limitType==="F")return P0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Ma(r.field,s)});const n=t.endAt?new lu(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new lu(t.startAt.position,t.startAt.inclusive):null;return P0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Gf(t,e){const n=t.filters.concat([e]);return new Js(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kf(t,e,n){return new Js(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yu(t,e){return Cm(Nn(t),Nn(e))&&t.limitType===e.limitType}function ib(t){return`${km(Nn(t))}|lt:${t.limitType}`}function ts(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>eb(r)).join(", ")}]`),Ku(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Fs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Fs(r)).join(",")),`Target(${i})`}(Nn(t))}; limitType=${t.limitType})`}function Xu(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):K.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of na(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=k0(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,na(i),r)||i.endAt&&!function(o,a,l){const c=k0(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,na(i),r))}(t,e)}function BR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rb(t){return(e,n)=>{let i=!1;for(const r of na(t)){const s=zR(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function zR(t,e,n){const i=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?js(l,c):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return zE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new Ne(K.comparator);function si(){return UR}const sb=new Ne(K.comparator);function Lo(...t){let e=sb;for(const n of t)e=e.insert(n.key,n);return e}function ob(t){let e=sb;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function br(){return ia()}function ab(){return ia()}function ia(){return new Hr(t=>t.toString(),(t,e)=>t.isEqual(e))}const $R=new Ne(K.comparator),WR=new Ze(K.comparator);function re(...t){let e=WR;for(const n of t)e=e.add(n);return e}const HR=new Ze(ie);function qR(){return HR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(e)?"-0":e}}function lb(t){return{integerValue:""+t}}function GR(t,e){return xR(e)?lb(e):Rm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this._=void 0}}function KR(t,e,n){return t instanceof cu?function(r,s){const o={fields:{[WE]:{stringValue:$E},[qE]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Im(s)&&(s=Qu(s)),s&&(o.fields[HE]=s),{mapValue:o}}(n,e):t instanceof Va?ub(t,e):t instanceof Oa?hb(t,e):function(r,s){const o=cb(r,s),a=N0(o)+N0(r.Ae);return Wf(o)&&Wf(r.Ae)?lb(a):Rm(r.serializer,a)}(t,e)}function QR(t,e,n){return t instanceof Va?ub(t,e):t instanceof Oa?hb(t,e):n}function cb(t,e){return t instanceof uu?function(i){return Wf(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class cu extends Ju{}class Va extends Ju{constructor(e){super(),this.elements=e}}function ub(t,e){const n=db(e);for(const i of t.elements)n.some(r=>Ln(r,i))||n.push(i);return{arrayValue:{values:n}}}class Oa extends Ju{constructor(e){super(),this.elements=e}}function hb(t,e){let n=db(e);for(const i of t.elements)n=n.filter(r=>!Ln(r,i));return{arrayValue:{values:n}}}class uu extends Ju{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function N0(t){return Le(t.integerValue||t.doubleValue)}function db(t){return Am(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YR(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Va&&r instanceof Va||i instanceof Oa&&r instanceof Oa?Ls(i.elements,r.elements,Ln):i instanceof uu&&r instanceof uu?Ln(i.Ae,r.Ae):i instanceof cu&&r instanceof cu}(t.transform,e.transform)}class XR{constructor(e,n){this.version=e,this.transformResults=n}}class gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zu{}function fb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nm(t.key,gn.none()):new rl(t.key,t.data,gn.none());{const n=t.data,i=Dt.empty();let r=new Ze(at.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new sr(t.key,i,new Ht(r.toArray()),gn.none())}}function JR(t,e,n){t instanceof rl?function(r,s,o){const a=r.value.clone(),l=M0(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof sr?function(r,s,o){if(!Ec(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=M0(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(pb(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ra(t,e,n,i){return t instanceof rl?function(s,o,a,l){if(!Ec(s.precondition,o))return a;const c=s.value.clone(),h=V0(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof sr?function(s,o,a,l){if(!Ec(s.precondition,o))return a;const c=V0(s.fieldTransforms,l,o),h=o.data;return h.setAll(pb(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return Ec(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function ZR(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=cb(i.transform,r||null);s!=null&&(n===null&&(n=Dt.empty()),n.set(i.field,s))}return n||null}function D0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ls(i,r,(s,o)=>YR(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rl extends Zu{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class sr extends Zu{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function M0(t,e,n){const i=new Map;he(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,QR(o,a,n[r]))}return i}function V0(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,KR(s,o,e))}return i}class Nm extends Zu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eN extends Zu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&JR(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ra(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ra(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=ab();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=fb(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(X.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(n,i)=>D0(n,i))&&Ls(this.baseMutations,e.baseMutations,(n,i)=>D0(n,i))}}class Dm{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){he(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return $R}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Dm(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,oe;function rN(t){switch(t){case L.OK:return Q(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function mb(t){if(t===void 0)return ri("GRPC error has no .code"),L.UNKNOWN;switch(t){case Ue.OK:return L.OK;case Ue.CANCELLED:return L.CANCELLED;case Ue.UNKNOWN:return L.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return L.INTERNAL;case Ue.UNAVAILABLE:return L.UNAVAILABLE;case Ue.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ue.NOT_FOUND:return L.NOT_FOUND;case Ue.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ue.ABORTED:return L.ABORTED;case Ue.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ue.DATA_LOSS:return L.DATA_LOSS;default:return Q(39323,{code:t})}}(oe=Ue||(Ue={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new Fi([4294967295,4294967295],0);function O0(t){const e=sN().encode(t),n=new PE;return n.update(e),new Uint8Array(n.digest())}function L0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fi([n,i],0),new Fi([r,s],0)]}class Mm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new jo(`Invalid padding: ${n}`);if(i<0)throw new jo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new jo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new jo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fi.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Fi.fromNumber(i)));return r.compare(oN)===1&&(r=new Fi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=O0(e),[i,r]=L0(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);if(!this.we(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Mm(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=O0(e),[i,r]=L0(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,sl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new eh(X.min(),r,new Ne(ie),si(),re())}}class sl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new sl(i,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,i,r){this.be=e,this.removedTargetIds=n,this.key=i,this.De=r}}class gb{constructor(e,n){this.targetId=e,this.Ce=n}}class yb{constructor(e,n,i=ut.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class j0{constructor(){this.ve=0,this.Fe=F0(),this.Me=ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=re(),n=re(),i=re();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Q(38017,{changeType:s})}}),new sl(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=F0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,he(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aN{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.Je=Wl(),this.He=Wl(),this.Ye=new Ne(ie)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(qf(s))if(i===0){const o=new K(s.path);this.et(n,o,_t.newNoDocument(o,X.min()))}else he(i===1,20013,{expectedCount:i});else{const o=this._t(n);if(o!==i){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Ki(i).toUint8Array()}catch(l){if(l instanceof UE)return Os("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Mm(o,r,s)}catch(l){return Os(l instanceof jo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&qf(a.target)){const l=new K(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,_t.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let i=re();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const r=new eh(e,n,this.Ye,this.je,i);return this.je=si(),this.Je=Wl(),this.He=Wl(),this.Ye=new Ne(ie),r}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new j0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ze(ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ze(ie),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wl(){return new Ne(K.comparator)}function F0(){return new Ne(K.comparator)}const lN={asc:"ASCENDING",desc:"DESCENDING"},cN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uN={and:"AND",or:"OR"};class hN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qf(t,e){return t.useProto3Json||Ku(e)?e:{value:e}}function hu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _b(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dN(t,e){return hu(t,e.toTimestamp())}function Dn(t){return he(!!t,49232),X.fromTimestamp(function(n){const i=Gi(n);return new Se(i.seconds,i.nanos)}(t))}function Vm(t,e){return Yf(t,e).canonicalString()}function Yf(t,e){const n=function(r){return new ve(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vb(t){const e=ve.fromString(t);return he(Tb(e),10190,{key:e.toString()}),e}function Xf(t,e){return Vm(t.databaseId,e.path)}function xd(t,e){const n=vb(e);if(n.get(1)!==t.databaseId.projectId)throw new $(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(wb(n))}function xb(t,e){return Vm(t.databaseId,e)}function fN(t){const e=vb(t);return e.length===4?ve.emptyPath():wb(e)}function Jf(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wb(t){return he(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function B0(t,e,n){return{name:Xf(t,e),fields:n.value.mapValue.fields}}function pN(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(he(h===void 0||typeof h=="string",58123),ut.fromBase64String(h||"")):(he(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ut.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?L.UNKNOWN:mb(c.code);return new $(h,c.message||"")}(o);n=new yb(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=xd(t,i.document.name),s=Dn(i.document.updateTime),o=i.document.createTime?Dn(i.document.createTime):X.min(),a=new Dt({mapValue:{fields:i.document.fields}}),l=_t.newFoundDocument(r,s,o,a),c=i.targetIds||[],h=i.removedTargetIds||[];n=new bc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=xd(t,i.document),s=i.readTime?Dn(i.readTime):X.min(),o=_t.newNoDocument(r,s),a=i.removedTargetIds||[];n=new bc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=xd(t,i.document),s=i.removedTargetIds||[];n=new bc([],s,r,null)}else{if(!("filter"in e))return Q(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new iN(r,s),a=i.targetId;n=new gb(a,o)}}return n}function mN(t,e){let n;if(e instanceof rl)n={update:B0(t,e.key,e.value)};else if(e instanceof Nm)n={delete:Xf(t,e.key)};else if(e instanceof sr)n={update:B0(t,e.key,e.data),updateMask:TN(e.fieldMask)};else{if(!(e instanceof eN))return Q(16599,{Vt:e.type});n={verify:Xf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof cu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Va)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof uu)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Q(20930,{transform:o.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:dN(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(t,e.precondition)),n}function gN(t,e){return t&&t.length>0?(he(e!==void 0,14353),t.map(n=>function(r,s){let o=r.updateTime?Dn(r.updateTime):Dn(s);return o.isEqual(X.min())&&(o=Dn(s)),new XR(o,r.transformResults||[])}(n,e))):[]}function yN(t,e){return{documents:[xb(t,e.path)]}}function _N(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=xb(t,r);const s=function(c){if(c.length!==0)return bb(_n.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:ns(f.field),direction:wN(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Qf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function vN(t){let e=fN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){he(i===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=Eb(d);return f instanceof _n&&JE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(w){return new Ma(is(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Ku(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new lu(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,m=d.values||[];return new lu(m,f)}(n.endAt)),jR(e,r,o,s,a,"F",l,c)}function xN(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Eb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=is(n.unaryFilter.field);return We.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=is(n.unaryFilter.field);return We.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=is(n.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=is(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return We.create(is(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _n.create(n.compositeFilter.filters.map(i=>Eb(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function wN(t){return lN[t]}function EN(t){return cN[t]}function bN(t){return uN[t]}function ns(t){return{fieldPath:t.canonicalString()}}function is(t){return at.fromServerFormat(t.fieldPath)}function bb(t){return t instanceof We?function(n){if(n.op==="=="){if(A0(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(A0(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ns(n.field),op:EN(n.op),value:n.value}}}(t):t instanceof _n?function(n){const i=n.getFilters().map(r=>bb(r));return i.length===1?i[0]:{compositeFilter:{op:bN(n.op),filters:i}}}(t):Q(54877,{filter:t})}function TN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,i,r,s=X.min(),o=X.min(),a=ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.yt=e}}function IN(t){const e=vN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.Cn=new kN}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(qi.min())}updateCollectionGroup(e,n,i){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class kN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ze(ve.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ze(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sb=41943040;class Rt{static withCacheSize(e){return new Rt(e,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rt.DEFAULT_COLLECTION_PERCENTILE=10,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rt.DEFAULT=new Rt(Sb,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rt.DISABLED=new Rt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bs(0)}static cr(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LruGarbageCollector",CN=1048576;function $0([t,e],[n,i]){const r=ie(t,n);return r===0?ie(e,i):r}class PN{constructor(e){this.Ir=e,this.buffer=new Ze($0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();$0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(U0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xs(n)?W(U0,"Ignoring IndexedDB error during garbage collection: ",n):await Ys(n)}await this.Vr(3e5)})}}class NN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Gu.ce);const i=new PN(n);return this.mr.forEachTarget(e,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(z0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,r,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,o=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),es()<=ae.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:d})))}}function DN(t,e){return new NN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.changes=new Hr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&ra(i.mutation,r,Ht.empty(),Se.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,re()).next(()=>i))}getLocalViewOfDocuments(e,n,i=re()){const r=br();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Lo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=br();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,re()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=si();const o=ia(),a=function(){return ia()}();return n.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(h===void 0||h.mutation instanceof sr)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ra(h.mutation,c,h.mutation.getFieldMask(),Se.now())):o.set(c.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new VN(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const i=ia();let r=new Ne((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||Ht.empty();h=a.applyToLocalView(c,h),i.set(l,h);const d=(r.get(a.batchId)||re()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=ab();h.forEach(f=>{if(!s.has(f)){const m=fb(n.get(f),i.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return j.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):j.resolve(br());let a=Pa,l=s;return o.next(c=>j.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,re())).next(h=>({batchId:a,changes:ob(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(i=>{let r=Lo();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Lo();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const c=function(d,f){return new Js(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,_t.newInvalidDocument(h)))});let a=Lo();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&ra(h.mutation,c,Ht.empty(),Se.now()),Xu(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Dn(r.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:IN(r.bundledQuery),readTime:Dn(r.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.overlays=new Ne(K.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const i=br();return j.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.St(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),j.resolve()}getOverlaysForCollection(e,n,i){const r=br(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return j.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ne((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=s.get(c.largestBatchId);h===null&&(h=br(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=br(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return j.resolve(a)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new nN(n,i));let s=this.qr.get(n);s===void 0&&(s=re(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this.Qr=new Ze(tt.$r),this.Ur=new Ze(tt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new tt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new tt(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new K(new ve([])),i=new tt(n,e),r=new tt(n,e+1),s=[];return this.Ur.forEachInRange([i,r],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new K(new ve([])),i=new tt(n,e),r=new tt(n,e+1);let s=re();return this.Ur.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class tt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return K.comparator(e.key,n.key)||ie(e.Yr,n.Yr)}static Kr(e,n){return ie(e.Yr,n.Yr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(tt.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tN(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Zr=this.Zr.add(new tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ei(i),s=r<0?0:r;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Sm:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new tt(n,0),r=new tt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],o=>{const a=this.Xr(o.Yr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ze(ie);return n.forEach(r=>{const s=new tt(r,0),o=new tt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{i=i.add(a.Yr)})}),j.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;K.isDocumentKey(s)||(s=s.child(""));const o=new tt(new K(s),0);let a=new Ze(ie);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Yr)),!0)},o),j.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){he(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return j.forEach(n.mutations,r=>{const s=new tt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new tt(n,0),r=this.Zr.firstAfterOrEqual(i);return j.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.ri=e,this.docs=function(){return new Ne(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let i=si();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():_t.newInvalidDocument(r))}),j.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=si();const o=n.path,a=new K(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||gR(mR(h),i)<=0||(r.has(h.key)||Xu(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Q(9500)}ii(e,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new UN(this)}getSize(e){return j.resolve(this.size)}}class UN extends MN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)}),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.persistence=e,this.si=new Hr(n=>km(n),Cm),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.oi=0,this._i=new Om,this.targetCount=0,this.ai=Bs.ur()}forEachTarget(e,n){return this.si.forEach((i,r)=>n(r)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),j.waitFor(s).next(()=>r)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return j.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),j.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return j.resolve(i)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gu(0),this.li=!1,this.li=!0,this.hi=new FN,this.referenceDelegate=e(this),this.Pi=new $N(this),this.indexManager=new AN,this.remoteDocumentCache=function(r){return new zN(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new SN(n),this.Ii=new LN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new BN(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){W("MemoryPersistence","Starting transaction:",e);const r=new WN(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(e,n){return j.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class WN extends _R{constructor(e){super(),this.currentSequenceNumber=e}}class Lm{constructor(e){this.persistence=e,this.Ri=new Om,this.Vi=null}static mi(e){return new Lm(e)}get fi(){if(this.Vi)return this.Vi;throw Q(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),j.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,i=>{const r=K.fromPath(i);return this.gi(e,r).next(s=>{s||n.removeEntry(r,X.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class du{constructor(e,n){this.persistence=e,this.pi=new Hr(i=>wR(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=DN(this,n)}static mi(e,n){return new du(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return j.forEach(this.pi,(i,r)=>this.br(e,i,r).next(s=>s?j.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,n).next(a=>{a||(i++,s.removeEntry(o,X.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),j.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xc(e.data.value)),n}br(e,n,i){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return j.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=r}static As(e,n){let i=re(),r=re();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new jm(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return B2()?8:vR(j2())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new HN;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,i,r){return i.documentReadCount<this.fs?(es()<=ae.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ts(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(es()<=ae.DEBUG&&W("QueryEngine","Query:",ts(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(es()<=ae.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ts(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):j.resolve())}ys(e,n){if(R0(n))return j.resolve(null);let i=Nn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Kf(n,null,"F"),i=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=re(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Kf(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,i,r){return R0(n)||r.isEqual(X.min())?j.resolve(null):this.ps.getDocuments(e,i).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,i,r)?j.resolve(null):(es()<=ae.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ts(n)),this.vs(e,o,n,pR(r,Pa)).next(a=>a))})}Ds(e,n){let i=new Ze(rb(e));return n.forEach((r,s)=>{Xu(e,s)&&(i=i.add(s))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,n,i){return es()<=ae.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ts(n)),this.ps.getDocumentsMatchingQuery(e,n,qi.min(),i)}vs(e,n,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LocalStore",GN=3e8;class KN{constructor(e,n,i,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Ne(ie),this.xs=new Hr(s=>km(s),Cm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ON(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function QN(t,e,n,i){return new KN(t,e,n,i)}async function Ab(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=re();for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function YN(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let m=j.resolve();return f.forEach(w=>{m=m.next(()=>h.getEntry(l,w)).next(v=>{const _=c.docVersions.get(w);he(_!==null,48541),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function kb(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function XN(t,e){const n=J(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const f=r.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(ut.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,i)),r=r.insert(d,m),function(v,_,x){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=GN?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,m,h)&&a.push(n.Pi.updateTargetData(s,m))});let l=si(),c=re();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(JN(s,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!i.isEqual(X.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=r,s))}function JN(t,e,n){let i=re(),r=re();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=si();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W(Fm,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:r}})}function ZN(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Sm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function eD(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,e).next(s=>s?(r=s,j.resolve(r)):n.Pi.allocateTargetId(i).next(o=>(r=new bi(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function Zf(t,e,n){const i=J(t),r=i.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Xs(o))throw o;W(Fm,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function W0(t,e,n){const i=J(t);let r=X.min(),s=re();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=J(l),f=d.xs.get(h);return f!==void 0?j.resolve(d.Ms.get(f)):d.Pi.getTargetData(c,h)}(i,o,Nn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Fs.getDocumentsMatchingQuery(o,e,n?r:X.min(),n?s:re())).next(a=>(tD(i,BR(e),a),{documents:a,Qs:s})))}function tD(t,e,n){let i=t.Os.get(e)||X.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Os.set(e,i)}class H0{constructor(){this.activeTargetIds=qR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nD{constructor(){this.Mo=new H0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new H0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="ConnectivityMonitor";class G0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(q0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl=null;function ep(){return Hl===null?Hl=function(){return 268435456+Math.round(2147483648*Math.random())}():Hl++,"0x"+Hl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",rD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===ou?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,n,i,r,s){const o=ep(),a=this.zo(e,n.toUriEncodedString());W(wd,`Sending RPC '${e}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,r,s);const{host:c}=new URL(a),h=_m(c);return this.Jo(e,a,l,i,h).then(d=>(W(wd,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Os(wd,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",i),d})}Ho(e,n,i,r,s,o){return this.Go(e,n,i,r,s)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}zo(e,n){const i=rD[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class aD extends sD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,s){const o=ep();return new Promise((a,l)=>{const c=new RE;c.setWithCredentials(!0),c.listenOnce(NE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vc.NO_ERROR:const d=c.getResponseJson();W(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case vc.TIMEOUT:W(pt,`RPC '${e}' ${o} timed out`),l(new $(L.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const f=c.getStatus();if(W(pt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const v=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(E)>=0?E:L.UNKNOWN}(w.status);l(new $(v,w.message))}else l(new $(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new $(L.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{W(pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);W(pt,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",h,i,15)})}T_(e,n,i){const r=ep(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VE(),a=ME(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");W(pt,`Creating RPC '${e}' stream ${r}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let f=!1,m=!1;const w=new oD({Yo:_=>{m?W(pt,`Not sending because RPC '${e}' stream ${r} is closed:`,_):(f||(W(pt,`Opening RPC '${e}' stream ${r} transport.`),d.open(),f=!0),W(pt,`RPC '${e}' stream ${r} sending:`,_),d.send(_))},Zo:()=>d.close()}),v=(_,x,E)=>{_.listen(x,T=>{try{E(T)}catch(R){setTimeout(()=>{throw R},0)}})};return v(d,Oo.EventType.OPEN,()=>{m||(W(pt,`RPC '${e}' stream ${r} transport opened.`),w.o_())}),v(d,Oo.EventType.CLOSE,()=>{m||(m=!0,W(pt,`RPC '${e}' stream ${r} transport closed`),w.a_(),this.E_(d))}),v(d,Oo.EventType.ERROR,_=>{m||(m=!0,Os(pt,`RPC '${e}' stream ${r} transport errored. Name:`,_.name,"Message:",_.message),w.a_(new $(L.UNAVAILABLE,"The operation could not be completed")))}),v(d,Oo.EventType.MESSAGE,_=>{var x;if(!m){const E=_.data[0];he(!!E,16349);const T=E,R=(T==null?void 0:T.error)||((x=T[0])==null?void 0:x.error);if(R){W(pt,`RPC '${e}' stream ${r} received error:`,R);const N=R.status;let M=function(A){const k=Ue[A];if(k!==void 0)return mb(k)}(N),S=R.message;M===void 0&&(M=L.INTERNAL,S="Unknown error status: "+N+" with message "+R.message),m=!0,w.a_(new $(M,S)),d.close()}else W(pt,`RPC '${e}' stream ${r} received:`,E),w.u_(E)}}),v(a,DE.STAT_EVENT,_=>{_.stat===zf.PROXY?W(pt,`RPC '${e}' stream ${r} detected buffering proxy`):_.stat===zf.NOPROXY&&W(pt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){return new hN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&W("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="PersistentStream";class Pb{constructor(e,n,i,r,s,o,a,l){this.Mi=e,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new $(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(K0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(K0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lD extends Pb{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pN(this.serializer,e),i=function(s){if(!("targetChange"in s))return X.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?Dn(o.readTime):X.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Jf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=qf(l)?{documents:yN(s,l)}:{query:_N(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_b(s,o.resumeToken);const c=Qf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(X.min())>0){a.readTime=hu(s,o.snapshotVersion.toTimestamp());const c=Qf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=xN(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Jf(this.serializer),n.removeTarget=e,this.q_(n)}}class cD extends Pb{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return he(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){he(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gN(e.writeResults,e.commitTime),i=Dn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Jf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>mN(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{}class hD extends uD{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new $(L.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Yf(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(L.UNKNOWN,s.toString())})}Ho(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Yf(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(L.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class dD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ri(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="RemoteStore";class fD{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{i.enqueueAndForget(async()=>{qr(this)&&(W(Lr,"Restarting streams for network reachability change."),await async function(l){const c=J(l);c.Ea.add(4),await ol(c),c.Ra.set("Unknown"),c.Ea.delete(4),await nh(c)}(this))})}),this.Ra=new dD(i,r)}}async function nh(t){if(qr(t))for(const e of t.da)await e(!0)}async function ol(t){for(const e of t.da)await e(!1)}function Rb(t,e){const n=J(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$m(n)?Um(n):Zs(n).O_()&&zm(n,e))}function Bm(t,e){const n=J(t),i=Zs(n);n.Ia.delete(e),i.O_()&&Nb(n,e),n.Ia.size===0&&(i.O_()?i.L_():qr(n)&&n.Ra.set("Unknown"))}function zm(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zs(t).Y_(e)}function Nb(t,e){t.Va.Ue(e),Zs(t).Z_(e)}function Um(t){t.Va=new aN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Zs(t).start(),t.Ra.ua()}function $m(t){return qr(t)&&!Zs(t).x_()&&t.Ia.size>0}function qr(t){return J(t).Ea.size===0}function Db(t){t.Va=void 0}async function pD(t){t.Ra.set("Online")}async function mD(t){t.Ia.forEach((e,n)=>{zm(t,e)})}async function gD(t,e){Db(t),$m(t)?(t.Ra.ha(e),Um(t)):t.Ra.set("Unknown")}async function yD(t,e,n){if(t.Ra.set("Online"),e instanceof yb&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.Ia.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.Ia.delete(a),r.Va.removeTarget(a))}(t,e)}catch(i){W(Lr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fu(t,i)}else if(e instanceof bc?t.Va.Ze(e):e instanceof gb?t.Va.st(e):t.Va.tt(e),!n.isEqual(X.min()))try{const i=await kb(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(ut.EMPTY_BYTE_STRING,h.snapshotVersion)),Nb(s,l);const d=new bi(h.target,l,c,h.sequenceNumber);zm(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){W(Lr,"Failed to raise snapshot:",i),await fu(t,i)}}async function fu(t,e,n){if(!Xs(e))throw e;t.Ea.add(1),await ol(t),t.Ra.set("Offline"),n||(n=()=>kb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(Lr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await nh(t)})}function Mb(t,e){return e().catch(n=>fu(t,n,e))}async function ih(t){const e=J(t),n=Yi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sm;for(;_D(e);)try{const r=await ZN(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,vD(e,r)}catch(r){await fu(e,r)}Vb(e)&&Ob(e)}function _D(t){return qr(t)&&t.Ta.length<10}function vD(t,e){t.Ta.push(e);const n=Yi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Vb(t){return qr(t)&&!Yi(t).x_()&&t.Ta.length>0}function Ob(t){Yi(t).start()}async function xD(t){Yi(t).ra()}async function wD(t){const e=Yi(t);for(const n of t.Ta)e.ea(n.mutations)}async function ED(t,e,n){const i=t.Ta.shift(),r=Dm.from(i,e,n);await Mb(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ih(t)}async function bD(t,e){e&&Yi(t).X_&&await async function(i,r){if(function(o){return rN(o)&&o!==L.ABORTED}(r.code)){const s=i.Ta.shift();Yi(i).B_(),await Mb(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ih(i)}}(t,e),Vb(t)&&Ob(t)}async function Q0(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),W(Lr,"RemoteStore received new credentials");const i=qr(n);n.Ea.add(3),await ol(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nh(n)}async function TD(t,e){const n=J(t);e?(n.Ea.delete(2),await nh(n)):e||(n.Ea.add(2),await ol(n),n.Ra.set("Unknown"))}function Zs(t){return t.ma||(t.ma=function(n,i,r){const s=J(n);return s.sa(),new lD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:pD.bind(null,t),t_:mD.bind(null,t),r_:gD.bind(null,t),H_:yD.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),$m(t)?Um(t):t.Ra.set("Unknown")):(await t.ma.stop(),Db(t))})),t.ma}function Yi(t){return t.fa||(t.fa=function(n,i,r){const s=J(n);return s.sa(),new cD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xD.bind(null,t),r_:bD.bind(null,t),ta:wD.bind(null,t),na:ED.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ih(t)):(await t.fa.stop(),t.Ta.length>0&&(W(Lr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new Wm(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(t,e){if(ri("AsyncQueue",`${e}: ${t}`),Xs(t))return new $(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||K.comparator(n.key,i.key):(n,i)=>K.comparator(n.key,i.key),this.keyedMap=Lo(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Es;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.ga=new Ne(K.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class zs{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zs(e,n,Es.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ID{constructor(){this.queries=X0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=J(n),s=r.queries;r.queries=X0(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(i)})})(this,new $(L.ABORTED,"Firestore shutting down"))}}function X0(){return new Hr(t=>ib(t),Yu)}async function Lb(t,e){const n=J(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.ba()&&e.Da()&&(i=2):(s=new SD,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=Hm(o,`Initialization of query '${ts(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&qm(n)}async function jb(t,e){const n=J(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function AD(t,e){const n=J(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(r)&&(i=!0);o.wa=r}}i&&qm(n)}function kD(t,e,n){const i=J(t),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(e)}function qm(t){t.Ca.forEach(e=>{e.next()})}var tp,J0;(J0=tp||(tp={})).Ma="default",J0.Cache="cache";class Fb{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new zs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.key=e}}class zb{constructor(e){this.key=e}}class CD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=re(),this.mutatedKeys=re(),this.eu=rb(e),this.tu=new Es(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Y0,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,d)=>{const f=r.get(h),m=Xu(this.query,d)?d:null,w=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;f&&m?f.data.isEqual(m.data)?w!==v&&(i.track({type:3,doc:m}),_=!0):this.su(f,m)||(i.track({type:2,doc:m}),_=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!f&&m?(i.track({type:0,doc:m}),_=!0):f&&!m&&(i.track({type:1,doc:f}),_=!0,(l||c)&&(a=!0)),_&&(m?(o=o.add(m),s=v?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{tu:o,iu:i,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(m,w){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Rt:_})}};return v(m)-v(w)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(i),r=r??!1;const a=n&&!r?this._u():[],l=this.Xa.size===0&&this.current&&!r?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new zs(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=re(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new zb(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new Bb(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gm="SyncEngine";class PD{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class RD{constructor(e){this.key=e,this.hu=!1}}class ND{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Hr(a=>ib(a),Yu),this.Iu=new Map,this.Eu=new Set,this.du=new Ne(K.comparator),this.Au=new Map,this.Ru=new Om,this.Vu={},this.mu=new Map,this.fu=Bs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DD(t,e,n=!0){const i=Gb(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await Ub(i,e,n,!0),r}async function MD(t,e){const n=Gb(t);await Ub(n,e,!0,!1)}async function Ub(t,e,n,i){const r=await eD(t.localStore,Nn(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await VD(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&Rb(t.remoteStore,r),a}async function VD(t,e,n,i,r){t.pu=(d,f,m)=>async function(v,_,x,E){let T=_.view.ru(x);T.Cs&&(T=await W0(v.localStore,_.query,!1).then(({documents:S})=>_.view.ru(S,T)));const R=E&&E.targetChanges.get(_.targetId),N=E&&E.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(T,v.isPrimaryClient,R,N);return ev(v,_.targetId,M.au),M.snapshot}(t,d,f,m);const s=await W0(t.localStore,e,!0),o=new CD(e,s.Qs),a=o.ru(s.documents),l=sl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);ev(t,n,c.au);const h=new PD(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function OD(t,e,n){const i=J(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(o=>!Yu(o,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Zf(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Bm(i.remoteStore,r.targetId),np(i,r.targetId)}).catch(Ys)):(np(i,r.targetId),await Zf(i.localStore,r.targetId,!0))}async function LD(t,e){const n=J(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Bm(n.remoteStore,i.targetId))}async function jD(t,e,n){const i=HD(t);try{const r=await function(o,a){const l=J(o),c=Se.now(),h=a.reduce((m,w)=>m.add(w.key),re());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=si(),v=re();return l.Ns.getEntries(m,h).next(_=>{w=_,w.forEach((x,E)=>{E.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(_=>{d=_;const x=[];for(const E of a){const T=ZR(E,d.get(E.key).overlayedDocument);T!=null&&x.push(new sr(E.key,T,QE(T.value.mapValue),gn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(_=>{f=_;const x=_.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(m,_.batchId,x)})}).then(()=>({batchId:f.batchId,changes:ob(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Ne(ie)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(i,r.batchId,n),await al(i,r.changes),await ih(i.remoteStore)}catch(r){const s=Hm(r,"Failed to persist write");n.reject(s)}}async function $b(t,e){const n=J(t);try{const i=await XN(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Au.get(s);o&&(he(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?he(o.hu,14607):r.removedDocuments.size>0&&(he(o.hu,42227),o.hu=!1))}),await al(n,i,e)}catch(i){await Ys(i)}}function Z0(t,e,n){const i=J(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=J(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.Sa)f.va(a)&&(c=!0)}),c&&qm(l)}(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function FD(t,e,n){const i=J(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let o=new Ne(K.comparator);o=o.insert(s,_t.newNoDocument(s,X.min()));const a=re().add(s),l=new eh(X.min(),new Map,new Ne(ie),o,a);await $b(i,l),i.du=i.du.remove(s),i.Au.delete(e),Km(i)}else await Zf(i.localStore,e,!1).then(()=>np(i,e,n)).catch(Ys)}async function BD(t,e){const n=J(t),i=e.batch.batchId;try{const r=await YN(n.localStore,e);Hb(n,i,null),Wb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await al(n,r)}catch(r){await Ys(r)}}async function zD(t,e,n){const i=J(t);try{const r=await function(o,a){const l=J(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(he(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);Hb(i,e,n),Wb(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await al(i,r)}catch(r){await Ys(r)}}function Wb(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Hb(t,e,n){const i=J(t);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function np(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||qb(t,i)})}function qb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Bm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Km(t))}function ev(t,e,n){for(const i of n)i instanceof Bb?(t.Ru.addReference(i.key,e),UD(t,i)):i instanceof zb?(W(Gm,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||qb(t,i.key)):Q(19791,{wu:i})}function UD(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(W(Gm,"New document in limbo: "+n),t.Eu.add(i),Km(t))}function Km(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new K(ve.fromString(e)),i=t.fu.next();t.Au.set(i,new RD(n)),t.du=t.du.insert(n,i),Rb(t.remoteStore,new bi(Nn(Pm(n.path)),i,"TargetPurposeLimboResolution",Gu.ce))}}async function al(t,e,n){const i=J(t),r=[],s=[],o=[];i.Tu.isEmpty()||(i.Tu.forEach((a,l)=>{o.push(i.pu(l,e,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){r.push(c);const d=jm.As(l.targetId,c);s.push(d)}}))}),await Promise.all(o),i.Pu.H_(r),await async function(l,c){const h=J(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(c,f=>j.forEach(f.Es,m=>h.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>j.forEach(f.ds,m=>h.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!Xs(d))throw d;W(Fm,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const m=h.Ms.get(f),w=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(f,v)}}}(i.localStore,s))}async function $D(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){W(Gm,"User change. New user:",e.toKey());const i=await Ab(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new $(L.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await al(n,i.Ls)}}function WD(t,e){const n=J(t),i=n.Au.get(e);if(i&&i.hu)return re().add(i.key);{let r=re();const s=n.Iu.get(e);if(!s)return r;for(const o of s){const a=n.Tu.get(o);r=r.unionWith(a.view.nu)}return r}}function Gb(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FD.bind(null,e),e.Pu.H_=AD.bind(null,e.eventManager),e.Pu.yu=kD.bind(null,e.eventManager),e}function HD(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zD.bind(null,e),e}class pu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QN(this.persistence,new qN,e.initialUser,this.serializer)}Cu(e){return new Ib(Lm.mi,this.serializer)}Du(e){return new nD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pu.provider={build:()=>new pu};class qD extends pu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){he(this.persistence.referenceDelegate instanceof du,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new RN(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rt.withCacheSize(this.cacheSizeBytes):Rt.DEFAULT;return new Ib(i=>du.mi(i,n),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Z0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$D.bind(null,this.syncEngine),await TD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ID}()}createDatastore(e){const n=th(e.databaseInfo.databaseId),i=function(s){return new aD(s)}(e.databaseInfo);return function(s,o,a,l){return new hD(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new fD(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Z0(this.syncEngine,n,0),function(){return G0.v()?new G0:new iD}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,h){const d=new ND(r,s,o,a,l,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=J(r);W(Lr,"RemoteStore shutting down."),s.Ea.add(5),await ol(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="FirestoreClient";class GD{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=gt.UNAUTHENTICATED,this.clientId=Tm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{W(Xi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(W(Xi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Hm(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function bd(t,e){t.asyncQueue.verifyOperationInProgress(),W(Xi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Ab(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KD(t);W(Xi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Q0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Q0(e.remoteStore,r)),t._onlineComponents=e}async function KD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Xi,"Using user provided OfflineComponentProvider");try{await bd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Os("Error using user provided cache. Falling back to memory cache: "+n),await bd(t,new pu)}}else W(Xi,"Using default OfflineComponentProvider"),await bd(t,new qD(void 0));return t._offlineComponents}async function Qb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Xi,"Using user provided OnlineComponentProvider"),await tv(t,t._uninitializedComponentsProvider._online)):(W(Xi,"Using default OnlineComponentProvider"),await tv(t,new ip))),t._onlineComponents}function QD(t){return Qb(t).then(e=>e.syncEngine)}async function rp(t){const e=await Qb(t),n=e.eventManager;return n.onListen=DD.bind(null,e.syncEngine),n.onUnlisten=OD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LD.bind(null,e.syncEngine),n}function YD(t,e,n={}){const i=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Kb({next:f=>{h.Nu(),o.enqueueAndForget(()=>jb(s,d)),f.fromCache&&l.source==="server"?c.reject(new $(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new Fb(a,h,{includeMetadataChanges:!0,qa:!0});return Lb(s,d)}(await rp(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firestore.googleapis.com",iv=!0;class rv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xb,this.ssl=iv}else this.host=e.host,this.ssl=e.ssl??iv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CN)throw new $(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yb(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new $(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new $(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new $(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new iR;switch(i.type){case"firstParty":return new aR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=nv.get(n);i&&(W("ComponentProvider","Removing Datastore"),nv.delete(n),i.terminate())}(this),Promise.resolve()}}function XD(t,e,n,i={}){var c;t=mn(t,rh);const r=_m(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;r&&(D2(`https://${a}`),L2("Firestore",!0)),s.host!==Xb&&s.host!==a&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:r,emulatorOptions:i};if(!ka(l,o)&&(t._setSettings(l),i.mockUserToken)){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=gt.MOCK_USER;else{h=M2(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new $(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new gt(f)}t._authCredentials=new rR(new LE(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new or(this.firestore,e,this._query)}}class Fe{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fe(this.firestore,e,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(il(n,Fe._jsonSchema))return new Fe(e,i||null,new K(ve.fromString(n.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:He("string",Fe._jsonSchemaVersion),referencePath:He("string")};class zi extends or{constructor(e,n,i){super(e,n,Pm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fe(this.firestore,null,new K(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function sh(t,e,...n){if(t=Qt(t),jE("collection","path",e),t instanceof rh){const i=ve.fromString(e,...n);return y0(i),new zi(t,null,i)}{if(!(t instanceof Fe||t instanceof zi))throw new $(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ve.fromString(e,...n));return y0(i),new zi(t.firestore,null,i)}}function eo(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=Tm.newId()),jE("doc","path",e),t instanceof rh){const i=ve.fromString(e,...n);return g0(i),new Fe(t,null,new K(i))}{if(!(t instanceof Fe||t instanceof zi))throw new $(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ve.fromString(e,...n));return g0(i),new Fe(t.firestore,t instanceof zi?t.converter:null,new K(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="AsyncQueue";class ov{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cb(this,"async_queue_retry"),this._c=()=>{const i=Ed();i&&W(sv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Ed();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ed();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Bi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xs(e))throw e;W(sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,ri("INTERNAL UNHANDLED ERROR: ",av(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Wm.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&Q(47125,{Pc:av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function av(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class jr extends rh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new ov,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ov(e),this._firestoreClient=void 0,await e}}}function JD(t,e){const n=typeof t=="object"?t:AE(),i=typeof t=="string"?t:ou,r=nl(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=R2("firestore");s&&XD(r,...s)}return r}function Qm(t){if(t._terminated)throw new $(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZD(t),t._firestoreClient}function ZD(t){var i,r,s;const e=t._freezeSettings(),n=function(a,l,c,h){return new TR(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Yb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tn(ut.fromBase64String(e))}catch(n){throw new $(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tn(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(il(e,tn._jsonSchema))return tn.fromBase64String(e.bytes)}}tn._jsonSchemaVersion="firestore/bytes/1.0",tn._jsonSchema={type:He("string",tn._jsonSchemaVersion),bytes:He("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mn._jsonSchemaVersion}}static fromJSON(e){if(il(e,Mn._jsonSchema))return new Mn(e.latitude,e.longitude)}}Mn._jsonSchemaVersion="firestore/geoPoint/1.0",Mn._jsonSchema={type:He("string",Mn._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Vn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(il(e,Vn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Vn(e.vectorValues);throw new $(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vn._jsonSchemaVersion="firestore/vectorValue/1.0",Vn._jsonSchema={type:He("string",Vn._jsonSchemaVersion),vectorValues:He("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=/^__.*__$/;class tM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new rl(e,this.data,n,this.fieldTransforms)}}class Jb{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ac:t})}}class Xm{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Zb(this.Ac)&&eM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||th(e)}Cc(e,n,i,r=!1){return new Xm({Ac:e,methodName:n,Dc:i,path:at.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jm(t){const e=t._freezeSettings(),n=th(t._databaseId);return new nM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iM(t,e,n,i,r,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,r);Zm("Data must be an object, but it was:",o,i);const a=eT(i,o);let l,c;if(s.merge)l=new Ht(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=sp(e,d,n);if(!o.contains(f))throw new $(L.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);nT(h,f)||h.push(f)}l=new Ht(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new tM(new Dt(a),l,c)}class ah extends Ym{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ah}}function rM(t,e,n,i){const r=t.Cc(1,e,n);Zm("Data must be an object, but it was:",r,i);const s=[],o=Dt.empty();rr(i,(l,c)=>{const h=eg(e,l,n);c=Qt(c);const d=r.yc(h);if(c instanceof ah)s.push(h);else{const f=ll(c,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new Ht(s);return new Jb(o,a,r.fieldTransforms)}function sM(t,e,n,i,r,s){const o=t.Cc(1,e,n),a=[sp(e,i,n)],l=[r];if(s.length%2!=0)throw new $(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(sp(e,s[f])),l.push(s[f+1]);const c=[],h=Dt.empty();for(let f=a.length-1;f>=0;--f)if(!nT(c,a[f])){const m=a[f];let w=l[f];w=Qt(w);const v=o.yc(m);if(w instanceof ah)c.push(m);else{const _=ll(w,v);_!=null&&(c.push(m),h.set(m,_))}}const d=new Ht(c);return new Jb(h,d,o.fieldTransforms)}function oM(t,e,n,i=!1){return ll(n,t.Cc(i?4:3,e))}function ll(t,e){if(tT(t=Qt(t)))return Zm("Unsupported field value:",e,t),eT(t,e);if(t instanceof Ym)return function(i,r){if(!Zb(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=ll(a,r.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Qt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return GR(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Se.fromDate(i);return{timestampValue:hu(r.serializer,s)}}if(i instanceof Se){const s=new Se(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hu(r.serializer,s)}}if(i instanceof Mn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof tn)return{bytesValue:_b(r.serializer,i._byteString)};if(i instanceof Fe){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Vn)return function(o,a){return{mapValue:{fields:{[GE]:{stringValue:KE},[au]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Rm(a.serializer,c)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${qu(i)}`)}(t,e)}function eT(t,e){const n={};return zE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rr(t,(i,r)=>{const s=ll(r,e.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function tT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Se||t instanceof Mn||t instanceof tn||t instanceof Fe||t instanceof Ym||t instanceof Vn)}function Zm(t,e,n){if(!tT(n)||!FE(n)){const i=qu(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function sp(t,e,n){if((e=Qt(e))instanceof oh)return e._internalPath;if(typeof e=="string")return eg(t,e);throw mu("Field path arguments must be of type string or ",t,!1,void 0,n)}const aM=new RegExp("[~\\*/\\[\\]]");function eg(t,e,n){if(e.search(aM)>=0)throw mu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oh(...e.split("."))._internalPath}catch{throw mu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mu(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new $(L.INVALID_ARGUMENT,a+t+l)}function nT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lM extends iT{data(){return super.data()}}function tg(t,e){return typeof e=="string"?eg(t,e):e instanceof oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class sT extends ng{}function cM(t,e,...n){let i=[];e instanceof ng&&i.push(e),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof rg).length,a=s.filter(l=>l instanceof ig).length;if(o>1||o>0&&a>0)throw new $(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class ig extends sT{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ig(e,n,i)}_apply(e){const n=this._parse(e);return oT(e._query,n),new or(e.firestore,e.converter,Gf(e._query,n))}_parse(e){const n=Jm(e.firestore);return function(s,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){uv(d,h);const w=[];for(const v of d)w.push(cv(l,s,v));f={arrayValue:{values:w}}}else f=cv(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||uv(d,h),f=oM(a,o,d,h==="in"||h==="not-in");return We.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class rg extends ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:_n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)oT(o,l),o=Gf(o,l)}(e._query,n),new or(e.firestore,e.converter,Gf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sg extends sT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sg(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new $(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new $(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ma(s,o)}(e._query,this._field,this._direction);return new or(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Js(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function uM(t,e="asc"){const n=e,i=tg("orderBy",t);return sg._create(i,n)}function cv(t,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new $(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nb(e)&&n.indexOf("/")!==-1)throw new $(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ve.fromString(n));if(!K.isDocumentKey(i))throw new $(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return S0(t,new K(i))}if(n instanceof Fe)return S0(t,n._key);throw new $(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qu(n)}.`)}function uv(t,e){if(!Array.isArray(t)||t.length===0)throw new $(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oT(t,e){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hM{convertValue(e,n="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return rr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[au].arrayValue)==null?void 0:r.values)==null?void 0:s.map(o=>Le(o.doubleValue));return new Vn(n)}convertGeoPoint(e){return new Mn(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Qu(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ra(e));default:return null}}convertTimestamp(e){const n=Gi(e);return new Se(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ve.fromString(e);he(Tb(i),9688,{name:e});const r=new Na(i.get(1),i.get(3)),s=new K(i.popFirst(5));return r.isEqual(n)||ri(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kr extends iT{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(tg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=kr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",kr._jsonSchema={type:He("string",kr._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class Tc extends kr{data(e={}){return super.data(e)}}class Cr{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Fo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Tc(this._firestore,this._userDataWriter,i.key,i,new Fo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new Tc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Fo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Tc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Fo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:fM(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}Cr._jsonSchemaVersion="firestore/querySnapshot/1.0",Cr._jsonSchema={type:He("string",Cr._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class og extends hM{constructor(e){super(),this.firestore=e}convertBytes(e){return new tn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fe(this.firestore,null,n)}}function aT(t){t=mn(t,or);const e=mn(t.firestore,jr),n=Qm(e),i=new og(e);return rT(t._query),YD(n,t._query).then(r=>new Cr(e,i,t,r))}function lT(t,e,n){t=mn(t,Fe);const i=mn(t.firestore,jr),r=dM(t.converter,e);return ag(i,[iM(Jm(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,gn.none())])}function cT(t,e,n,...i){t=mn(t,Fe);const r=mn(t.firestore,jr),s=Jm(r);let o;return o=typeof(e=Qt(e))=="string"||e instanceof oh?sM(s,"updateDoc",t._key,e,n,i):rM(s,"updateDoc",t._key,e),ag(r,[o.toMutation(t._key,gn.exists(!0))])}function uT(t){return ag(mn(t.firestore,jr),[new Nm(t._key,gn.none())])}function hT(t,...e){var l,c,h;t=Qt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||lv(e[i])||(n=e[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(lv(e[i])){const d=e[i];e[i]=(l=d.next)==null?void 0:l.bind(d),e[i+1]=(c=d.error)==null?void 0:c.bind(d),e[i+2]=(h=d.complete)==null?void 0:h.bind(d)}let s,o,a;if(t instanceof Fe)o=mn(t.firestore,jr),a=Pm(t._key.path),s={next:d=>{e[i]&&e[i](pM(o,t,d))},error:e[i+1],complete:e[i+2]};else{const d=mn(t,or);o=mn(d.firestore,jr),a=d._query;const f=new og(o);s={next:m=>{e[i]&&e[i](new Cr(o,f,d,m))},error:e[i+1],complete:e[i+2]},rT(t._query)}return function(f,m,w,v){const _=new Kb(v),x=new Fb(m,_,w);return f.asyncQueue.enqueueAndForget(async()=>Lb(await rp(f),x)),()=>{_.Nu(),f.asyncQueue.enqueueAndForget(async()=>jb(await rp(f),x))}}(Qm(o),a,r,s)}function ag(t,e){return function(i,r){const s=new Bi;return i.asyncQueue.enqueueAndForget(async()=>jD(await QD(i),r,s)),s.promise}(Qm(t),e)}function pM(t,e,n){const i=n.docs.get(e._key),r=new og(t);return new kr(t,r,e._key,i,new Fo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Qs=r})(qP),Hi(new ni("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new jr(new sR(i.getProvider("auth-internal")),new lR(o,i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new $(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Na(c.options.projectId,h)}(o,r),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Rn(d0,f0,e),Rn(d0,f0,"esm2020")})();var mM="firebase",gM="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(mM,gM,"app");const dT="@firebase/installations",lg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=1e4,pT=`w:${lg}`,mT="FIS_v2",yM="https://firebaseinstallations.googleapis.com/v1",_M=60*60*1e3,vM="installations",xM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fr=new Hu(vM,xM,wM);function gT(t){return t instanceof ir&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT({projectId:t}){return`${yM}/projects/${t}/installations`}function _T(t){return{token:t.token,requestStatus:2,expiresIn:bM(t.expiresIn),creationTime:Date.now()}}async function vT(t,e){const i=(await e.json()).error;return Fr.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function xT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function EM(t,{refreshToken:e}){const n=xT(t);return n.append("Authorization",TM(e)),n}async function wT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function bM(t){return Number(t.replace("s","000"))}function TM(t){return`${mT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=yT(t),r=xT(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:mT,appId:t.appId,sdkVersion:pT},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await wT(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:_T(c.authToken)}}else throw await vT("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/^[cdef][\w-]{21}$/,op="";function kM(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=CM(t);return AM.test(n)?n:op}catch{return op}}function CM(t){return IM(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map;function TT(t,e){const n=lh(t);ST(n,e),PM(n,e)}function ST(t,e){const n=bT.get(t);if(n)for(const i of n)i(e)}function PM(t,e){const n=RM();n&&n.postMessage({key:t,fid:e}),NM()}let Tr=null;function RM(){return!Tr&&"BroadcastChannel"in self&&(Tr=new BroadcastChannel("[Firebase] FID Change"),Tr.onmessage=t=>{ST(t.data.key,t.data.fid)}),Tr}function NM(){bT.size===0&&Tr&&(Tr.close(),Tr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="firebase-installations-database",MM=1,Br="firebase-installations-store";let Td=null;function cg(){return Td||(Td=SE(DM,MM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Br)}}})),Td}async function gu(t,e){const n=lh(t),r=(await cg()).transaction(Br,"readwrite"),s=r.objectStore(Br),o=await s.get(n);return await s.put(e,n),await r.done,(!o||o.fid!==e.fid)&&TT(t,e.fid),e}async function IT(t){const e=lh(t),i=(await cg()).transaction(Br,"readwrite");await i.objectStore(Br).delete(e),await i.done}async function ch(t,e){const n=lh(t),r=(await cg()).transaction(Br,"readwrite"),s=r.objectStore(Br),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&TT(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(t){let e;const n=await ch(t.appConfig,i=>{const r=VM(i),s=OM(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===op?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function VM(t){const e=t||{fid:kM(),registrationStatus:0};return AT(e)}function OM(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Fr.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=LM(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jM(t)}:{installationEntry:e}}async function LM(t,e){try{const n=await SM(t,e);return gu(t.appConfig,n)}catch(n){throw gT(n)&&n.customData.serverCode===409?await IT(t.appConfig):await gu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jM(t){let e=await hv(t.appConfig);for(;e.registrationStatus===1;)await ET(100),e=await hv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await ug(t);return i||n}return e}function hv(t){return ch(t,e=>{if(!e)throw Fr.create("installation-not-found");return AT(e)})}function AT(t){return FM(t)?{fid:t.fid,registrationStatus:0}:t}function FM(t){return t.registrationStatus===1&&t.registrationTime+fT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM({appConfig:t,heartbeatServiceProvider:e},n){const i=zM(t,n),r=EM(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:pT,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await wT(()=>fetch(i,a));if(l.ok){const c=await l.json();return _T(c)}else throw await vT("Generate Auth Token",l)}function zM(t,{fid:e}){return`${yT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(t,e=!1){let n;const i=await ch(t.appConfig,s=>{if(!kT(s))throw Fr.create("not-registered");const o=s.authToken;if(!e&&WM(o))return s;if(o.requestStatus===1)return n=UM(t,e),s;{if(!navigator.onLine)throw Fr.create("app-offline");const a=qM(s);return n=$M(t,a),a}});return n?await n:i.authToken}async function UM(t,e){let n=await dv(t.appConfig);for(;n.authToken.requestStatus===1;)await ET(100),n=await dv(t.appConfig);const i=n.authToken;return i.requestStatus===0?hg(t,e):i}function dv(t){return ch(t,e=>{if(!kT(e))throw Fr.create("not-registered");const n=e.authToken;return GM(n)?{...e,authToken:{requestStatus:0}}:e})}async function $M(t,e){try{const n=await BM(t,e),i={...e,authToken:n};return await gu(t.appConfig,i),n}catch(n){if(gT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await IT(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await gu(t.appConfig,i)}throw n}}function kT(t){return t!==void 0&&t.registrationStatus===2}function WM(t){return t.requestStatus===2&&!HM(t)}function HM(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_M}function qM(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function GM(t){return t.requestStatus===1&&t.requestTime+fT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t){const e=t,{installationEntry:n,registrationPromise:i}=await ug(e);return i?i.catch(console.error):hg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e=!1){const n=t;return await YM(n),(await hg(n,e)).token}async function YM(t){const{registrationPromise:e}=await ug(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){if(!t||!t.options)throw Sd("App Configuration");if(!t.name)throw Sd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Sd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Sd(t){return Fr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="installations",JM="installations-internal",ZM=t=>{const e=t.getProvider("app").getImmediate(),n=XM(e),i=nl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},eV=t=>{const e=t.getProvider("app").getImmediate(),n=nl(e,CT).getImmediate();return{getId:()=>KM(n),getToken:r=>QM(n,r)}};function tV(){Hi(new ni(CT,ZM,"PUBLIC")),Hi(new ni(JM,eV,"PRIVATE"))}tV();Rn(dT,lg);Rn(dT,lg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu="analytics",nV="firebase_id",iV="origin",rV=60*1e3,sV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At=new wm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gt=new Hu("analytics","Analytics",oV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){if(!t.startsWith(dg)){const e=Gt.create("invalid-gtag-resource",{gtagURL:t});return At.warn(e.message),""}return t}function PT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function lV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function cV(t,e){const n=lV("firebase-js-sdk-policy",{createScriptURL:aV}),i=document.createElement("script"),r=`${dg}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function uV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function hV(t,e,n,i,r,s){const o=i[r];try{if(o)await e[o];else{const l=(await PT(n)).find(c=>c.measurementId===r);l&&await e[l.appId]}}catch(a){At.error(a)}t("config",r,s)}async function dV(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await PT(n);for(const l of o){const c=a.find(d=>d.measurementId===l),h=c&&e[c.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(s){At.error(s)}}function fV(t,e,n,i){async function r(s,...o){try{if(s==="event"){const[a,l]=o;await dV(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await hV(t,e,n,i,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){At.error(a)}}return r}function pV(t,e,n,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=fV(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}function mV(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(dg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=30,yV=1e3;class _V{constructor(e={},n=yV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const RT=new _V;function vV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function xV(t){var o;const{appId:e,apiKey:n}=t,i={method:"GET",headers:vV(n)},r=sV.replace("{app-id}",e),s=await fetch(r,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Gt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function wV(t,e=RT,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw Gt.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Gt.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new TV;return setTimeout(async()=>{a.abort()},rV),NT({appId:i,apiKey:r,measurementId:s},o,a,e)}async function NT(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=RT){var a;const{appId:s,measurementId:o}=t;try{await EV(i,e)}catch(l){if(o)return At.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:o};throw l}try{const l=await xV(t);return r.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!bV(c)){if(r.deleteThrottleMetadata(s),o)return At.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:o};throw l}const h=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?n0(n,r.intervalMillis,gV):n0(n,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return r.setThrottleMetadata(s,d),At.debug(`Calling attemptFetch again in ${h} millis`),NT(t,d,i,r)}}function EV(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(Gt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bV(t){if(!(t instanceof ir)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class TV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function SV(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const s=await e,o={...i,send_to:s};t("event",n,o)}}async function IV(t,e,n,i){if(i&&i.global){const r={};for(const s of Object.keys(n))r[`user_properties.${s}`]=n[s];return t("set",r),Promise.resolve()}else{const r=await e;t("config",r,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(){if(vm())try{await xm()}catch(t){return At.warn(Gt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return At.warn(Gt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kV(t,e,n,i,r,s,o){const a=wV(t);a.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&At.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>At.error(f)),e.push(a);const l=AV().then(f=>{if(f)return i.getId()}),[c,h]=await Promise.all([a,l]);mV(s)||cV(s,c.measurementId),r("js",new Date);const d=(o==null?void 0:o.config)??{};return d[iV]="firebase",d.update=!0,h!=null&&(d[nV]=h),r("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.app=e}_delete(){return delete bs[this.app.options.appId],Promise.resolve()}}let bs={},fv=[];const pv={};let Id="dataLayer",PV="gtag",mv,fg,gv=!1;function RV(){const t=[];if(wE()&&t.push("This is a browser extension environment."),EE()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Gt.create("invalid-analytics-context",{errorInfo:e});At.warn(n.message)}}function NV(t,e,n){RV();const i=t.options.appId;if(!i)throw Gt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)At.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gt.create("no-api-key");if(bs[i]!=null)throw Gt.create("already-exists",{id:i});if(!gv){uV(Id);const{wrappedGtag:s,gtagCore:o}=pV(bs,fv,pv,Id,PV);fg=s,mv=o,gv=!0}return bs[i]=kV(t,fv,pv,e,mv,Id,n),new CV(t)}function DV(t=AE()){t=Qt(t);const e=nl(t,yu);return e.isInitialized()?e.getImmediate():MV(t)}function MV(t,e={}){const n=nl(t,yu);if(n.isInitialized()){const r=n.getImmediate();if(ka(e,n.getOptions()))return r;throw Gt.create("already-initialized")}return n.initialize({options:e})}async function VV(){if(wE()||!EE()||!vm())return!1;try{return await xm()}catch{return!1}}function OV(t,e,n){t=Qt(t),IV(fg,bs[t.app.options.appId],e,n).catch(i=>At.error(i))}function LV(t,e,n,i){t=Qt(t),SV(fg,bs[t.app.options.appId],e,n,i).catch(r=>At.error(r))}const yv="@firebase/analytics",_v="0.10.19";function jV(){Hi(new ni(yu,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return NV(i,r,n)},"PUBLIC")),Hi(new ni("analytics-internal",t,"PRIVATE")),Rn(yv,_v),Rn(yv,_v,"esm2020");function t(e){try{const n=e.getProvider(yu).getImmediate();return{logEvent:(i,r,s)=>LV(n,i,r,s),setUserProperties:(i,r)=>OV(n,i,r)}}catch(n){throw Gt.create("interop-component-reg-failed",{reason:n})}}}jV();const FV={apiKey:"AIzaSyBwziLfqqHCAsP2a0ckPjs4nLlveA6d7XI",authDomain:"asset-tracker-ec242.firebaseapp.com",projectId:"asset-tracker-ec242",storageBucket:"asset-tracker-ec242.firebasestorage.app",messagingSenderId:"530517126858",appId:"1:530517126858:web:f5ec055a3b24bae5b24e33",measurementId:"G-MN441VE3X8"},DT=IE(FV),jn=JD(DT);VV().then(t=>{t&&DV(DT)});const cl="members",ul="assets";async function BV(){try{return(await aT(sh(jn,cl))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Error getting members:",t),[]}}async function MT(t){try{await lT(eo(jn,cl,t.id),t)}catch(e){throw console.error("Error adding member:",e),e}}async function zV(t,e){try{await cT(eo(jn,cl,t),e)}catch(n){throw console.error("Error updating member:",n),n}}async function UV(t){try{await uT(eo(jn,cl,t))}catch(e){throw console.error("Error deleting member:",e),e}}function $V(t){return hT(sh(jn,cl),e=>{const n=e.docs.map(i=>({id:i.id,...i.data()}));t(n)},e=>{console.error("Error listening to members:",e)})}async function WV(){try{const t=cM(sh(jn,ul),uM("updatedAt","desc"));return(await aT(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting assets:",t),[]}}async function VT(t){try{await lT(eo(jn,ul,t.id),t)}catch(e){throw console.error("Error adding asset:",e),e}}async function vv(t,e){try{await cT(eo(jn,ul,t),e)}catch(n){throw console.error("Error updating asset:",n),n}}async function OT(t){try{await uT(eo(jn,ul,t))}catch(e){throw console.error("Error deleting asset:",e),e}}function HV(t){return hT(sh(jn,ul),e=>{const n=e.docs.map(i=>({id:i.id,...i.data()}));n.sort((i,r)=>r.updatedAt.localeCompare(i.updatedAt)),t(n)},e=>{console.error("Error listening to assets:",e)})}async function qV(t,e){try{if((await BV()).length===0){for(const i of t)await MT(i);for(const i of e)await VT(i);console.log("Default data initialized in Firestore")}}catch(n){console.error("Error initializing default data:",n)}}async function GV(t){try{const n=(await WV()).filter(i=>i.ownerId===t);for(const i of n)await OT(i.id)}catch(e){throw console.error("Error deleting assets by owner:",e),e}}const KV=[{id:"1",name:"Haris Ratno Pambudi",role:"head"},{id:"2",name:"Meta Nurjayanti",role:"spouse"},{id:"3",name:"Muhammad Ashraf Rizqullah",role:"child"},{id:"4",name:"Muhammad Arshad Hanan",role:"child"}],QV=[{id:"a1",name:"Tabungan BCA",type:"savings",ownerId:"1",initialValue:5e7,currentValue:55e6,history:[{date:"2024-01-01",value:5e7},{date:"2024-02-01",value:52e6},{date:"2024-03-01",value:55e6}],createdAt:"2024-01-01",updatedAt:"2024-03-01",notes:"Rekening Utama"},{id:"a2",name:"Deposito Mandiri",type:"deposit",ownerId:"1",initialValue:1e8,currentValue:105e6,history:[{date:"2024-01-01",value:1e8},{date:"2024-03-01",value:105e6}],createdAt:"2024-01-01",updatedAt:"2024-03-01",notes:"Cabang Sudirman"},{id:"a3",name:"Emas Antam",type:"gold",ownerId:"2",initialValue:3e7,currentValue:35e6,history:[{date:"2024-01-01",value:3e7},{date:"2024-02-01",value:32e6},{date:"2024-03-01",value:35e6}],createdAt:"2024-01-01",updatedAt:"2024-03-01",goldDetails:{weightGram:25,buyPricePerGram:12e5},notes:"Toko Emas Cantika"},{id:"a4",name:"Reksadana BNP Paribas",type:"mutual_fund",ownerId:"2",initialValue:25e6,currentValue:28e6,history:[{date:"2024-01-01",value:25e6},{date:"2024-03-01",value:28e6}],createdAt:"2024-01-01",updatedAt:"2024-03-01"},{id:"a5",name:"Saham BBCA",type:"stocks",ownerId:"1",initialValue:4e7,currentValue:45e6,history:[{date:"2024-01-01",value:4e7},{date:"2024-02-01",value:42e6},{date:"2024-03-01",value:45e6}],createdAt:"2024-01-01",updatedAt:"2024-03-01"},{id:"a6",name:"Tabungan Anak",type:"savings",ownerId:"3",initialValue:5e6,currentValue:6e6,history:[{date:"2024-01-01",value:5e6},{date:"2024-03-01",value:6e6}],createdAt:"2024-01-01",updatedAt:"2024-03-01"}],On=x2()((t,e)=>({members:[],assets:[],isLoading:!0,isInitialized:!1,setMembers:n=>t({members:n}),setAssets:n=>t({assets:n}),setLoading:n=>t({isLoading:n}),setInitialized:n=>t({isInitialized:n}),addMember:async n=>{try{await MT(n)}catch(i){console.error("Error adding member:",i)}},updateMember:async(n,i)=>{try{await zV(n,i)}catch(r){console.error("Error updating member:",r)}},deleteMember:async n=>{try{await GV(n),await UV(n)}catch(i){console.error("Error deleting member:",i)}},addAsset:async n=>{try{t(i=>({assets:[...i.assets,n]})),await VT(n)}catch(i){console.error("Error adding asset:",i)}},updateAsset:async(n,i)=>{try{const r=new Date().toISOString().split("T")[0],s={...i,updatedAt:r};t(o=>({assets:o.assets.map(a=>a.id===n?{...a,...s}:a)})),await vv(n,s)}catch(r){console.error("Error updating asset:",r),alert(`Gagal menyimpan perubahan: ${r.message||r}`),window.location.reload()}},deleteAsset:async n=>{try{t(i=>({assets:i.assets.filter(r=>r.id!==n)})),await OT(n)}catch(i){console.error("Error deleting asset:",i)}},updateAssetValue:async(n,i)=>{var r;try{const s=new Date().toISOString().split("T")[0];t(o=>o.assets.find(l=>l.id===n)?{assets:o.assets.map(l=>l.id===n?{...l,currentValue:i,history:[...l.history,{date:s,value:i}],updatedAt:s}:l)}:o),await vv(n,{currentValue:i,history:((r=e().assets.find(o=>o.id===n))==null?void 0:r.history)||[],updatedAt:s})}catch(s){console.error("Error updating asset value:",s)}},initializeDefaultData:async()=>{try{t({isLoading:!0}),await qV(KV,QV),t({isInitialized:!0,isLoading:!1})}catch(n){console.error("Error initializing default data:",n),t({isLoading:!1})}}}));let Sc=null,Ic=null;function YV(){On.getState(),Sc=$V(t=>{On.setState({members:t})}),Ic=HV(t=>{On.setState({assets:t,isLoading:!1})})}function XV(){Sc&&(Sc(),Sc=null),Ic&&(Ic(),Ic=null)}/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Oe=(t,e)=>{const n=F.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},h)=>F.createElement("svg",{ref:h,...JV,width:r,height:r,stroke:i,strokeWidth:o?Number(s)*24/Number(r):s,className:["lucide",`lucide-${ZV(t)}`,a].join(" "),...c},[...e.map(([d,f])=>F.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=Oe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Oe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=Oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Oe("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Oe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=Oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=Oe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Oe("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=Oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=Oe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Oe("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Oe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=Oe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Oe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xn={savings:"Tabungan",deposit:"Deposito",cash:"Kas",gold:"Emas",mutual_fund:"Reksadana",stocks:"Saham",bpjs_jht:"BPJS JHT"},ja={savings:"#2563eb",deposit:"#7c3aed",cash:"#16a34a",gold:"#ca8a04",mutual_fund:"#dc2626",stocks:"#0891b2",bpjs_jht:"#ea580c"},lp={head:"Kepala Keluarga",spouse:"Pasangan",child:"Anak"};function wv(t){return t.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase()}const ql=["bg-blue-500","bg-purple-500","bg-emerald-500","bg-amber-500"];function a4({children:t}){const e=tl(),[n,i]=F.useState(!1),r=On(a=>a.members),s=[{name:"Dashboard",href:"/",icon:i4},{name:"Aset",href:"/assets",icon:BT}],o=a=>a==="/"?e.pathname==="/":e.pathname.startsWith(a);return y.jsxs("div",{className:"min-h-screen bg-gray-50/50",children:[y.jsx("aside",{className:"hidden lg:flex fixed top-0 left-0 z-30 h-full w-72 glass-card rounded-none border-y-0 border-l-0 flex-col transition-all duration-300",children:y.jsxs("div",{className:"flex flex-col h-full p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[y.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-primary-600 to-accent-500 flex items-center justify-center shadow-lg shadow-primary-500/25",children:y.jsx(FT,{className:"w-6 h-6 text-white"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"font-bold text-xl gradient-text",children:"Asset Tracker"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Family Finance"})]})]}),y.jsx("nav",{className:"space-y-1",children:s.map(a=>{const l=a.icon,c=o(a.href);return y.jsxs(Hn,{to:a.href,className:`
                                        flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200
                                        ${c?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/25":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                                    `,children:[y.jsx(l,{className:"w-5 h-5"}),a.name]},a.name)})}),y.jsxs("div",{className:"mt-8",children:[y.jsxs("div",{className:"flex items-center gap-2 px-4 mb-3",children:[y.jsx(ap,{className:"w-4 h-4 text-gray-400"}),y.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Anggota"})]}),y.jsx("div",{className:"space-y-1 overflow-y-auto max-h-[calc(100vh-400px)] pr-2 scrollbar-hide",children:r.map((a,l)=>{const c=e.pathname===`/member/${a.id}`,h=ql[l%ql.length];return y.jsxs(Hn,{to:`/member/${a.id}`,className:`
                                            flex items-center gap-3 px-4 py-2.5 rounded-xl transition-all duration-200
                                            ${c?"bg-primary-50 text-primary-700 font-medium":"text-gray-600 hover:bg-gray-50"}
                                        `,children:[y.jsx("div",{className:`w-8 h-8 rounded-full ${h} flex items-center justify-center text-white text-xs font-semibold`,children:wv(a.name)}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-medium truncate",children:a.name}),y.jsx("p",{className:"text-xs text-gray-400",children:lp[a.role]})]})]},a.id)})})]}),y.jsx("div",{className:"mt-auto pt-4 border-t border-gray-100",children:y.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Family Asset Tracker v1.0"})})]})}),y.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 pb-safe",children:y.jsxs("div",{className:"flex items-center justify-around p-2",children:[s.map(a=>{const l=a.icon,c=o(a.href);return y.jsxs(Hn,{to:a.href,onClick:()=>i(!1),className:`
                                    flex flex-col items-center justify-center p-2 rounded-xl transition-colors min-w-[64px]
                                    ${c?"text-primary-600":"text-gray-400 hover:bg-gray-50"}
                                `,children:[y.jsx("div",{className:`p-1.5 rounded-full mb-1 ${c?"bg-primary-50":""}`,children:y.jsx(l,{className:`w-6 h-6 ${c?"text-primary-600":"text-gray-400"}`})}),y.jsx("span",{className:"text-[10px] font-medium",children:a.name})]},a.name)}),y.jsxs("button",{onClick:()=>i(!n),className:`
                            flex flex-col items-center justify-center p-2 rounded-xl transition-colors min-w-[64px]
                            ${n?"text-primary-600":"text-gray-400 hover:bg-gray-50"}
                        `,children:[y.jsx("div",{className:`p-1.5 rounded-full mb-1 ${n?"bg-primary-50":""}`,children:y.jsx(ap,{className:`w-6 h-6 ${n?"text-primary-600":"text-gray-400"}`})}),y.jsx("span",{className:"text-[10px] font-medium",children:"Anggota"})]}),y.jsxs(Hn,{to:"/profile",onClick:()=>i(!1),className:"flex flex-col items-center justify-center p-2 rounded-xl text-gray-400 hover:bg-gray-50 min-w-[64px]",children:[y.jsx("div",{className:"p-1.5 rounded-full mb-1",children:y.jsx(o4,{className:"w-6 h-6"})}),y.jsx("span",{className:"text-[10px] font-medium",children:"Akun"})]})]})}),n&&y.jsx("div",{className:"lg:hidden fixed inset-0 z-40 bg-black/20 backdrop-blur-sm",onClick:()=>i(!1)}),y.jsxs("div",{className:`
                    lg:hidden fixed inset-x-0 bottom-[calc(60px+env(safe-area-inset-bottom))] z-40 bg-white rounded-t-2xl shadow-xl 
                    transform transition-transform duration-300 border-t border-gray-100
                    ${n?"translate-y-0":"translate-y-[150%]"}
                `,style:{maxHeight:"70vh"},children:[y.jsx("div",{className:"flex justify-center pt-3 pb-1",onClick:()=>i(!1),children:y.jsx("div",{className:"w-12 h-1.5 bg-gray-200 rounded-full"})}),y.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 px-2",children:"Daftar Anggota"}),y.jsx("div",{className:"space-y-2",children:r.map((a,l)=>{const c=ql[l%ql.length];return y.jsxs(Hn,{to:`/member/${a.id}`,onClick:()=>i(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100",children:[y.jsx("div",{className:`w-10 h-10 rounded-full ${c} flex items-center justify-center text-white font-semibold`,children:wv(a.name)}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-gray-900",children:a.name}),y.jsx("p",{className:"text-xs text-gray-500",children:lp[a.role]})]})]},a.id)})})]})]}),y.jsx("main",{className:"lg:pl-72 min-h-screen pb-24 lg:pb-8 pt-4 lg:pt-0",children:y.jsx("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto animate-in",children:t})})]})}function it(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function Fa(t){return`${t>=0?"+":""}${t.toFixed(1)}%`}function Ts(t,e){return t-e}function Ba(t,e){return e===0?0:(t-e)/e*100}function l4(){return Math.random().toString(36).substring(2,9)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function hl(t){return t+.5|0}const Ti=(t,e,n)=>Math.max(Math.min(t,n),e);function Bo(t){return Ti(hl(t*2.55),0,255)}function Ui(t){return Ti(hl(t*255),0,255)}function Wn(t){return Ti(hl(t/2.55)/100,0,1)}function Ev(t){return Ti(hl(t*100),0,100)}const Jt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cp=[..."0123456789ABCDEF"],c4=t=>cp[t&15],u4=t=>cp[(t&240)>>4]+cp[t&15],Gl=t=>(t&240)>>4===(t&15),h4=t=>Gl(t.r)&&Gl(t.g)&&Gl(t.b)&&Gl(t.a);function d4(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Jt[t[1]]*17,g:255&Jt[t[2]]*17,b:255&Jt[t[3]]*17,a:e===5?Jt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Jt[t[1]]<<4|Jt[t[2]],g:Jt[t[3]]<<4|Jt[t[4]],b:Jt[t[5]]<<4|Jt[t[6]],a:e===9?Jt[t[7]]<<4|Jt[t[8]]:255})),n}const f4=(t,e)=>t<255?e(t):"";function p4(t){var e=h4(t)?c4:u4;return t?"#"+e(t.r)+e(t.g)+e(t.b)+f4(t.a,e):void 0}const m4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UT(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function g4(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function y4(t,e,n){const i=UT(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function _4(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function vg(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,h;return s!==o&&(h=s-o,c=a>.5?h/(2-s-o):h/(s+o),l=_4(n,i,r,h,s),l=l*60+.5),[l|0,c||0,a]}function xg(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ui)}function wg(t,e,n){return xg(UT,t,e,n)}function v4(t,e,n){return xg(y4,t,e,n)}function x4(t,e,n){return xg(g4,t,e,n)}function $T(t){return(t%360+360)%360}function w4(t){const e=m4.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Bo(+e[5]):Ui(+e[5]));const r=$T(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=v4(r,s,o):e[1]==="hsv"?i=x4(r,s,o):i=wg(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function E4(t,e){var n=vg(t);n[0]=$T(n[0]+e),n=wg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function b4(t){if(!t)return;const e=vg(t),n=e[0],i=Ev(e[1]),r=Ev(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Wn(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const bv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Tv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function T4(){const t={},e=Object.keys(Tv),n=Object.keys(bv);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,bv[s]);s=parseInt(Tv[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Kl;function S4(t){Kl||(Kl=T4(),Kl.transparent=[0,0,0,0]);const e=Kl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const I4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function A4(t){const e=I4.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Bo(o):Ti(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Bo(i):Ti(i,0,255)),r=255&(e[4]?Bo(r):Ti(r,0,255)),s=255&(e[6]?Bo(s):Ti(s,0,255)),{r:i,g:r,b:s,a:n}}}function k4(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Wn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ad=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Jr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function C4(t,e,n){const i=Jr(Wn(t.r)),r=Jr(Wn(t.g)),s=Jr(Wn(t.b));return{r:Ui(Ad(i+n*(Jr(Wn(e.r))-i))),g:Ui(Ad(r+n*(Jr(Wn(e.g))-r))),b:Ui(Ad(s+n*(Jr(Wn(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Ql(t,e,n){if(t){let i=vg(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=wg(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function WT(t,e){return t&&Object.assign(e||{},t)}function Sv(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ui(t[3]))):(e=WT(t,{r:0,g:0,b:0,a:1}),e.a=Ui(e.a)),e}function P4(t){return t.charAt(0)==="r"?A4(t):w4(t)}class za{constructor(e){if(e instanceof za)return e;const n=typeof e;let i;n==="object"?i=Sv(e):n==="string"&&(i=d4(e)||S4(e)||P4(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=WT(this._rgb);return e&&(e.a=Wn(e.a)),e}set rgb(e){this._rgb=Sv(e)}rgbString(){return this._valid?k4(this._rgb):void 0}hexString(){return this._valid?p4(this._rgb):void 0}hslString(){return this._valid?b4(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=C4(this._rgb,e._rgb,n)),this}clone(){return new za(this.rgb)}alpha(e){return this._rgb.a=Ui(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=hl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ql(this._rgb,2,e),this}darken(e){return Ql(this._rgb,2,-e),this}saturate(e){return Ql(this._rgb,1,e),this}desaturate(e){return Ql(this._rgb,1,-e),this}rotate(e){return E4(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Fn(){}const R4=(()=>{let t=0;return()=>t++})();function we(t){return t==null}function Ye(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function se(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Et(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function bn(t,e){return Et(t)?t:e}function te(t,e){return typeof t>"u"?e:t}const N4=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,HT=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Te(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function fe(t,e,n,i){let r,s,o;if(Ye(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(se(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function _u(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function vu(t){if(Ye(t))return t.map(vu);if(se(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=vu(t[n[r]]);return e}return t}function qT(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function D4(t,e,n,i){if(!qT(t))return;const r=e[t],s=n[t];se(r)&&se(s)?Ua(r,s,i):e[t]=vu(s)}function Ua(t,e,n){const i=Ye(e)?e:[e],r=i.length;if(!se(t))return t;n=n||{};const s=n.merger||D4;let o;for(let a=0;a<r;++a){if(o=i[a],!se(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)s(l[c],t,o,n)}return t}function sa(t,e){return Ua(t,e,{merger:M4})}function M4(t,e,n){if(!qT(t))return;const i=e[t],r=n[t];se(i)&&se(r)?sa(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=vu(r))}const Iv={"":t=>t,x:t=>t.x,y:t=>t.y};function V4(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function O4(t){const e=V4(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function $a(t,e){return(Iv[e]||(Iv[e]=O4(e)))(t)}function Eg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const xu=t=>typeof t<"u",Ji=t=>typeof t=="function",Av=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function L4(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const pe=Math.PI,Ce=2*pe,j4=Ce+pe,wu=Number.POSITIVE_INFINITY,F4=pe/180,Je=pe/2,dr=pe/4,kv=pe*2/3,GT=Math.log10,Us=Math.sign;function oa(t,e,n){return Math.abs(t-e)<n}function Cv(t){const e=Math.round(t);t=oa(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(GT(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function B4(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function z4(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Wa(t){return!z4(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function U4(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function $4(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Kn(t){return t*(pe/180)}function W4(t){return t*(180/pe)}function Pv(t){if(!Et(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function KT(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*pe&&(s+=Ce),{angle:s,distance:r}}function up(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function H4(t,e){return(t-e+j4)%Ce-pe}function $t(t){return(t%Ce+Ce)%Ce}function Ha(t,e,n,i){const r=$t(t),s=$t(e),o=$t(n),a=$t(s-r),l=$t(o-r),c=$t(r-s),h=$t(r-o);return r===s||r===o||i&&s===o||a>l&&c<h}function vt(t,e,n){return Math.max(e,Math.min(n,t))}function q4(t){return vt(t,-32768,32767)}function Qn(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function bg(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Sr=(t,e,n,i)=>bg(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),G4=(t,e,n)=>bg(t,n,i=>t[i][e]>=n);function K4(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const QT=["push","pop","shift","splice","unshift"];function Q4(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),QT.forEach(n=>{const i="_onData"+Eg(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function Rv(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(QT.forEach(s=>{delete t[s]}),delete t._chartjs)}function Y4(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const YT=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function XT(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,YT.call(window,()=>{i=!1,t.apply(e,n)}))}}function X4(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Tg=t=>t==="start"?"left":t==="end"?"right":"center",mt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,J4=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function Z4(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=o.axis,{min:d,max:f,minDefined:m,maxDefined:w}=o.getUserBounds();if(m){if(r=Math.min(Sr(l,h,d).lo,n?i:Sr(e,h,o.getPixelForValue(d)).lo),c){const v=l.slice(0,r+1).reverse().findIndex(_=>!we(_[a.axis]));r-=Math.max(0,v)}r=vt(r,0,i-1)}if(w){let v=Math.max(Sr(l,o.axis,f,!0).hi+1,n?0:Sr(e,h,o.getPixelForValue(f),!0).hi+1);if(c){const _=l.slice(v-1).findIndex(x=>!we(x[a.axis]));v+=Math.max(0,_)}s=vt(v,r,i)-r}else s=i-r}return{start:r,count:s}}function eO(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Yl=t=>t===0||t===1,Nv=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ce/n)),Dv=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ce/n)+1,aa={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Je)+1,easeOutSine:t=>Math.sin(t*Je),easeInOutSine:t=>-.5*(Math.cos(pe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Yl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Yl(t)?t:Nv(t,.075,.3),easeOutElastic:t=>Yl(t)?t:Dv(t,.075,.3),easeInOutElastic(t){return Yl(t)?t:t<.5?.5*Nv(t*2,.1125,.45):.5+.5*Dv(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-aa.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?aa.easeInBounce(t*2)*.5:aa.easeOutBounce(t*2-1)*.5+.5};function Sg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Mv(t){return Sg(t)?t:new za(t)}function kd(t){return Sg(t)?t:new za(t).saturate(.5).darken(.1).hexString()}const tO=["x","y","borderWidth","radius","tension"],nO=["color","borderColor","backgroundColor"];function iO(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:nO},numbers:{type:"number",properties:tO}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rO(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Vv=new Map;function sO(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Vv.get(n);return i||(i=new Intl.NumberFormat(t,e),Vv.set(n,i)),i}function Ig(t,e,n){return sO(e,n).format(t)}const oO={values(t){return Ye(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=aO(t,n)}const o=GT(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ig(t,i,l)}};function aO(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var JT={formatters:oO};function lO(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:JT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const zr=Object.create(null),hp=Object.create(null);function la(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Cd(t,e,n){return typeof e=="string"?Ua(la(t,e),n):Ua(la(t,""),e)}class cO{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>kd(r.backgroundColor),this.hoverBorderColor=(i,r)=>kd(r.borderColor),this.hoverColor=(i,r)=>kd(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Cd(this,e,n)}get(e){return la(this,e)}describe(e,n){return Cd(hp,e,n)}override(e,n){return Cd(zr,e,n)}route(e,n,i,r){const s=la(this,e),o=la(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return se(l)?Object.assign({},c,l):te(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Be=new cO({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iO,rO,lO]);function uO(t){return!t||we(t.size)||we(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ov(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function fr(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Lv(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function dp(t,e,n,i){ZT(t,e,n,i,null)}function ZT(t,e,n,i,r){let s,o,a,l,c,h,d,f;const m=e.pointStyle,w=e.rotation,v=e.radius;let _=(w||0)*F4;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(_),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),m){default:r?t.ellipse(n,i,r/2,v,0,0,Ce):t.arc(n,i,v,0,Ce),t.closePath();break;case"triangle":h=r?r/2:v,t.moveTo(n+Math.sin(_)*h,i-Math.cos(_)*v),_+=kv,t.lineTo(n+Math.sin(_)*h,i-Math.cos(_)*v),_+=kv,t.lineTo(n+Math.sin(_)*h,i-Math.cos(_)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(_+dr)*l,d=Math.cos(_+dr)*(r?r/2-c:l),a=Math.sin(_+dr)*l,f=Math.sin(_+dr)*(r?r/2-c:l),t.arc(n-d,i-a,c,_-pe,_-Je),t.arc(n+f,i-o,c,_-Je,_),t.arc(n+d,i+a,c,_,_+Je),t.arc(n-f,i+o,c,_+Je,_+pe),t.closePath();break;case"rect":if(!w){l=Math.SQRT1_2*v,h=r?r/2:l,t.rect(n-h,i-l,2*h,2*l);break}_+=dr;case"rectRot":d=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),t.moveTo(n-d,i-a),t.lineTo(n+f,i-o),t.lineTo(n+d,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":_+=dr;case"cross":d=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":d=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),_+=dr,d=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(_)*v,a=Math.sin(_)*v,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(_)*(r?r/2:v),i+Math.sin(_)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function qa(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function dh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function fh(t){t.restore()}function hO(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function dO(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function fO(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),we(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function pO(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,h=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function mO(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ga(t,e,n,i,r,s={}){const o=Ye(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,fO(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&mO(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),we(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),pO(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function Eu(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*pe,pe,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,pe,Je,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Je,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Je,!0),t.lineTo(n+o.topLeft,i)}const gO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _O(t,e){const n=(""+t).match(gO);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const vO=t=>+t||0;function Ag(t,e){const n={},i=se(e),r=i?Object.keys(e):e,s=se(t)?i?o=>te(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=vO(s(o));return n}function eS(t){return Ag(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ss(t){return Ag(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ln(t){const e=eS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function xt(t,e){t=t||{},e=e||Be.font;let n=te(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=te(t.style,e.style);i&&!(""+i).match(yO)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:te(t.family,e.family),lineHeight:_O(te(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:te(t.weight,e.weight),string:""};return r.string=uO(r),r}function Xl(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function xO(t,e,n){const{min:i,max:r}=t,s=HT(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Gr(t,e){return Object.assign(Object.create(t),e)}function kg(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=rS("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>kg([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return nS(a,l,()=>kO(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Fv(a).includes(l)},ownKeys(a){return Fv(a)},set(a,l,c){const h=a._storage||(a._storage=r());return a[l]=h[l]=c,delete a._keys,!0}})}function $s(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:tS(t,i),setContext:s=>$s(t,s,n,i),override:s=>$s(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return nS(s,o,()=>EO(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function tS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Ji(n)?n:()=>n,isIndexable:Ji(i)?i:()=>i}}const wO=(t,e)=>t?t+Eg(e):e,Cg=(t,e)=>se(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function nS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function EO(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Ji(a)&&o.isScriptable(e)&&(a=bO(e,a,t,n)),Ye(a)&&a.length&&(a=TO(e,a,t,o.isIndexable)),Cg(e,a)&&(a=$s(a,r,s&&s[e],o)),a}function bO(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),Cg(t,l)&&(l=Pg(r._scopes,r,t,l)),l}function TO(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(se(e[0])){const l=e,c=r._scopes.filter(h=>h!==l);e=[];for(const h of l){const d=Pg(c,r,t,h);e.push($s(d,s,o&&o[t],a))}}return e}function iS(t,e,n){return Ji(t)?t(e,n):t}const SO=(t,e)=>t===!0?e:typeof t=="string"?$a(e,t):void 0;function IO(t,e,n,i,r){for(const s of e){const o=SO(n,s);if(o){t.add(o);const a=iS(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Pg(t,e,n,i){const r=e._rootScopes,s=iS(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=jv(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=jv(a,o,s,l,i),l===null)?!1:kg(Array.from(a),[""],r,s,()=>AO(e,n,i))}function jv(t,e,n,i,r){for(;n;)n=IO(t,e,n,i,r);return n}function AO(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Ye(r)&&se(n)?n:r||{}}function kO(t,e,n,i){let r;for(const s of e)if(r=rS(wO(s,t),n),typeof r<"u")return Cg(t,r)?Pg(n,i,t,r):r}function rS(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Fv(t){let e=t._keys;return e||(e=t._keys=CO(t._scopes)),e}function CO(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const PO=Number.EPSILON||1e-14,Ws=(t,e)=>e<t.length&&!t[e].skip&&t[e],sS=t=>t==="x"?"y":"x";function RO(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=up(s,r),l=up(o,s);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const d=i*c,f=i*h;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function NO(t,e,n){const i=t.length;let r,s,o,a,l,c=Ws(t,0);for(let h=0;h<i-1;++h)if(l=c,c=Ws(t,h+1),!(!l||!c)){if(oa(e[h],0,PO)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],s=n[h+1]/e[h],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=r*o*e[h],n[h+1]=s*o*e[h])}}function DO(t,e,n="x"){const i=sS(n),r=t.length;let s,o,a,l=Ws(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Ws(t,c+1),!a)continue;const h=a[n],d=a[i];o&&(s=(h-o[n])/3,a[`cp1${n}`]=h-s,a[`cp1${i}`]=d-s*e[c]),l&&(s=(l[n]-h)/3,a[`cp2${n}`]=h+s,a[`cp2${i}`]=d+s*e[c])}}function MO(t,e="x"){const n=sS(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Ws(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Ws(t,o+1),!!l){if(c){const h=c[e]-l[e];r[o]=h!==0?(c[n]-l[n])/h:0}s[o]=a?c?Us(r[o-1])!==Us(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}NO(t,r,s),DO(t,s,e)}function Jl(t,e,n){return Math.max(Math.min(t,n),e)}function VO(t,e){let n,i,r,s,o,a=qa(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&qa(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Jl(r.cp1x,e.left,e.right),r.cp1y=Jl(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Jl(r.cp2x,e.left,e.right),r.cp2y=Jl(r.cp2y,e.top,e.bottom)))}function OO(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")MO(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=RO(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&VO(t,n)}function Rg(){return typeof window<"u"&&typeof document<"u"}function Ng(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bu(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const ph=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function LO(t,e){return ph(t).getPropertyValue(e)}const jO=["top","right","bottom","left"];function Pr(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=jO[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const FO=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function BO(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(FO(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function _r(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=ph(n),s=r.boxSizing==="border-box",o=Pr(r,"padding"),a=Pr(r,"border","width"),{x:l,y:c,box:h}=BO(t,n),d=o.left+(h&&a.left),f=o.top+(h&&a.top);let{width:m,height:w}=e;return s&&(m-=o.width+a.width,w-=o.height+a.height),{x:Math.round((l-d)/m*n.width/i),y:Math.round((c-f)/w*n.height/i)}}function zO(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&Ng(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=ph(s),l=Pr(a,"border","width"),c=Pr(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=bu(a.maxWidth,s,"clientWidth"),r=bu(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||wu,maxHeight:r||wu}}const Si=t=>Math.round(t*10)/10;function UO(t,e,n,i){const r=ph(t),s=Pr(r,"margin"),o=bu(r.maxWidth,t,"clientWidth")||wu,a=bu(r.maxHeight,t,"clientHeight")||wu,l=zO(t,e,n);let{width:c,height:h}=l;if(r.boxSizing==="content-box"){const f=Pr(r,"border","width"),m=Pr(r,"padding");c-=m.width+f.width,h-=m.height+f.height}return c=Math.max(0,c-s.width),h=Math.max(0,i?c/i:h-s.height),c=Si(Math.min(c,o,l.maxWidth)),h=Si(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Si(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Si(Math.floor(h*i))),{width:c,height:h}}function Bv(t,e,n){const i=e||1,r=Si(t.height*i),s=Si(t.width*i);t.height=Si(t.height),t.width=Si(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const $O=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Rg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function zv(t,e){const n=LO(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function vr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function WO(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function HO(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=vr(t,r,n),a=vr(r,s,n),l=vr(s,e,n),c=vr(o,a,n),h=vr(a,l,n);return vr(c,h,n)}const qO=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},GO=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Is(t,e,n){return t?qO(e,n):GO()}function oS(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function aS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function lS(t){return t==="angle"?{between:Ha,compare:H4,normalize:$t}:{between:Qn,compare:(e,n)=>e-n,normalize:e=>e}}function Uv({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function KO(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=lS(i),l=e.length;let{start:c,end:h,loop:d}=t,f,m;if(d){for(c+=l,h+=l,f=0,m=l;f<m&&o(a(e[c%l][i]),r,s);++f)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:d,style:t.style}}function cS(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=lS(i),{start:h,end:d,loop:f,style:m}=KO(t,e,n),w=[];let v=!1,_=null,x,E,T;const R=()=>l(r,T,x)&&a(r,T)!==0,N=()=>a(s,x)===0||l(s,T,x),M=()=>v||R(),S=()=>!v||N();for(let b=h,A=h;b<=d;++b)E=e[b%o],!E.skip&&(x=c(E[i]),x!==T&&(v=l(x,r,s),_===null&&M()&&(_=a(x,r)===0?b:A),_!==null&&S()&&(w.push(Uv({start:_,end:b,loop:f,count:o,style:m})),_=null),A=b,T=x));return _!==null&&w.push(Uv({start:_,end:d,loop:f,count:o,style:m})),w}function uS(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=cS(i[r],t.points,e);s.length&&n.push(...s)}return n}function QO(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function YO(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function XO(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=QO(n,r,s,i);if(i===!0)return $v(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return $v(t,YO(n,o,l,c),n,e)}function $v(t,e,n,i){return!i||!i.setContext||!n?e:JO(t,e,n,i)}function JO(t,e,n,i){const r=t._chart.getContext(),s=Wv(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let h=s,d=e[0].start,f=d;function m(w,v,_,x){const E=a?-1:1;if(w!==v){for(w+=l;n[w%l].skip;)w-=E;for(;n[v%l].skip;)v+=E;w%l!==v%l&&(c.push({start:w%l,end:v%l,loop:_,style:x}),h=x,d=v%l)}}for(const w of e){d=a?d:w.start;let v=n[d%l],_;for(f=d+1;f<=w.end;f++){const x=n[f%l];_=Wv(i.setContext(Gr(r,{type:"segment",p0:v,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),ZO(_,h)&&m(d,f-1,w.loop,h),v=x,h=_}d<f-1&&m(d,f-1,w.loop,h)}return c}function Wv(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function ZO(t,e){if(!e)return!1;const n=[],i=function(r,s){return Sg(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Zl(t,e,n){return t.options.clip?t[n]:e[n]}function eL(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Zl(n,e,"left"),right:Zl(n,e,"right"),top:Zl(i,e,"top"),bottom:Zl(i,e,"bottom")}:e}function hS(t,e){const n=e._clip;if(n.disabled)return!1;const i=eL(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class tL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=YT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Bn=new tL;const Hv="transparent",nL={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Mv(t||Hv),r=i.valid&&Mv(e||Hv);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class iL{constructor(e,n,i,r){const s=n[i];r=Xl([e.to,r,s,e.from]);const o=Xl([e.from,s,r]);this._active=!0,this._fn=e.fn||nL[e.type||typeof o],this._easing=aa[e.easing]||aa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Xl([e.to,n,r,e.from]),this._from=Xl([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class dS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!se(e))return;const n=Object.keys(Be.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!se(s))return;const o={};for(const a of n)o[a]=s[a];(Ye(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=sL(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&rL(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[c];let d=s[c];const f=i.get(c);if(d)if(f&&d.active()){d.update(f,h,a);continue}else d.cancel();if(!f||!f.duration){e[c]=h;continue}s[c]=d=new iL(f,e,c,h),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Bn.add(this._chart,i),!0}}function rL(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function sL(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function qv(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function oL(t,e,n){if(n===!1)return!1;const i=qv(t,n),r=qv(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function aL(t){let e,n,i,r;return se(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function fS(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function Gv(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e===null)return;let h=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(h=!0,i.all)continue;break}c=t.values[l],Et(c)&&(s||e===0||Us(e)===Us(c))&&(e+=c)}return!h&&!i.all?0:e}function lL(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[r]:h,[s]:t[h]};return a}function Pd(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function cL(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function uL(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function hL(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Kv(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function Qv(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,h=cL(s,o,i),d=e.length;let f;for(let m=0;m<d;++m){const w=e[m],{[l]:v,[c]:_}=w,x=w._stacks||(w._stacks={});f=x[c]=hL(r,h,v),f[a]=_,f._top=Kv(f,o,!0,i.type),f._bottom=Kv(f,o,!1,i.type);const E=f._visualValues||(f._visualValues={});E[a]=_}}function Rd(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function dL(t,e){return Gr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function fL(t,e,n){return Gr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ao(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Nd=t=>t==="reset"||t==="none",Yv=(t,e)=>e?t:Object.assign({},t),pL=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:fS(n,!0),values:null};class As{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Pd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ao(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,f,m,w)=>d==="x"?f:d==="r"?w:m,s=n.xAxisID=te(i.xAxisID,Rd(e,"x")),o=n.yAxisID=te(i.yAxisID,Rd(e,"y")),a=n.rAxisID=te(i.rAxisID,Rd(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),h=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Rv(this._data,this),e._stacked&&Ao(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(se(n)){const r=this._cachedMeta;this._data=lL(n,r)}else if(i!==n){if(i){Rv(i,this);const r=this._cachedMeta;Ao(r),r._parsed=[]}n&&Object.isExtensible(n)&&Q4(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Pd(n.vScale,n),n.stack!==i.stack&&(r=!0,Ao(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(Qv(this,n._parsed),n._stacked=Pd(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],h,d,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{Ye(r[e])?f=this.parseArrayData(i,r,e,n):se(r[e])?f=this.parseObjectData(i,r,e,n):f=this.parsePrimitiveData(i,r,e,n);const m=()=>d[a]===null||c&&d[a]<c[a];for(h=0;h<n;++h)i._parsed[h+e]=d=f[h],l&&(m()&&(l=!1),c=d);i._sorted=l}o&&Qv(this,f)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),h=s===o,d=new Array(r);let f,m,w;for(f=0,m=r;f<m;++f)w=f+i,d[f]={[a]:h||s.parse(c[w],w),[l]:o.parse(n[w],w)};return d}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,h,d;for(l=0,c=r;l<c;++l)h=l+i,d=n[h],a[l]={x:s.parse(d[0],h),y:o.parse(d[1],h)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let h,d,f,m;for(h=0,d=r;h<d;++h)f=h+i,m=n[f],c[h]={x:s.parse($a(m,a),f),y:o.parse($a(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:fS(r,!0),values:n._stacks[e.axis]._visualValues};return Gv(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=Gv(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=pL(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=uL(a);let f,m;function w(){m=r[f];const v=m[a.axis];return!Et(m[e.axis])||h>v||d<v}for(f=0;f<o&&!(!w()&&(this.updateRangeFromParsed(c,e,m,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!w()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],Et(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=aL(te(this.options.clip,oL(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,a,l),h=a;h<a+l;++h){const d=r[h];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=fL(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=dL(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&xu(i);if(a)return Yv(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),h),m=Object.keys(Be.elements[e]),w=()=>this.getContext(i,r,n),v=c.resolveNamedOptions(f,m,w,d);return v.$shared&&(v.$shared=l,s[o]=Object.freeze(Yv(v,l))),v}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,n),f=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(f,this.getContext(e,i,n))}const c=new dS(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Nd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){Nd(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Nd(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Ao(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}G(As,"defaults",{}),G(As,"datasetElementType",null),G(As,"dataElementType",null);function mL(t,e,n){let i=1,r=1,s=0,o=0;if(e<Ce){const a=t,l=a+e,c=Math.cos(a),h=Math.sin(a),d=Math.cos(l),f=Math.sin(l),m=(T,R,N)=>Ha(T,a,l,!0)?1:Math.max(R,R*n,N,N*n),w=(T,R,N)=>Ha(T,a,l,!0)?-1:Math.min(R,R*n,N,N*n),v=m(0,c,d),_=m(Je,h,f),x=w(pe,c,d),E=w(pe+Je,h,f);i=(v-x)/2,r=(_-E)/2,s=-(v+x)/2,o=-(_+E)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class zo extends As{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(se(i[e])){const{key:l="value"}=this._parsing;s=c=>+$a(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return Kn(this.options.rotation-90)}_getCircumference(){return Kn(this.options.circumference)}_getRotationExtents(){let e=Ce,n=-Ce;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(N4(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:w,offsetY:v}=mL(d,h,l),_=(i.width-o)/f,x=(i.height-o)/m,E=Math.max(Math.min(_,x)/2,0),T=HT(this.options.radius,E),R=Math.max(T*l,0),N=(T-R)/this._getVisibleDatasetWeightTotal();this.offsetX=w*T,this.offsetY=v*T,r.total=this.calculateTotal(),this.outerRadius=T-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Ce)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&c.animateScale,m=f?0:this.innerRadius,w=f?0:this.outerRadius,{sharedOptions:v,includeOptions:_}=this._getSharedOptions(n,r);let x=this._getRotation(),E;for(E=0;E<n;++E)x+=this._circumference(E,s);for(E=n;E<n+i;++E){const T=this._circumference(E,s),R=e[E],N={x:h+this.offsetX,y:d+this.offsetY,startAngle:x,endAngle:x+T,circumference:T,outerRadius:w,innerRadius:m};_&&(N.options=v||this.resolveDataElementOptions(E,R.active?"active":r)),x+=T,this.updateElement(R,E,N,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ce*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Ig(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(te(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}G(zo,"id","doughnut"),G(zo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),G(zo,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),G(zo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,c)=>{const d=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(c),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:r,pointStyle:i,borderRadius:o&&(a||d.borderRadius),index:c}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Ac extends As{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Z4(n,r,o);this._drawStart=a,this._drawCount=l,eO(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,r),f=o.axis,m=a.axis,{spanGaps:w,segment:v}=this.options,_=Wa(w)?w:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||r==="none",E=n+i,T=e.length;let R=n>0&&this.getParsed(n-1);for(let N=0;N<T;++N){const M=e[N],S=x?M:{};if(N<n||N>=E){S.skip=!0;continue}const b=this.getParsed(N),A=we(b[m]),k=S[f]=o.getPixelForValue(b[f],N),C=S[m]=s||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,b,l):b[m],N);S.skip=isNaN(k)||isNaN(C)||A,S.stop=N>0&&Math.abs(b[f]-R[f])>_,v&&(S.parsed=b,S.raw=c.data[N]),d&&(S.options=h||this.resolveDataElementOptions(N,M.active?"active":r)),x||this.updateElement(M,N,S,r),R=b}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}G(Ac,"id","line"),G(Ac,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),G(Ac,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function pr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Dg{constructor(e){G(this,"options");this.options=e||{}}static override(e){Object.assign(Dg.prototype,e)}init(){}formats(){return pr()}parse(){return pr()}format(){return pr()}add(){return pr()}diff(){return pr()}startOf(){return pr()}endOf(){return pr()}}var gL={_date:Dg};function yL(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?G4:Sr;if(i){if(r._sharedOptions){const h=s[0],d=typeof h.getRange=="function"&&h.getRange(e);if(d){const f=c(s,e,n-d),m=c(s,e,n+d);return{lo:f.lo,hi:m.hi}}}}else{const h=c(s,e,n);if(l){const{vScale:d}=r._cachedMeta,{_parsed:f}=t,m=f.slice(0,h.lo+1).reverse().findIndex(v=>!we(v[d.axis]));h.lo-=Math.max(0,m);const w=f.slice(h.hi).findIndex(v=>!we(v[d.axis]));h.hi+=Math.max(0,w)}return h}}return{lo:0,hi:s.length-1}}function mh(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:h}=s[a],{lo:d,hi:f}=yL(s[a],e,o,r);for(let m=d;m<=f;++m){const w=h[m];w.skip||i(w,c,m)}}}function _L(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Dd(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||mh(t,n,e,function(a,l,c){!r&&!qa(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function vL(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:d}=KT(o,{x:e.x,y:e.y});Ha(d,c,h)&&r.push({element:o,datasetIndex:a,index:l})}return mh(t,n,e,s),r}function xL(t,e,n,i,r,s){let o=[];const a=_L(n);let l=Number.POSITIVE_INFINITY;function c(h,d,f){const m=h.inRange(e.x,e.y,r);if(i&&!m)return;const w=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(w))&&!m)return;const _=a(e,w);_<l?(o=[{element:h,datasetIndex:d,index:f}],l=_):_===l&&o.push({element:h,datasetIndex:d,index:f})}return mh(t,n,e,c),o}function Md(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?vL(t,e,n,r):xL(t,e,n,i,r,s)}function Xv(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return mh(t,n,e,(l,c,h)=>{l[o]&&l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var wL={modes:{index(t,e,n,i){const r=_r(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Dd(t,r,s,i,o):Md(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,d=c.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:h})}),l):[]},dataset(t,e,n,i){const r=_r(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Dd(t,r,s,i,o):Md(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(t,e,n,i){const r=_r(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Dd(t,r,s,i,o)},nearest(t,e,n,i){const r=_r(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Md(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=_r(e,t);return Xv(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=_r(e,t);return Xv(t,r,"y",n.intersect,i)}}};const pS=["left","top","right","bottom"];function ko(t,e){return t.filter(n=>n.pos===e)}function Jv(t,e){return t.filter(n=>pS.indexOf(n.pos)===-1&&n.box.axis===e)}function Co(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function EL(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function bL(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!pS.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function TL(t,e){const n=bL(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=h?h*r:l&&e.availableHeight)}return n}function SL(t){const e=EL(t),n=Co(e.filter(c=>c.box.fullSize),!0),i=Co(ko(e,"left"),!0),r=Co(ko(e,"right")),s=Co(ko(e,"top"),!0),o=Co(ko(e,"bottom")),a=Jv(e,"x"),l=Jv(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:ko(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Zv(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function mS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function IL(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!se(r)){n.size&&(t[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&mS(o,s.getPadding());const a=Math.max(0,e.outerWidth-Zv(o,t,"left","right")),l=Math.max(0,e.outerHeight-Zv(o,t,"top","bottom")),c=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function AL(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function kL(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function Uo(t,e,n,i){const r=[];let s,o,a,l,c,h;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,kL(a.horizontal,e));const{same:d,other:f}=IL(e,n,a,i);c|=d&&r.length,h=h||f,l.fullSize||r.push(a)}return c&&Uo(r,e,n,i)||h}function ec(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function ex(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*h,f=c.size||l.height;xu(c.start)&&(o=c.start),l.fullSize?ec(l,r.left,o,n.outerWidth-r.right-r.left,f):ec(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*h,f=c.size||l.width;xu(c.start)&&(s=c.start),l.fullSize?ec(l,s,r.top,f,n.outerHeight-r.bottom-r.top):ec(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var rn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=ln(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=SL(t.boxes),l=a.vertical,c=a.horizontal;fe(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const h=l.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},r);mS(f,ln(i));const m=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),w=TL(l.concat(c),d);Uo(a.fullSize,m,d,w),Uo(l,m,d,w),Uo(c,m,d,w)&&Uo(l,m,d,w),AL(m),ex(a.leftAndTop,m,d,w),m.x+=m.w,m.y+=m.h,ex(a.rightAndBottom,m,d,w),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},fe(a.chartArea,v=>{const _=v.box;Object.assign(_,t.chartArea),_.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class gS{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class CL extends gS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const kc="$chartjs",PL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tx=t=>t===null||t==="";function RL(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[kc]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",tx(r)){const s=zv(t,"width");s!==void 0&&(t.width=s)}if(tx(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=zv(t,"height");s!==void 0&&(t.height=s)}return t}const yS=$O?{passive:!0}:!1;function NL(t,e,n){t&&t.addEventListener(e,n,yS)}function DL(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,yS)}function ML(t,e){const n=PL[t.type]||t.type,{x:i,y:r}=_r(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Tu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function VL(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Tu(a.addedNodes,i),o=o&&!Tu(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function OL(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Tu(a.removedNodes,i),o=o&&!Tu(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ka=new Map;let nx=0;function _S(){const t=window.devicePixelRatio;t!==nx&&(nx=t,Ka.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function LL(t,e){Ka.size||window.addEventListener("resize",_S),Ka.set(t,e)}function jL(t){Ka.delete(t),Ka.size||window.removeEventListener("resize",_S)}function FL(t,e,n){const i=t.canvas,r=i&&Ng(i);if(!r)return;const s=XT((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||s(c,h)});return o.observe(r),LL(t,s),o}function Vd(t,e,n){n&&n.disconnect(),e==="resize"&&jL(t)}function BL(t,e,n){const i=t.canvas,r=XT(s=>{t.ctx!==null&&n(ML(s,t))},t);return NL(i,e,r),r}class zL extends gS{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(RL(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[kc])return!1;const i=n[kc].initial;["height","width"].forEach(s=>{const o=i[s];we(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[kc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:VL,detach:OL,resize:FL}[n]||BL;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Vd,detach:Vd,resize:Vd}[n]||DL)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return UO(e,n,i,r)}isAttached(e){const n=e&&Ng(e);return!!(n&&n.isConnected)}}function UL(t){return!Rg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?CL:zL}class vn{constructor(){G(this,"x");G(this,"y");G(this,"active",!1);G(this,"options");G(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Wa(this.x)&&Wa(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}G(vn,"defaults",{}),G(vn,"defaultRoutes");function $L(t,e){const n=t.options.ticks,i=WL(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?qL(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return GL(e,c,s,o/r),c;const h=HL(s,e,r);if(o>0){let d,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(tc(e,c,h,we(m)?0:a-m,a),d=0,f=o-1;d<f;d++)tc(e,c,h,s[d],s[d+1]);return tc(e,c,h,l,we(m)?e.length:l+m),c}return tc(e,c,h),c}function WL(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function HL(t,e,n){const i=KL(t),r=e.length/n;if(!i)return Math.max(r,1);const s=B4(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function qL(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function GL(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function tc(t,e,n,i,r){const s=te(i,0),o=Math.min(te(r,t.length),t.length);let a=0,l,c,h;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===h&&(e.push(t[c]),a++,h=Math.round(s+a*n))}function KL(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const QL=t=>t==="left"?"right":t==="right"?"left":t,ix=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,rx=(t,e)=>Math.min(e||t,t);function sx(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function YL(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function XL(t,e){fe(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Po(t){return t.drawTicks?t.tickLength:0}function ox(t,e){if(!t.display)return 0;const n=xt(t.font,e),i=ln(t.padding);return(Ye(t.text)?t.text.length:1)*n.lineHeight+i.height}function JL(t,e){return Gr(t,{scale:e,type:"scale"})}function ZL(t,e,n){return Gr(t,{tick:n,index:e,type:"tick"})}function ej(t,e,n){let i=Tg(t);return(n&&e!=="right"||!n&&e==="right")&&(i=QL(i)),i}function tj(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:h}=l;let d=0,f,m,w;const v=o-r,_=a-s;if(t.isHorizontal()){if(m=mt(i,s,a),se(n)){const x=Object.keys(n)[0],E=n[x];w=h[x].getPixelForValue(E)+v-e}else n==="center"?w=(c.bottom+c.top)/2+v-e:w=ix(t,n,e);f=a-s}else{if(se(n)){const x=Object.keys(n)[0],E=n[x];m=h[x].getPixelForValue(E)-_+e}else n==="center"?m=(c.left+c.right)/2-_+e:m=ix(t,n,e);w=mt(i,o,r),d=n==="left"?-Je:Je}return{titleX:m,titleY:w,maxWidth:f,rotation:d}}class to extends vn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=bn(e,Number.POSITIVE_INFINITY),n=bn(n,Number.NEGATIVE_INFINITY),i=bn(i,Number.POSITIVE_INFINITY),r=bn(r,Number.NEGATIVE_INFINITY),{min:bn(e,i),max:bn(n,r),minDefined:Et(e),maxDefined:Et(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:bn(n,bn(i,n)),max:bn(i,bn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Te(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xO(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?sx(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=$L(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Te(this.options.afterUpdate,[this])}beforeSetDimensions(){Te(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Te(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Te(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Te(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Te(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Te(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Te(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=rx(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),d=h.widest.width,f=h.highest.height,m=vt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:m/(i-1),d+6>a&&(a=m/(i-(e.offset?.5:1)),l=this.maxHeight-Po(e.grid)-n.padding-ox(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=W4(Math.min(Math.asin(vt((h.highest.height+6)/a,-1,1)),Math.asin(vt(l/c,-1,1))-Math.asin(vt(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Te(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Te(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=ox(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Po(s)+l):(e.height=this.maxHeight,e.width=Po(s)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:d,highest:f}=this._getLabelSizes(),m=i.padding*2,w=Kn(this.labelRotation),v=Math.cos(w),_=Math.sin(w);if(a){const x=i.mirror?0:_*d.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+x+m)}else{const x=i.mirror?0:v*d.width+_*f.height;e.width=Math.min(this.maxWidth,e.width+x+m)}this._calculatePadding(c,h,_,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=r*e.width,m=i*n.height):(f=i*e.height,m=r*n.width):s==="start"?m=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let h=n.height/2,d=e.height/2;s==="start"?(h=0,d=e.height):s==="end"&&(h=n.height,d=0),this.paddingTop=h+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Te(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)we(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=sx(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/rx(n,i));let c=0,h=0,d,f,m,w,v,_,x,E,T,R,N;for(d=0;d<n;d+=l){if(w=e[d].label,v=this._resolveTickFontOptions(d),r.font=_=v.string,x=s[_]=s[_]||{data:{},gc:[]},E=v.lineHeight,T=R=0,!we(w)&&!Ye(w))T=Ov(r,x.data,x.gc,T,w),R=E;else if(Ye(w))for(f=0,m=w.length;f<m;++f)N=w[f],!we(N)&&!Ye(N)&&(T=Ov(r,x.data,x.gc,T,N),R+=E);o.push(T),a.push(R),c=Math.max(T,c),h=Math.max(R,h)}XL(s,n);const M=o.indexOf(c),S=a.indexOf(h),b=A=>({width:o[A]||0,height:a[A]||0});return{first:b(0),last:b(n-1),widest:b(M),highest:b(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return q4(this._alignToPixels?fr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=ZL(this.getContext(),e,i))}return this.$context||(this.$context=JL(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Kn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Po(s),m=[],w=a.setContext(this.getContext()),v=w.display?w.width:0,_=v/2,x=function(ue){return fr(i,ue,v)};let E,T,R,N,M,S,b,A,k,C,D,P;if(o==="top")E=x(this.bottom),S=this.bottom-f,A=E-_,C=x(e.top)+_,P=e.bottom;else if(o==="bottom")E=x(this.top),C=e.top,P=x(e.bottom)-_,S=E+_,A=this.top+f;else if(o==="left")E=x(this.right),M=this.right-f,b=E-_,k=x(e.left)+_,D=e.right;else if(o==="right")E=x(this.left),k=e.left,D=x(e.right)-_,M=E+_,b=this.left+f;else if(n==="x"){if(o==="center")E=x((e.top+e.bottom)/2+.5);else if(se(o)){const ue=Object.keys(o)[0],ye=o[ue];E=x(this.chart.scales[ue].getPixelForValue(ye))}C=e.top,P=e.bottom,S=E+_,A=S+f}else if(n==="y"){if(o==="center")E=x((e.left+e.right)/2);else if(se(o)){const ue=Object.keys(o)[0],ye=o[ue];E=x(this.chart.scales[ue].getPixelForValue(ye))}M=E-_,b=M-f,k=e.left,D=e.right}const ce=te(r.ticks.maxTicksLimit,d),ee=Math.max(1,Math.ceil(d/ce));for(T=0;T<d;T+=ee){const ue=this.getContext(T),ye=s.setContext(ue),z=a.setContext(ue),q=ye.lineWidth,Y=ye.color,de=z.dash||[],ge=z.dashOffset,Ft=ye.tickWidth,ze=ye.tickColor,Bt=ye.tickBorderDash||[],Ge=ye.tickBorderDashOffset;R=YL(this,T,l),R!==void 0&&(N=fr(i,R,q),c?M=b=k=D=N:S=A=C=P=N,m.push({tx1:M,ty1:S,tx2:b,ty2:A,x1:k,y1:C,x2:D,y2:P,width:q,color:Y,borderDash:de,borderDashOffset:ge,tickWidth:Ft,tickColor:ze,tickBorderDash:Bt,tickBorderDashOffset:Ge}))}return this._ticksLength=d,this._borderValue=E,m}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:d}=s,f=Po(i.grid),m=f+h,w=d?-h:m,v=-Kn(this.labelRotation),_=[];let x,E,T,R,N,M,S,b,A,k,C,D,P="middle";if(r==="top")M=this.bottom-w,S=this._getXAxisLabelAlignment();else if(r==="bottom")M=this.top+w,S=this._getXAxisLabelAlignment();else if(r==="left"){const ee=this._getYAxisLabelAlignment(f);S=ee.textAlign,N=ee.x}else if(r==="right"){const ee=this._getYAxisLabelAlignment(f);S=ee.textAlign,N=ee.x}else if(n==="x"){if(r==="center")M=(e.top+e.bottom)/2+m;else if(se(r)){const ee=Object.keys(r)[0],ue=r[ee];M=this.chart.scales[ee].getPixelForValue(ue)+m}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")N=(e.left+e.right)/2-m;else if(se(r)){const ee=Object.keys(r)[0],ue=r[ee];N=this.chart.scales[ee].getPixelForValue(ue)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const ce=this._getLabelSizes();for(x=0,E=a.length;x<E;++x){T=a[x],R=T.label;const ee=s.setContext(this.getContext(x));b=this.getPixelForTick(x)+s.labelOffset,A=this._resolveTickFontOptions(x),k=A.lineHeight,C=Ye(R)?R.length:1;const ue=C/2,ye=ee.color,z=ee.textStrokeColor,q=ee.textStrokeWidth;let Y=S;o?(N=b,S==="inner"&&(x===E-1?Y=this.options.reverse?"left":"right":x===0?Y=this.options.reverse?"right":"left":Y="center"),r==="top"?c==="near"||v!==0?D=-C*k+k/2:c==="center"?D=-ce.highest.height/2-ue*k+k:D=-ce.highest.height+k/2:c==="near"||v!==0?D=k/2:c==="center"?D=ce.highest.height/2-ue*k:D=ce.highest.height-C*k,d&&(D*=-1),v!==0&&!ee.showLabelBackdrop&&(N+=k/2*Math.sin(v))):(M=b,D=(1-C)*k/2);let de;if(ee.showLabelBackdrop){const ge=ln(ee.backdropPadding),Ft=ce.heights[x],ze=ce.widths[x];let Bt=D-ge.top,Ge=0-ge.left;switch(P){case"middle":Bt-=Ft/2;break;case"bottom":Bt-=Ft;break}switch(S){case"center":Ge-=ze/2;break;case"right":Ge-=ze;break;case"inner":x===E-1?Ge-=ze:x>0&&(Ge-=ze/2);break}de={left:Ge,top:Bt,width:ze+ge.width,height:Ft+ge.height,color:ee.backdropColor}}_.push({label:R,font:A,textOffset:D,options:{rotation:v,color:ye,strokeColor:z,strokeWidth:q,textAlign:Y,textBaseline:P,translation:[N,M],backdrop:de}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Kn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,h;return n==="left"?r?(h=this.right+s,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,d,f;this.isHorizontal()?(c=fr(e,this.left,o)-o/2,h=fr(e,this.right,a)+a/2,d=f=l):(d=fr(e,this.top,o)-o/2,f=fr(e,this.bottom,a)+a/2,c=h=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(h,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&dh(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,h=o.textOffset;Ga(i,c,0,h,l,a)}r&&fh(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=xt(i.font),o=ln(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||se(n)?(l+=o.bottom,Ye(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:d,rotation:f}=tj(this,l,n,a);Ga(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:ej(a,n,r),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=te(e.grid&&e.grid.z,-1),r=te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==to.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return xt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;rj(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,nj(e,o,i),this.override&&Be.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Be[r]&&(delete Be[r][i],this.override&&delete zr[i])}}function nj(t,e,n){const i=Ua(Object.create(null),[n?Be.get(n):{},Be.get(e),t.defaults]);Be.set(e,i),t.defaultRoutes&&ij(e,t.defaultRoutes),t.descriptors&&Be.describe(e,t.descriptors)}function ij(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Be.route(s,r,l,a)})}function rj(t){return"id"in t&&"defaults"in t}class sj{constructor(){this.controllers=new nc(As,"datasets",!0),this.elements=new nc(vn,"elements"),this.plugins=new nc(Object,"plugins"),this.scales=new nc(to,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):fe(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=Eg(e);Te(i["before"+r],[],i),n[e](i),Te(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var In=new sj;class oj{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(Te(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){we(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=te(i.options&&i.options.plugins,{}),s=aj(i);return r===!1&&!n?[]:cj(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function aj(t){const e={},n=[],i=Object.keys(In.plugins.items);for(let s=0;s<i.length;s++)n.push(In.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function lj(t,e){return!e&&t===!1?null:t===!0?{}:t}function cj(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=lj(i[l],r);c!==null&&s.push({plugin:a,options:uj(t.config,{plugin:a,local:n[l]},c,o)})}return s}function uj(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fp(t,e){const n=Be.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function hj(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function dj(t,e){return t===e?"_index_":"_value_"}function ax(t){if(t==="x"||t==="y"||t==="r")return t}function fj(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function pp(t,...e){if(ax(t))return t;for(const n of e){const i=n.axis||fj(n.position)||t.length>1&&ax(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function lx(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function pj(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return lx(t,"x",n[0])||lx(t,"y",n[0])}return{}}function mj(t,e){const n=zr[t.type]||{scales:{}},i=e.scales||{},r=fp(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!se(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=pp(o,a,pj(o,t),Be.scales[a.type]),c=dj(l,r),h=n.scales||{};s[o]=sa(Object.create(null),[{axis:l},a,h[l],h[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||fp(a,e),h=(zr[a]||{}).scales||{};Object.keys(h).forEach(d=>{const f=hj(d,l),m=o[f+"AxisID"]||f;s[m]=s[m]||Object.create(null),sa(s[m],[{axis:f},i[m],h[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];sa(a,[Be.scales[a.type],Be.scale])}),s}function vS(t){const e=t.options||(t.options={});e.plugins=te(e.plugins,{}),e.scales=mj(t,e)}function xS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function gj(t){return t=t||{},t.data=xS(t.data),vS(t),t}const cx=new Map,wS=new Set;function ic(t,e){let n=cx.get(t);return n||(n=e(),cx.set(t,n),wS.add(n)),n}const Ro=(t,e,n)=>{const i=$a(e,n);i!==void 0&&t.add(i)};class yj{constructor(e){this._config=gj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=xS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),vS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ic(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ic(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ic(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return ic(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(d=>Ro(l,e,d))),h.forEach(d=>Ro(l,r,d)),h.forEach(d=>Ro(l,zr[s]||{},d)),h.forEach(d=>Ro(l,Be,d)),h.forEach(d=>Ro(l,hp,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),wS.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,zr[n]||{},Be.datasets[n]||{},{type:n},Be,hp]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=ux(this._resolverCache,e,r);let l=o;if(vj(o,n)){s.$shared=!1,i=Ji(i)?i():i;const c=this.createResolver(e,i,a);l=$s(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=ux(this._resolverCache,e,i);return se(n)?$s(s,n,void 0,r):s}}function ux(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:kg(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const _j=t=>se(t)&&Object.getOwnPropertyNames(t).some(e=>Ji(t[e]));function vj(t,e){const{isScriptable:n,isIndexable:i}=tS(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Ji(a)||_j(a))||o&&Ye(a))return!0}return!1}var xj="4.5.1";const wj=["top","bottom","left","right","chartArea"];function hx(t,e){return t==="top"||t==="bottom"||wj.indexOf(t)===-1&&e==="x"}function dx(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function fx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Te(n&&n.onComplete,[t],e)}function Ej(t){const e=t.chart,n=e.options.animation;Te(n&&n.onProgress,[t],e)}function ES(t){return Rg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Cc={},px=t=>{const e=ES(t);return Object.values(Cc).filter(n=>n.canvas===e).pop()};function bj(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function Tj(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var mi;let gh=(mi=class{static register(...e){In.add(...e),mx()}static unregister(...e){In.remove(...e),mx()}constructor(e,n){const i=this.config=new yj(n),r=ES(e),s=px(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||UL(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=R4(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=X4(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Cc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Bn.listen(this,"complete",fx),Bn.listen(this,"progress",Ej),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return we(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return In}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Lv(this.canvas,this.ctx),this}stop(){return Bn.stop(this),this}resize(e,n){Bn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Bv(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Te(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};fe(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=pp(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),fe(s,o=>{const a=o.options,l=a.id,c=pp(l,a),h=te(a.type,o.dtype);(a.position===void 0||hx(a.position,c)!==hx(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===h)d=i[l];else{const f=In.getScale(h);d=new f({id:l,type:h,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),fe(r,(o,a)=>{o||delete i[a]}),fe(i,o=>{rn.configure(this,o,o.options),rn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(dx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||fp(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=In.getController(a),{datasetElementType:c,dataElementType:h}=Be.datasets[a];Object.assign(l,{dataElementType:In.getElement(h),datasetElementType:c&&In.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){fe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:d}=this.getDatasetMeta(c),f=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||fe(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(dx("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){fe(this.scales,e=>{rn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Av(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;bj(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!Av(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],fe(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ji(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bn.has(this)?this.attached&&!Bn.running(this)&&Bn.start(this):(this.draw(),fx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=hS(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&dh(n,r),e.controller.draw(),r&&fh(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return qa(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=wL.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Gr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);xu(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Bn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Lv(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Cc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};fe(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){fe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},fe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!_u(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(h=>!c.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=L4(e),c=Tj(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Te(s.onHover,[e,a,this],this),l&&Te(s.onClick,[e,a,this],this));const h=!_u(a,r);return(h||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},G(mi,"defaults",Be),G(mi,"instances",Cc),G(mi,"overrides",zr),G(mi,"registry",In),G(mi,"version",xj),G(mi,"getChart",px),mi);function mx(){return fe(gh.instances,t=>t._plugins.invalidate())}function Sj(t,e,n){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:h}=l,d=Math.min(c/o,$t(i-n));if(t.beginPath(),t.arc(r,s,o-c/2,i+d/2,n-d/2),a>0){const f=Math.min(c/a,$t(i-n));t.arc(r,s,a+c/2,n-f/2,i+f/2,!0)}else{const f=Math.min(c/2,o*$t(i-n));if(h==="round")t.arc(r,s,f,n-pe/2,i+pe/2,!0);else if(h==="bevel"){const m=2*f*f,w=-m*Math.cos(n+pe/2)+r,v=-m*Math.sin(n+pe/2)+s,_=m*Math.cos(i+pe/2)+r,x=m*Math.sin(i+pe/2)+s;t.lineTo(w,v),t.lineTo(_,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Ij(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Je,i-Je),t.closePath(),t.clip()}function Aj(t){return Ag(t,["outerStart","outerEnd","innerStart","innerEnd"])}function kj(t,e,n,i){const r=Aj(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return vt(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:vt(r.innerStart,0,o),innerEnd:vt(r.innerEnd,0,o)}}function Zr(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Su(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=e,d=Math.max(e.outerRadius+i+n-c,0),f=h>0?h+i+n+c:0;let m=0;const w=r-l;if(i){const ee=h>0?h-i:0,ue=d>0?d-i:0,ye=(ee+ue)/2,z=ye!==0?w*ye/(ye+i):w;m=(w-z)/2}const v=Math.max(.001,w*d-n/pe)/d,_=(w-v)/2,x=l+_+m,E=r-_-m,{outerStart:T,outerEnd:R,innerStart:N,innerEnd:M}=kj(e,f,d,E-x),S=d-T,b=d-R,A=x+T/S,k=E-R/b,C=f+N,D=f+M,P=x+N/C,ce=E-M/D;if(t.beginPath(),s){const ee=(A+k)/2;if(t.arc(o,a,d,A,ee),t.arc(o,a,d,ee,k),R>0){const q=Zr(b,k,o,a);t.arc(q.x,q.y,R,k,E+Je)}const ue=Zr(D,E,o,a);if(t.lineTo(ue.x,ue.y),M>0){const q=Zr(D,ce,o,a);t.arc(q.x,q.y,M,E+Je,ce+Math.PI)}const ye=(E-M/f+(x+N/f))/2;if(t.arc(o,a,f,E-M/f,ye,!0),t.arc(o,a,f,ye,x+N/f,!0),N>0){const q=Zr(C,P,o,a);t.arc(q.x,q.y,N,P+Math.PI,x-Je)}const z=Zr(S,x,o,a);if(t.lineTo(z.x,z.y),T>0){const q=Zr(S,A,o,a);t.arc(q.x,q.y,T,x-Je,A)}}else{t.moveTo(o,a);const ee=Math.cos(A)*d+o,ue=Math.sin(A)*d+a;t.lineTo(ee,ue);const ye=Math.cos(k)*d+o,z=Math.sin(k)*d+a;t.lineTo(ye,z)}t.closePath()}function Cj(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Su(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Ce||Ce))}return Su(t,e,n,i,l,r),t.fill(),l}function Pj(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:h,borderDash:d,borderDashOffset:f,borderRadius:m}=l,w=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,w?(t.lineWidth=c*2,t.lineJoin=h||"round"):(t.lineWidth=c,t.lineJoin=h||"bevel");let v=e.endAngle;if(s){Su(t,e,n,i,v,r);for(let _=0;_<s;++_)t.stroke();isNaN(a)||(v=o+(a%Ce||Ce))}w&&Ij(t,e,v),l.selfJoin&&v-o>=pe&&m===0&&h!=="miter"&&Sj(t,e,v),s||(Su(t,e,n,i,v,r),t.stroke())}class $o extends vn{constructor(n){super();G(this,"circumference");G(this,"endAngle");G(this,"fullCircles");G(this,"innerRadius");G(this,"outerRadius");G(this,"pixelMargin");G(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=KT(s,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:h,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),m=(this.options.spacing+this.options.borderWidth)/2,w=te(f,c-l),v=Ha(o,l,c)&&l!==c,_=w>=Ce||v,x=Qn(a,h+m,d+m);return _&&x}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:h}=this.options,d=(s+o)/2,f=(a+l+h+c)/2;return{x:i+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Ce?Math.floor(r/Ce):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(pe,r||0)),h=s*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,Cj(n,this,h,o,a),Pj(n,this,h,o,a),n.restore()}}G($o,"id","arc"),G($o,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),G($o,"defaultRoutes",{backgroundColor:"backgroundColor"}),G($o,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function bS(t,e,n=e){t.lineCap=te(n.borderCapStyle,e.borderCapStyle),t.setLineDash(te(n.borderDash,e.borderDash)),t.lineDashOffset=te(n.borderDashOffset,e.borderDashOffset),t.lineJoin=te(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=te(n.borderWidth,e.borderWidth),t.strokeStyle=te(n.borderColor,e.borderColor)}function Rj(t,e,n){t.lineTo(n.x,n.y)}function Nj(t){return t.stepped?hO:t.tension||t.cubicInterpolationMode==="monotone"?dO:Rj}function TS(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),h=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!h?i+c-l:c-l}}function Dj(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=TS(r,n,i),h=Nj(s);let{move:d=!0,reverse:f}=i||{},m,w,v;for(m=0;m<=c;++m)w=r[(a+(f?c-m:m))%o],!w.skip&&(d?(t.moveTo(w.x,w.y),d=!1):h(t,v,w,f,s.stepped),v=w);return l&&(w=r[(a+(f?c:0))%o],h(t,v,w,f,s.stepped)),!!l}function Mj(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=TS(r,n,i),{move:l=!0,reverse:c}=i||{};let h=0,d=0,f,m,w,v,_,x;const E=R=>(o+(c?a-R:R))%s,T=()=>{v!==_&&(t.lineTo(h,_),t.lineTo(h,v),t.lineTo(h,x))};for(l&&(m=r[E(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=r[E(f)],m.skip)continue;const R=m.x,N=m.y,M=R|0;M===w?(N<v?v=N:N>_&&(_=N),h=(d*h+R)/++d):(T(),t.lineTo(R,N),w=M,d=0,v=_=N),x=N}T()}function mp(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Mj:Dj}function Vj(t){return t.stepped?WO:t.tension||t.cubicInterpolationMode==="monotone"?HO:vr}function Oj(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),bS(t,e.options),t.stroke(r)}function Lj(t,e,n,i){const{segments:r,options:s}=e,o=mp(e);for(const a of r)bS(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const jj=typeof Path2D=="function";function Fj(t,e,n,i){jj&&!e.options.segment?Oj(t,e,n,i):Lj(t,e,n,i)}class Ii extends vn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;OO(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=XO(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=uS(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=Vj(i);let c,h;for(c=0,h=o.length;c<h;++c){const{start:d,end:f}=o[c],m=s[d],w=s[f];if(m===w){a.push(m);continue}const v=Math.abs((r-m[n])/(w[n]-m[n])),_=l(m,w,v,i.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,i){return mp(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=mp(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Fj(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}G(Ii,"id","line"),G(Ii,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),G(Ii,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),G(Ii,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function gx(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Pc extends vn{constructor(n){super();G(this,"parsed");G(this,"skip");G(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return gx(this,n,"x",i)}inYRange(n,i){return gx(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!qa(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,dp(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}G(Pc,"id","point"),G(Pc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),G(Pc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function SS(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,h,d;return t.horizontal?(d=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,h=i+d):(d=s/2,a=n-d,l=n+d,c=Math.min(i,r),h=Math.max(i,r)),{left:a,top:c,right:l,bottom:h}}function Ai(t,e,n,i){return t?0:vt(e,n,i)}function Bj(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=eS(i);return{t:Ai(r.top,s.top,0,n),r:Ai(r.right,s.right,0,e),b:Ai(r.bottom,s.bottom,0,n),l:Ai(r.left,s.left,0,e)}}function zj(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Ss(r),o=Math.min(e,n),a=t.borderSkipped,l=i||se(r);return{topLeft:Ai(!l||a.top||a.left,s.topLeft,0,o),topRight:Ai(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Ai(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ai(!l||a.bottom||a.right,s.bottomRight,0,o)}}function Uj(t){const e=SS(t),n=e.right-e.left,i=e.bottom-e.top,r=Bj(t,n/2,i/2),s=zj(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Od(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&SS(t,i);return a&&(r||Qn(e,a.left,a.right))&&(s||Qn(n,a.top,a.bottom))}function $j(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Wj(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ld(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Rc extends vn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=Uj(this),a=$j(o.radius)?Eu:Wj;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Ld(o,n,s)),e.clip(),a(e,Ld(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Ld(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Od(this,e,n,i)}inXRange(e,n){return Od(this,e,null,n)}inYRange(e,n){return Od(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}G(Rc,"id","bar"),G(Rc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),G(Rc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Hj(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=yh(l,c,r);const h=gp(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:h,start:r[l],end:r[c]});continue}const d=uS(e,h);for(const f of d){const m=gp(n,s[f.start],s[f.end],f.loop),w=cS(a,r,m);for(const v of w)o.push({source:v,target:f,start:{[n]:yx(h,m,"start",Math.max)},end:{[n]:yx(h,m,"end",Math.min)}})}}return o}function gp(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=$t(r),s=$t(s)),{property:t,start:r,end:s}}function qj(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=yh(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function yh(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function yx(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function IS(t,e){let n=[],i=!1;return Ye(t)?(i=!0,n=t):n=qj(t,e),n.length?new Ii({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function _x(t){return t&&t.fill!==!1}function Gj(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Et(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function Kj(t,e,n){const i=Jj(t);if(se(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Et(r)&&Math.floor(r)===r?Qj(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Qj(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function Yj(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:se(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Xj(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:se(t)?i=t.value:i=e.getBaseValue(),i}function Jj(t){const e=t.options,n=e.fill;let i=te(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Zj(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=e5(e,n);a.push(IS({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let h=c.start;h<=c.end;h++)t5(r,o[h],a)}return new Ii({points:r,options:{}})}function e5(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function t5(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=n5(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function n5(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const h=s[c],d=o[h.start][n],f=o[h.end][n];if(Qn(r,d,f)){a=r===d,l=r===f;break}}return{first:a,last:l,point:i}}class AS{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:Ce},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function i5(t){const{chart:e,fill:n,line:i}=t;if(Et(n))return r5(e,n);if(n==="stack")return Zj(t);if(n==="shape")return!0;const r=s5(t);return r instanceof AS?r:IS(r,i)}function r5(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function s5(t){return(t.scale||{}).getPointPositionForValue?a5(t):o5(t)}function o5(t){const{scale:e={},fill:n}=t,i=Yj(n,e);if(Et(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function a5(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=Xj(n,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new AS({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function jd(t,e,n){const i=i5(e),{chart:r,index:s,line:o,scale:a,axis:l}=e,c=o.options,h=c.fill,d=c.backgroundColor,{above:f=d,below:m=d}=h||{},w=r.getDatasetMeta(s),v=hS(r,w);i&&o.points.length&&(dh(t,n),l5(t,{line:o,target:i,above:f,below:m,area:n,scale:a,axis:l,clip:v}),fh(t))}function l5(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let h=s;s!==r&&(c==="x"?(vx(t,i,o.top),Fd(t,{line:n,target:i,color:r,scale:a,property:c,clip:l}),t.restore(),t.save(),vx(t,i,o.bottom)):c==="y"&&(xx(t,i,o.left),Fd(t,{line:n,target:i,color:s,scale:a,property:c,clip:l}),t.restore(),t.save(),xx(t,i,o.right),h=r)),Fd(t,{line:n,target:i,color:h,scale:a,property:c,clip:l}),t.restore()}function vx(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,h=r[l],d=r[yh(l,c,r)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function xx(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,h=r[l],d=r[yh(l,c,r)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(n,h.y),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,d.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Fd(t,e){const{line:n,target:i,property:r,color:s,scale:o,clip:a}=e,l=Hj(n,i,r);for(const{source:c,target:h,start:d,end:f}of l){const{style:{backgroundColor:m=s}={}}=c,w=i!==!0;t.save(),t.fillStyle=m,c5(t,o,a,w&&gp(r,d,f)),t.beginPath();const v=!!n.pathSegment(t,c);let _;if(w){v?t.closePath():wx(t,i,f,r);const x=!!i.pathSegment(t,h,{move:v,reverse:!0});_=v&&x,_||wx(t,i,d,r)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function c5(t,e,n,i){const r=e.chart.chartArea,{property:s,start:o,end:a}=i||{};if(s==="x"||s==="y"){let l,c,h,d;s==="x"?(l=o,c=r.top,h=a,d=r.bottom):(l=r.left,c=o,h=r.right,d=a),t.beginPath(),n&&(l=Math.max(l,n.left),h=Math.min(h,n.right),c=Math.max(c,n.top),d=Math.min(d,n.bottom)),t.rect(l,c,h-l,d-c),t.clip()}}function wx(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var u5={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Ii&&(l={visible:t.isDatasetVisible(o),index:o,fill:Kj(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=Gj(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&jd(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;_x(s)&&jd(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!_x(i)||n.drawTime!=="beforeDatasetDraw"||jd(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ex=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},h5=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class bx extends vn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Te(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=xt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Ex(i,s);let c,h;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,s,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=r+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,m=-h;return this.legendItems.forEach((w,v)=>{const _=i+n/2+s.measureText(w.text).width;(v===0||c[c.length-1]+_+2*a>o)&&(d+=h,c[c.length-(v>0?0:1)]=0,m+=h,f++),l[v]={left:0,top:m,row:f,width:_,height:r},c[c.length-1]+=_+a}),d}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-e;let d=a,f=0,m=0,w=0,v=0;return this.legendItems.forEach((_,x)=>{const{itemWidth:E,itemHeight:T}=d5(i,n,s,_,r);x>0&&m+T+2*a>h&&(d+=f+a,c.push({width:f,height:m}),w+=f+a,v++,f=m=0),l[x]={left:w,top:m,col:v,width:E,height:T},f=Math.max(f,E),m+=T+a}),d+=f,c.push({width:f,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Is(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=mt(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=mt(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=mt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=mt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;dh(e,this),this._draw(),fh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=Be.color,l=Is(e.rtl,this.left,this.width),c=xt(o.font),{padding:h}=o,d=c.size,f=d/2;let m;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:w,boxHeight:v,itemHeight:_}=Ex(o,d),x=function(M,S,b){if(isNaN(w)||w<=0||isNaN(v)||v<0)return;r.save();const A=te(b.lineWidth,1);if(r.fillStyle=te(b.fillStyle,a),r.lineCap=te(b.lineCap,"butt"),r.lineDashOffset=te(b.lineDashOffset,0),r.lineJoin=te(b.lineJoin,"miter"),r.lineWidth=A,r.strokeStyle=te(b.strokeStyle,a),r.setLineDash(te(b.lineDash,[])),o.usePointStyle){const k={radius:v*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:A},C=l.xPlus(M,w/2),D=S+f;ZT(r,k,C,D,o.pointStyleWidth&&w)}else{const k=S+Math.max((d-v)/2,0),C=l.leftForLtr(M,w),D=Ss(b.borderRadius);r.beginPath(),Object.values(D).some(P=>P!==0)?Eu(r,{x:C,y:k,w,h:v,radius:D}):r.rect(C,k,w,v),r.fill(),A!==0&&r.stroke()}r.restore()},E=function(M,S,b){Ga(r,b.text,M,S+_/2,c,{strikethrough:b.hidden,textAlign:l.textAlign(b.textAlign)})},T=this.isHorizontal(),R=this._computeTitleHeight();T?m={x:mt(s,this.left+h,this.right-i[0]),y:this.top+h+R,line:0}:m={x:this.left+h,y:mt(s,this.top+R+h,this.bottom-n[0].height),line:0},oS(this.ctx,e.textDirection);const N=_+h;this.legendItems.forEach((M,S)=>{r.strokeStyle=M.fontColor,r.fillStyle=M.fontColor;const b=r.measureText(M.text).width,A=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),k=w+f+b;let C=m.x,D=m.y;l.setWidth(this.width),T?S>0&&C+k+h>this.right&&(D=m.y+=N,m.line++,C=m.x=mt(s,this.left+h,this.right-i[m.line])):S>0&&D+N>this.bottom&&(C=m.x=C+n[m.line].width+h,m.line++,D=m.y=mt(s,this.top+R+h,this.bottom-n[m.line].height));const P=l.x(C);if(x(P,D,M),C=J4(A,C+w+f,T?C+k:this.right,e.rtl),E(l.x(C),D,M),T)m.x+=k+h;else if(typeof M.text!="string"){const ce=c.lineHeight;m.y+=kS(M,ce)+h}else m.y+=N}),aS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=xt(n.font),r=ln(n.padding);if(!n.display)return;const s=Is(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let h,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+c,d=mt(e.align,d,this.right-f);else{const w=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);h=c+mt(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const m=mt(a,d,d+f);o.textAlign=s.textAlign(Tg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Ga(o,n.text,m,h,i)}_computeTitleHeight(){const e=this.options.title,n=xt(e.font),i=ln(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Qn(e,this.left,this.right)&&Qn(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Qn(e,r.left,r.left+r.width)&&Qn(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!m5(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=h5(r,i);r&&!s&&Te(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Te(n.onHover,[e,i,this],this)}else i&&Te(n.onClick,[e,i,this],this)}}function d5(t,e,n,i,r){const s=f5(i,t,e,n),o=p5(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function f5(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function p5(t,e,n){let i=t;return typeof e.text!="string"&&(i=kS(e,n)),i}function kS(t,e){const n=t.text?t.text.length:0;return e*n}function m5(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var g5={id:"legend",_element:bx,start(t,e,n){const i=t.legend=new bx({ctx:t.ctx,options:n,chart:t});rn.configure(t,i,n),rn.addBox(t,i)},stop(t){rn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;rn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=ln(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class CS extends vn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Ye(i.text)?i.text.length:1;this._padding=ln(i.padding);const s=r*xt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,h,d;return this.isHorizontal()?(h=mt(a,i,s),d=n+e,c=s-i):(o.position==="left"?(h=i+e,d=mt(a,r,n),l=pe*-.5):(h=s-e,d=mt(a,n,r),l=pe*.5),c=r-n),{titleX:h,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=xt(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Ga(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Tg(n.align),textBaseline:"middle",translation:[o,a]})}}function y5(t,e){const n=new CS({ctx:t.ctx,options:e,chart:t});rn.configure(t,n,e),rn.addBox(t,n),t.titleBlock=n}var _5={id:"title",_element:CS,start(t,e,n){y5(t,n)},stop(t){const e=t.titleBlock;rn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;rn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wo={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=up(e,c);h<r&&(r=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Tn(t,e){return e&&(Ye(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function zn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function v5(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Tx(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=xt(e.bodyFont),c=xt(e.titleFont),h=xt(e.footerFont),d=s.length,f=r.length,m=i.length,w=ln(e.padding);let v=w.height,_=0,x=i.reduce((R,N)=>R+N.before.length+N.lines.length+N.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(v+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){const R=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=m*R+(x-m)*l.lineHeight+(x-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*h.lineHeight+(f-1)*e.footerSpacing);let E=0;const T=function(R){_=Math.max(_,n.measureText(R).width+E)};return n.save(),n.font=c.string,fe(t.title,T),n.font=l.string,fe(t.beforeBody.concat(t.afterBody),T),E=e.displayColors?o+2+e.boxPadding:0,fe(i,R=>{fe(R.before,T),fe(R.lines,T),fe(R.after,T)}),E=0,n.font=h.string,fe(t.footer,T),n.restore(),_+=w.width,{width:_,height:v}}function x5(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function w5(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function E5(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),w5(c,t,e,n)&&(c="center"),c}function Sx(t,e,n){const i=n.yAlign||e.yAlign||x5(t,n);return{xAlign:n.xAlign||e.xAlign||E5(t,e,n,i),yAlign:i}}function b5(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function T5(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function Ix(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:m}=Ss(o);let w=b5(e,a);const v=T5(e,l,c);return l==="center"?a==="left"?w+=c:a==="right"&&(w-=c):a==="left"?w-=Math.max(h,f)+r:a==="right"&&(w+=Math.max(d,m)+r),{x:vt(w,0,i.width-e.width),y:vt(v,0,i.height-e.height)}}function rc(t,e,n){const i=ln(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Ax(t){return Tn([],zn(t))}function S5(t,e,n){return Gr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function kx(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const PS={beforeTitle:Fn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Fn,beforeBody:Fn,beforeLabel:Fn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return we(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fn,afterBody:Fn,beforeFooter:Fn,footer:Fn,afterFooter:Fn};function Pt(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?PS[e].call(n,i):r}class yp extends vn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new dS(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=S5(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Pt(i,"beforeTitle",this,e),s=Pt(i,"title",this,e),o=Pt(i,"afterTitle",this,e);let a=[];return a=Tn(a,zn(r)),a=Tn(a,zn(s)),a=Tn(a,zn(o)),a}getBeforeBody(e,n){return Ax(Pt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return fe(e,s=>{const o={before:[],lines:[],after:[]},a=kx(i,s);Tn(o.before,zn(Pt(a,"beforeLabel",this,s))),Tn(o.lines,Pt(a,"label",this,s)),Tn(o.after,zn(Pt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return Ax(Pt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Pt(i,"beforeFooter",this,e),s=Pt(i,"footer",this,e),o=Pt(i,"afterFooter",this,e);let a=[];return a=Tn(a,zn(r)),a=Tn(a,zn(s)),a=Tn(a,zn(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(v5(this.chart,n[l]));return e.filter&&(a=a.filter((h,d,f)=>e.filter(h,d,f,i))),e.itemSort&&(a=a.sort((h,d)=>e.itemSort(h,d,i))),fe(a,h=>{const d=kx(e.callbacks,h);r.push(Pt(d,"labelColor",this,h)),s.push(Pt(d,"labelPointStyle",this,h)),o.push(Pt(d,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Wo[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Tx(this,i),c=Object.assign({},a,l),h=Sx(this.chart,i,c),d=Ix(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:d}=Ss(a),{x:f,y:m}=e,{width:w,height:v}=n;let _,x,E,T,R,N;return s==="center"?(R=m+v/2,r==="left"?(_=f,x=_-o,T=R+o,N=R-o):(_=f+w,x=_+o,T=R-o,N=R+o),E=_):(r==="left"?x=f+Math.max(l,h)+o:r==="right"?x=f+w-Math.max(c,d)-o:x=this.caretX,s==="top"?(T=m,R=T-o,_=x-o,E=x+o):(T=m+v,R=T+o,_=x+o,E=x-o),N=T),{x1:_,x2:x,x3:E,y1:T,y2:R,y3:N}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=Is(i.rtl,this.x,this.width);for(e.x=rc(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=xt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,h=xt(s.bodyFont),d=rc(this,"left",s),f=r.x(d),m=l<h.lineHeight?(h.lineHeight-l)/2:0,w=n.y+m;if(s.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=r.leftForLtr(f,c)+c/2,x=w+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,dp(e,v,_,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,dp(e,v,_,x)}else{e.lineWidth=se(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=r.leftForLtr(f,c),_=r.leftForLtr(r.xPlus(f,1),c-2),x=Ss(o.borderRadius);Object.values(x).some(E=>E!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Eu(e,{x:v,y:w,w:c,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Eu(e,{x:_,y:w+1,w:c-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,w,c,l),e.strokeRect(v,w,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,w+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=i,d=xt(i.bodyFont);let f=d.lineHeight,m=0;const w=Is(i.rtl,this.x,this.width),v=function(b){n.fillText(b,w.x(e.x+m),e.y+f/2),e.y+=f+s},_=w.textAlign(o);let x,E,T,R,N,M,S;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=rc(this,_,i),n.fillStyle=i.bodyColor,fe(this.beforeBody,v),m=a&&_!=="right"?o==="center"?c/2+h:c+2+h:0,R=0,M=r.length;R<M;++R){for(x=r[R],E=this.labelTextColors[R],n.fillStyle=E,fe(x.before,v),T=x.lines,a&&T.length&&(this._drawColorBox(n,e,R,w,i),f=Math.max(d.lineHeight,l)),N=0,S=T.length;N<S;++N)v(T[N]),f=d.lineHeight;fe(x.after,v)}m=0,f=d.lineHeight,fe(this.afterBody,v),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=Is(i.rtl,this.x,this.width);for(e.x=rc(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=xt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:h}=i,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:w}=Ss(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+h-w),n.quadraticCurveTo(a+c,l+h,a+c-w,l+h),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+m,l+h),n.quadraticCurveTo(a,l+h,a,l+h-m),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Wo[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Tx(this,e),l=Object.assign({},o,this._size),c=Sx(n,e,l),h=Ix(e,l,c,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ln(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),oS(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),aS(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!_u(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!_u(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=Wo[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}G(yp,"positioners",Wo);var I5={id:"tooltip",_element:yp,positioners:Wo,afterInit(t,e,n){n&&(t.tooltip=new yp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:PS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const A5=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function k5(t,e,n,i){const r=t.indexOf(e);if(r===-1)return A5(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const C5=(t,e)=>t===null?null:vt(Math.round(t),0,e);function Cx(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class _p extends to{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(we(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:k5(i,e,te(n,e),this._addedLabels),C5(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return Cx.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}G(_p,"id","category"),G(_p,"defaults",{ticks:{callback:Cx}});function P5(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:d,includeBounds:f}=t,m=s||1,w=h-1,{min:v,max:_}=e,x=!we(o),E=!we(a),T=!we(c),R=(_-v)/(d+1);let N=Cv((_-v)/w/m)*m,M,S,b,A;if(N<1e-14&&!x&&!E)return[{value:v},{value:_}];A=Math.ceil(_/N)-Math.floor(v/N),A>w&&(N=Cv(A*N/w/m)*m),we(l)||(M=Math.pow(10,l),N=Math.ceil(N*M)/M),r==="ticks"?(S=Math.floor(v/N)*N,b=Math.ceil(_/N)*N):(S=v,b=_),x&&E&&s&&U4((a-o)/s,N/1e3)?(A=Math.round(Math.min((a-o)/N,h)),N=(a-o)/A,S=o,b=a):T?(S=x?o:S,b=E?a:b,A=c-1,N=(b-S)/A):(A=(b-S)/N,oa(A,Math.round(A),N/1e3)?A=Math.round(A):A=Math.ceil(A));const k=Math.max(Pv(N),Pv(S));M=Math.pow(10,we(l)?k:l),S=Math.round(S*M)/M,b=Math.round(b*M)/M;let C=0;for(x&&(f&&S!==o?(n.push({value:o}),S<o&&C++,oa(Math.round((S+C*N)*M)/M,o,Px(o,R,t))&&C++):S<o&&C++);C<A;++C){const D=Math.round((S+C*N)*M)/M;if(E&&D>a)break;n.push({value:D})}return E&&f&&b!==a?n.length&&oa(n[n.length-1].value,a,Px(a,R,t))?n[n.length-1].value=a:n.push({value:a}):(!E||b===a)&&n.push({value:b}),n}function Px(t,e,{horizontal:n,minRotation:i}){const r=Kn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class R5 extends to{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return we(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Us(r),c=Us(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=P5(r,s);return e.bounds==="ticks"&&$4(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Ig(e,this.chart.options.locale,this.options.ticks.format)}}class vp extends R5{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Et(e)?e:0,this.max=Et(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Kn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}G(vp,"id","linear"),G(vp,"defaults",{ticks:{callback:JT.formatters.numeric}});const _h={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mt=Object.keys(_h);function Rx(t,e){return t-e}function Nx(t,e){if(we(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Et(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Wa(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function Dx(t,e,n,i){const r=Mt.length;for(let s=Mt.indexOf(t);s<r-1;++s){const o=_h[Mt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Mt[s]}return Mt[r-1]}function N5(t,e,n,i,r){for(let s=Mt.length-1;s>=Mt.indexOf(n);s--){const o=Mt[s];if(_h[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Mt[n?Mt.indexOf(n):0]}function D5(t){for(let e=Mt.indexOf(t)+1,n=Mt.length;e<n;++e)if(_h[Mt[e]].common)return Mt[e]}function Mx(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=bg(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function M5(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Vx(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:M5(t,i,r,n)}class Iu extends to{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new gL._date(e.adapters.date);r.init(n),sa(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Nx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Et(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Et(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=K4(r,s,o);return this._unit=n.unit||(i.autoSkip?Dx(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):N5(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:D5(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),Vx(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=vt(n,0,o),i=vt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Dx(s.minUnit,n,i,this._getLabelCapacity(n)),a=te(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Wa(l)||l===!0,h={};let d=n,f,m;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,m=0;f<i;f=+e.add(f,a,o),m++)Mx(h,f,w);return(f===i||r.bounds==="ticks"||m===1)&&Mx(h,f,w),Object.keys(h).sort(Rx).map(v=>+v)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Te(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],d=c&&a[c],f=i[n],m=c&&d&&f&&f.major;return this._adapter.format(e,r||(m?d:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Kn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Vx(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(Nx(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Y4(e.sort(Rx))}}G(Iu,"id","time"),G(Iu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function sc(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Sr(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Sr(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class Ox extends Iu{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=sc(n,this.min),this._tableRange=sc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,h;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)h=r[o+1],l=r[o-1],c=r[o],Math.round((h+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(sc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return sc(this._table,i*this._tableRange+this._minPos,!0)}}G(Ox,"id","timeseries"),G(Ox,"defaults",Iu.defaults);const RS="label";function Lx(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function V5(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function NS(t,e){t.labels=e}function DS(t,e,n=RS){const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function O5(t,e=RS){const n={labels:[],datasets:[]};return NS(n,t.labels),DS(n,t.datasets,e),n}function L5(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:h,updateMode:d,...f}=t,m=F.useRef(null),w=F.useRef(null),v=()=>{m.current&&(w.current=new gh(m.current,{type:o,data:O5(a,s),options:l&&{...l},plugins:c}),Lx(e,w.current))},_=()=>{Lx(e,null),w.current&&(w.current.destroy(),w.current=null)};return F.useEffect(()=>{!r&&w.current&&l&&V5(w.current,l)},[r,l]),F.useEffect(()=>{!r&&w.current&&NS(w.current.config.data,a.labels)},[r,a.labels]),F.useEffect(()=>{!r&&w.current&&a.datasets&&DS(w.current.config.data,a.datasets,s)},[r,a.datasets]),F.useEffect(()=>{w.current&&(r?(_(),setTimeout(v)):w.current.update(d))},[r,l,a.labels,a.datasets,d]),F.useEffect(()=>{w.current&&(_(),setTimeout(v))},[o]),F.useEffect(()=>(v(),()=>_()),[]),y.jsx("canvas",{ref:m,role:"img",height:n,width:i,...f,children:h})}const j5=F.forwardRef(L5);function MS(t,e){return gh.register(e),F.forwardRef((n,i)=>y.jsx(j5,{...n,ref:i,type:t}))}const F5=MS("line",Ac),B5=MS("doughnut",zo);gh.register(_p,vp,Pc,Ii,Rc,$o,_5,I5,g5,u5);function VS({assets:t,title:e}){const n=new Set;t.forEach(l=>{l.history.forEach(c=>n.add(c.date))});const i=Array.from(n).sort(),r=i.map(l=>t.reduce((c,h)=>{const d=h.history.find(m=>m.date===l);if(d)return c+d.value;const f=h.history.filter(m=>m.date<=l).sort((m,w)=>w.date.localeCompare(m.date))[0];return c+((f==null?void 0:f.value)||h.initialValue)},0)),s=l=>new Date(l).toLocaleDateString("id-ID",{month:"short",year:"2-digit"}),o={labels:i.map(s),datasets:[{label:e||"Total Aset",data:r,borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4,pointRadius:4,pointBackgroundColor:"rgb(99, 102, 241)",pointBorderColor:"white",pointBorderWidth:2}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"white",titleColor:"#1f2937",bodyColor:"#6b7280",borderColor:"#e5e7eb",borderWidth:1,padding:12,boxPadding:6,usePointStyle:!0,callbacks:{label:l=>`Rp ${(l.raw/1e6).toFixed(1)} Juta`}}},scales:{x:{grid:{display:!1},ticks:{color:"#9ca3af",font:{size:11}}},y:{grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:"#9ca3af",font:{size:11},callback:l=>`${(l/1e6).toFixed(0)}M`}}},interaction:{intersect:!1,mode:"index"}};return i.length===0?y.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"Belum ada data historis"}):y.jsx("div",{className:"h-64",children:y.jsx(F5,{data:o,options:a})})}function OS({assets:t}){const e={};t.forEach(c=>{e[c.type]=(e[c.type]||0)+c.currentValue});const n=Object.keys(e),i=n.map(c=>e[c]),r=n.map(c=>ja[c]),s=n.map(c=>Xn[c]),o=i.reduce((c,h)=>c+h,0),a={labels:s,datasets:[{data:i,backgroundColor:r.map(c=>`${c}40`),borderColor:r,borderWidth:2,hoverOffset:8}]},l={responsive:!0,maintainAspectRatio:!1,cutout:"60%",layout:{padding:{top:20,bottom:10}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"white",titleColor:"#1f2937",bodyColor:"#6b7280",borderColor:"#e5e7eb",borderWidth:1,padding:12,callbacks:{label:c=>{const h=c.raw,d=(h/o*100).toFixed(1);return`Rp ${(h/1e6).toFixed(1)}M (${d}%)`}}}}};return t.length===0?y.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"Belum ada data aset"}):y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"h-52 relative",children:y.jsx(B5,{data:a,options:l})}),y.jsx("div",{className:"grid grid-cols-2 gap-2 px-2",children:n.map((c,h)=>{const d=i[h],f=(d/o*100).toFixed(1),m=ja[c];return y.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("div",{className:"w-3 h-3 rounded-full shadow-sm",style:{backgroundColor:m}}),y.jsx("div",{className:"w-4 h-0.5",style:{backgroundColor:m}})]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-xs font-medium text-gray-700 truncate",children:Xn[c]}),y.jsxs("p",{className:"text-xs text-gray-500",children:[f,"%  ",it(d)]})]})]},c)})})]})}const z5={pricePerGram:1456e3,lastUpdated:new Date().toISOString(),source:"Manual Update"},U5="antam-gold-price";function vh(){try{const t=localStorage.getItem(U5);if(t)return JSON.parse(t)}catch(t){console.error("Error reading gold price:",t)}return z5}const $5=["savings","deposit","cash","gold","mutual_fund","stocks","bpjs_jht"];function Mg({isOpen:t,onClose:e,defaultOwnerId:n}){var v;const{members:i,addAsset:r}=On(),[s,o]=F.useState({name:"",type:"savings",ownerId:n||((v=i[0])==null?void 0:v.id)||"",initialValue:"",currentValue:"",goldWeight:"",stockLots:"",stockBuyPricePerLot:"",stockTicker:"",notes:""}),[a,l]=F.useState(vh()),[c,h]=F.useState(!1);if(F.useEffect(()=>{n&&o(_=>({..._,ownerId:n}))},[n]),F.useEffect(()=>{if(s.type==="stocks"&&s.stockLots&&s.stockBuyPricePerLot){const _=parseInt(s.stockLots)||0,x=parseFloat(s.stockBuyPricePerLot)||0,E=_*100*x;o(T=>({...T,initialValue:E>0?E.toString():"",currentValue:E>0?E.toString():""}))}},[s.stockLots,s.stockBuyPricePerLot,s.type]),!t)return null;const d=_=>{var N;_.preventDefault();const x=new Date().toISOString().split("T")[0],E=Number(s.initialValue)||0,T=Number(s.currentValue)||E,R={id:l4(),name:s.name,type:s.type,ownerId:s.ownerId,initialValue:E,currentValue:T,history:[{date:x,value:T}],createdAt:x,updatedAt:x,notes:s.notes||void 0};s.type==="gold"&&s.goldWeight&&(R.goldDetails={weightGram:parseFloat(s.goldWeight)||0,buyPricePerGram:(Number(s.initialValue)||0)/(parseFloat(s.goldWeight)||1)}),s.type==="stocks"&&s.stockLots&&(R.stockDetails={lots:parseInt(s.stockLots)||0,buyPricePerLot:(parseFloat(s.stockBuyPricePerLot)||0)*100,ticker:s.stockTicker||void 0}),r(R),o({name:"",type:"savings",ownerId:n||((N=i[0])==null?void 0:N.id)||"",initialValue:"",currentValue:"",goldWeight:"",stockLots:"",stockBuyPricePerLot:"",stockTicker:"",notes:""}),e()},f=s.type==="gold",m=s.type==="stocks",w=f||m;return y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),y.jsxs("div",{className:"relative glass-card w-full max-w-md animate-in max-h-[90vh] flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 pb-0 shrink-0",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Tambah Aset Baru"}),y.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:y.jsx(zT,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:d,className:"flex flex-col flex-1 overflow-hidden",children:[y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Nama Aset"}),y.jsx("input",{type:"text",required:!0,value:s.name,onChange:_=>o({...s,name:_.target.value}),placeholder:f?"contoh: Emas Antam 5g":m?"contoh: Saham BBCA":"contoh: Tabungan BCA",className:"input-field"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Jenis Aset"}),y.jsx("select",{value:s.type,onChange:_=>o({...s,type:_.target.value}),className:"select-field",children:$5.map(_=>y.jsx("option",{value:_,children:Xn[_]},_))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Pemilik"}),y.jsx("select",{value:s.ownerId,onChange:_=>o({...s,ownerId:_.target.value}),className:"select-field",children:i.map(_=>y.jsx("option",{value:_.id,children:_.name},_.id))})]}),f&&y.jsxs("div",{className:"space-y-4 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-yellow-800 mb-1.5",children:"Berat Emas (gram)"}),y.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:s.goldWeight,onChange:_=>o({...s,goldWeight:_.target.value}),placeholder:"contoh: 5",className:"input-field"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-yellow-800 mb-1.5",children:"Total Modal Awal (Harga Beli Semuanya)"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.initialValue,onChange:_=>o({...s,initialValue:_.target.value}),placeholder:"contoh: 562500",className:"input-field"}),y.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Masukan total harga beli nota"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-yellow-800 mb-1.5",children:"Total Nilai Sekarang (Manual)"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.currentValue,onChange:_=>o({...s,currentValue:_.target.value}),placeholder:"contoh: 600000",className:"input-field"})]})]}),m&&y.jsxs("div",{className:"space-y-4 p-4 bg-cyan-50 rounded-xl border border-cyan-200",children:[y.jsx("h3",{className:"text-sm font-semibold text-cyan-800",children:"Detail Saham"}),y.jsx("div",{className:"text-xs text-cyan-700 bg-cyan-100 p-2 rounded-lg",children:y.jsx("p",{children:"1 lot = 100 lembar saham"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-cyan-800 mb-1.5",children:"Kode Saham (opsional)"}),y.jsx("input",{type:"text",value:s.stockTicker,onChange:_=>o({...s,stockTicker:_.target.value.toUpperCase()}),placeholder:"contoh: BBCA",className:"input-field",maxLength:6})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-cyan-800 mb-1.5",children:"Jumlah Lot"}),y.jsx("input",{type:"number",min:"1",required:!0,value:s.stockLots,onChange:_=>o({...s,stockLots:_.target.value}),placeholder:"contoh: 10",className:"input-field"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-cyan-800 mb-1.5",children:"Harga Beli (per Lembar)"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.stockBuyPricePerLot,onChange:_=>o({...s,stockBuyPricePerLot:_.target.value}),placeholder:"contoh: 8500",className:"input-field"})]}),s.stockLots&&s.stockBuyPricePerLot&&y.jsx("div",{className:"pt-2",children:y.jsxs("div",{className:"text-center p-2 bg-white rounded-lg",children:[y.jsxs("p",{className:"text-xs text-gray-500",children:["Total Modal (",s.stockLots," lot  ",parseInt(s.stockLots)*100," lembar)"]}),y.jsx("p",{className:"font-semibold text-gray-900",children:it(Number(s.initialValue))})]})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-cyan-800 mb-1.5",children:"Nilai Saat Ini (total)"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.currentValue,onChange:_=>o({...s,currentValue:_.target.value}),placeholder:"Masukkan nilai portfolio saat ini",className:"input-field"})]})]}),!w&&y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Nilai Awal"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.initialValue,onChange:_=>o({...s,initialValue:_.target.value}),placeholder:"0",className:"input-field"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Nilai Saat Ini"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.currentValue,onChange:_=>o({...s,currentValue:_.target.value}),placeholder:"0",className:"input-field"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Lokasi Penyimpanan / Institusi"}),y.jsx("textarea",{value:s.notes,onChange:_=>o({...s,notes:_.target.value}),placeholder:"contoh: Bank Jago, Toko Emas Cantika, Bibit, dll",className:"input-field min-h-[80px]"})]})]}),y.jsxs("div",{className:"p-6 pt-4 border-t border-gray-100 bg-white/50 shrink-0 flex gap-3",children:[y.jsx("button",{type:"button",onClick:e,className:"btn-secondary flex-1",children:"Batal"}),y.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Tambah Aset"})]})]})]})]})}function W5(){const t=F.useRef(null),[e,n]=F.useState(!1);return F.useEffect(()=>{const i=new IntersectionObserver(([r])=>{r.isIntersecting&&(n(!0),i.disconnect())},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return t.current&&i.observe(t.current),()=>i.disconnect()},[]),{ref:t,isVisible:e}}function Me({children:t,className:e="",animation:n="fade-up",delay:i=0}){const{ref:r,isVisible:s}=W5(),o={"fade-up":"scroll-animate","fade-left":"scroll-animate-left","fade-right":"scroll-animate-right",scale:"scroll-animate-scale"}[n];return y.jsx("div",{ref:r,className:`${o} ${s?"visible":""} ${e}`,style:{transitionDelay:`${i}ms`},children:t})}const H5={savings:hh,deposit:pg,cash:gg,gold:uh,mutual_fund:mg,stocks:yg,bpjs_jht:_g};function q5(t){return t.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase()}const jx=["bg-blue-500","bg-purple-500","bg-emerald-500","bg-amber-500"];function G5(){const{members:t,assets:e,updateAsset:n}=On(),[i,r]=F.useState(!1),[s,o]=F.useState(vh()),[a,l]=F.useState(!1),c=e.reduce((_,x)=>_+x.currentValue,0),h=e.reduce((_,x)=>_+x.initialValue,0),d=Ts(c,h),f=Ba(c,h),m=d>=0,w=t.map((_,x)=>{const E=e.filter(N=>N.ownerId===_.id),T=E.reduce((N,M)=>N+M.currentValue,0),R=E.reduce((N,M)=>N+M.initialValue,0);return{..._,totalValue:T,profit:Ts(T,R),profitPct:Ba(T,R),assetCount:E.length,colorClass:jx[x%jx.length]}}),v=[...e].sort((_,x)=>x.updatedAt.localeCompare(_.updatedAt)).slice(0,5);return e.filter(_=>_.type==="gold"),y.jsxs("div",{className:"space-y-8",children:[y.jsx(Me,{animation:"fade-up",children:y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Dashboard"}),y.jsx("p",{className:"text-gray-500 mt-1",children:"Ringkasan aset keluarga"})]}),y.jsx("div",{className:"flex gap-2",children:y.jsxs("button",{onClick:()=>r(!0),className:"btn-primary",children:[y.jsx(La,{className:"w-4 h-4 mr-2"}),"Tambah Aset"]})})]})}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[y.jsx(Me,{animation:"fade-up",delay:100,children:y.jsxs("div",{className:"stat-card",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center shadow-lg shadow-primary-500/25",children:y.jsx(BT,{className:"w-6 h-6 text-white"})}),y.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase",children:"Total Aset"})]}),y.jsxs("div",{className:"mt-4",children:[y.jsx("p",{className:"text-2xl font-bold text-gray-900",children:it(c)}),y.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e.length," aset"]})]})]})}),y.jsx(Me,{animation:"fade-up",delay:150,children:y.jsxs("div",{className:"stat-card",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-lg ${m?"bg-gradient-to-br from-emerald-500 to-emerald-600 shadow-emerald-500/25":"bg-gradient-to-br from-red-500 to-red-600 shadow-red-500/25"}`,children:m?y.jsx(FT,{className:"w-6 h-6 text-white"}):y.jsx(s4,{className:"w-6 h-6 text-white"})}),y.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase",children:"Profit/Loss"})]}),y.jsxs("div",{className:"mt-4",children:[y.jsx("p",{className:`text-2xl font-bold ${m?"text-emerald-600":"text-red-600"}`,children:it(d)}),y.jsx("p",{className:`text-sm mt-1 ${m?"text-emerald-600":"text-red-600"}`,children:Fa(f)})]})]})}),y.jsx(Me,{animation:"fade-up",delay:200,children:y.jsxs("div",{className:"stat-card",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center shadow-lg shadow-amber-500/25",children:y.jsx(uh,{className:"w-6 h-6 text-white"})}),y.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase",children:"Modal Awal"})]}),y.jsxs("div",{className:"mt-4",children:[y.jsx("p",{className:"text-2xl font-bold text-gray-900",children:it(h)}),y.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["dari ",e.length," aset"]})]})]})}),y.jsx(Me,{animation:"fade-up",delay:250,children:y.jsxs("div",{className:"stat-card",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center shadow-lg shadow-violet-500/25",children:y.jsx(ap,{className:"w-6 h-6 text-white"})}),y.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase",children:"Anggota"})]}),y.jsxs("div",{className:"mt-4",children:[y.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"anggota keluarga"})]})]})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsx(Me,{animation:"fade-left",delay:300,children:y.jsxs("div",{className:"glass-card p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pertumbuhan Aset"}),y.jsx(VS,{assets:e})]})}),y.jsx(Me,{animation:"fade-right",delay:300,children:y.jsxs("div",{className:"glass-card p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alokasi Aset"}),y.jsx(OS,{assets:e})]})})]}),y.jsx(Me,{animation:"fade-up",delay:350,children:y.jsxs("div",{className:"glass-card p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Per Anggota"}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map((_,x)=>y.jsx(Me,{animation:"scale",delay:400+x*50,children:y.jsxs(Hn,{to:`/member/${_.id}`,className:"group p-4 rounded-xl bg-gray-50 hover:bg-white hover:shadow-lg border border-transparent hover:border-gray-100 transition-all duration-300 block",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("div",{className:`w-10 h-10 rounded-full ${_.colorClass} flex items-center justify-center text-white text-sm font-semibold`,children:q5(_.name)}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors truncate",children:_.name}),y.jsxs("p",{className:"text-xs text-gray-500",children:[_.assetCount," aset"]})]}),y.jsx(t4,{className:"w-4 h-4 text-gray-300 group-hover:text-primary-500 transition-colors"})]}),y.jsx("p",{className:"text-lg font-bold text-gray-900",children:it(_.totalValue)}),y.jsxs("p",{className:`text-sm ${_.profit>=0?"text-emerald-600":"text-red-600"}`,children:[_.profit>=0?"+":"",it(_.profit)," (",Fa(_.profitPct),")"]})]})},_.id))})]})}),y.jsx(Me,{animation:"fade-up",delay:500,children:y.jsxs("div",{className:"glass-card p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Aset Terbaru"}),y.jsx(Hn,{to:"/assets",className:"text-sm font-medium text-primary-600 hover:text-primary-700",children:"Lihat Semua "})]}),y.jsx("div",{className:"space-y-3",children:v.map((_,x)=>{const E=t.find(M=>M.id===_.ownerId),T=Ts(_.currentValue,_.initialValue),R=H5[_.type],N=ja[_.type];return y.jsx(Me,{animation:"fade-left",delay:550+x*50,children:y.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-gray-50 hover:bg-white hover:shadow transition-all",children:[y.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${N}20`},children:y.jsx(R,{className:"w-5 h-5",style:{color:N}})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("p",{className:"font-medium text-gray-900 truncate",children:[_.name,_.goldDetails&&y.jsxs("span",{className:"text-yellow-600 text-sm ml-2",children:["(",_.goldDetails.weightGram,"g)"]})]}),y.jsxs("p",{className:"text-sm text-gray-500",children:[Xn[_.type],"  ",E==null?void 0:E.name]}),_.notes&&y.jsxs("p",{className:"text-xs text-gray-400 mt-0.5 italic",children:['"',_.notes,'"']})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"font-semibold text-gray-900",children:it(_.currentValue)}),y.jsxs("p",{className:`text-sm ${T>=0?"text-emerald-600":"text-red-600"}`,children:[T>=0?"+":"",it(T)]})]})]})},_.id)})})]})}),y.jsx(Mg,{isOpen:i,onClose:()=>r(!1)})]})}const K5=["savings","deposit","cash","gold","mutual_fund","stocks","bpjs_jht"];function LS({isOpen:t,onClose:e,asset:n}){const{members:i,updateAsset:r}=On(),[s,o]=F.useState({name:"",type:"savings",ownerId:"",initialValue:"",currentValue:"",goldWeight:"",stockLots:"",stockBuyPricePerLot:"",stockTicker:"",notes:""}),[a,l]=F.useState(vh()),[c,h]=F.useState(!1);if(F.useEffect(()=>{var v,_,x,E,T,R;n&&o({name:n.name,type:n.type,ownerId:n.ownerId,initialValue:n.initialValue.toString(),currentValue:n.currentValue.toString(),goldWeight:((_=(v=n.goldDetails)==null?void 0:v.weightGram)==null?void 0:_.toString())||"",stockLots:((E=(x=n.stockDetails)==null?void 0:x.lots)==null?void 0:E.toString())||"",stockBuyPricePerLot:(T=n.stockDetails)!=null&&T.buyPricePerLot?(n.stockDetails.buyPricePerLot/100).toString():"",stockTicker:((R=n.stockDetails)==null?void 0:R.ticker)||"",notes:n.notes||""})},[n]),F.useEffect(()=>{if(s.type==="stocks"&&s.stockLots&&s.stockBuyPricePerLot){const v=parseInt(s.stockLots)||0,_=parseFloat(s.stockBuyPricePerLot)||0,x=v*100*_;o(E=>({...E,initialValue:x>0?x.toString():E.initialValue}))}},[s.stockLots,s.stockBuyPricePerLot,s.type]),!t||!n)return null;const d=v=>{v.preventDefault();const _={name:s.name,type:s.type,ownerId:s.ownerId,initialValue:Number(s.initialValue)||0,currentValue:Number(s.currentValue)||0,notes:s.notes||null};s.type==="gold"&&s.goldWeight?(_.goldDetails={weightGram:parseFloat(s.goldWeight)||0,buyPricePerGram:(Number(s.initialValue)||0)/(parseFloat(s.goldWeight)||1)},_.stockDetails=null):s.type==="stocks"&&s.stockLots?(_.stockDetails={lots:parseInt(s.stockLots)||0,buyPricePerLot:(parseFloat(s.stockBuyPricePerLot)||0)*100,ticker:s.stockTicker||void 0},_.stockDetails.ticker||delete _.stockDetails.ticker,_.goldDetails=null):(_.goldDetails=null,_.stockDetails=null);const x=JSON.parse(JSON.stringify(_));console.log("Submitting cleaned updates:",x),r(n.id,x),e()},f=s.type==="gold",m=s.type==="stocks",w=f||m;return y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),y.jsxs("div",{className:"relative glass-card w-full max-w-md animate-in max-h-[90vh] flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 pb-0 shrink-0",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Aset"}),y.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:y.jsx(zT,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:d,className:"flex flex-col flex-1 overflow-hidden",children:[y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Nama Aset"}),y.jsx("input",{type:"text",required:!0,value:s.name,onChange:v=>o({...s,name:v.target.value}),placeholder:f?"contoh: Emas Antam 5g":m?"contoh: Saham BBCA":"contoh: Tabungan BCA",className:"input-field"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Jenis Aset"}),y.jsx("select",{value:s.type,onChange:v=>o({...s,type:v.target.value}),className:"select-field",children:K5.map(v=>y.jsx("option",{value:v,children:Xn[v]},v))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Pemilik"}),y.jsx("select",{value:s.ownerId,onChange:v=>o({...s,ownerId:v.target.value}),className:"select-field",children:i.map(v=>y.jsx("option",{value:v.id,children:v.name},v.id))})]}),f&&y.jsxs("div",{className:"space-y-4 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-yellow-800 mb-4",children:"Detail Emas"}),y.jsx("label",{className:"block text-sm font-medium text-yellow-800 mb-1.5",children:"Berat Emas (gram)"}),y.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:s.goldWeight,onChange:v=>o({...s,goldWeight:v.target.value}),placeholder:"contoh: 5",className:"input-field"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-yellow-800 mb-1.5",children:"Total Modal Awal (Harga Beli Semuanya)"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.initialValue,onChange:v=>o({...s,initialValue:v.target.value}),placeholder:"contoh: 562500",className:"input-field"}),y.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Masukan total harga beli nota"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-yellow-800 mb-1.5",children:"Total Nilai Sekarang (Manual)"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.currentValue,onChange:v=>o({...s,currentValue:v.target.value}),placeholder:"contoh: 600000",className:"input-field"})]})]}),m&&y.jsxs("div",{className:"space-y-4 p-4 bg-cyan-50 rounded-xl border border-cyan-200",children:[y.jsx("h3",{className:"text-sm font-semibold text-cyan-800",children:"Detail Saham"}),y.jsx("div",{className:"text-xs text-cyan-700 bg-cyan-100 p-2 rounded-lg",children:y.jsx("p",{children:"1 lot = 100 lembar saham"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-cyan-800 mb-1.5",children:"Kode Saham (opsional)"}),y.jsx("input",{type:"text",value:s.stockTicker,onChange:v=>o({...s,stockTicker:v.target.value.toUpperCase()}),placeholder:"contoh: BBCA",className:"input-field",maxLength:6})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-cyan-800 mb-1.5",children:"Jumlah Lot"}),y.jsx("input",{type:"number",min:"1",required:!0,value:s.stockLots,onChange:v=>o({...s,stockLots:v.target.value}),placeholder:"contoh: 10",className:"input-field"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-cyan-800 mb-1.5",children:"Harga Beli (per Lembar)"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.stockBuyPricePerLot,onChange:v=>o({...s,stockBuyPricePerLot:v.target.value}),placeholder:"contoh: 8500",className:"input-field"})]}),s.stockLots&&s.stockBuyPricePerLot&&y.jsx("div",{className:"pt-2",children:y.jsxs("div",{className:"text-center p-2 bg-white rounded-lg",children:[y.jsxs("p",{className:"text-xs text-gray-500",children:["Total Modal (",s.stockLots," lot  ",parseInt(s.stockLots)*100," lembar)"]}),y.jsx("p",{className:"font-semibold text-gray-900",children:it(Number(s.initialValue))})]})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-cyan-800 mb-1.5",children:"Nilai Saat Ini (total)"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.currentValue,onChange:v=>o({...s,currentValue:v.target.value}),placeholder:"Masukkan nilai portfolio saat ini",className:"input-field"})]})]}),!w&&y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Nilai Awal"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.initialValue,onChange:v=>o({...s,initialValue:v.target.value}),placeholder:"0",className:"input-field"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Nilai Saat Ini"}),y.jsx("input",{type:"number",required:!0,min:"0",value:s.currentValue,onChange:v=>o({...s,currentValue:v.target.value}),placeholder:"0",className:"input-field"})]})]}),y.jsxs("div",{className:"pt-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Lokasi Penyimpanan / Institusi"}),y.jsx("textarea",{value:s.notes,onChange:v=>o({...s,notes:v.target.value}),placeholder:"contoh: Bank Jago, Toko Emas Cantika, Bibit, dll",className:"input-field min-h-[80px]"})]})]}),y.jsxs("div",{className:"p-6 pt-4 border-t border-gray-100 bg-white/50 shrink-0 flex gap-3",children:[y.jsx("button",{type:"button",onClick:e,className:"btn-secondary flex-1",children:"Batal"}),y.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Simpan Perubahan"})]})]})]})]})}const Q5={savings:hh,deposit:pg,cash:gg,gold:uh,mutual_fund:mg,stocks:yg,bpjs_jht:_g};function Y5(t){return t.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase()}const Fx=["bg-blue-500","bg-purple-500","bg-emerald-500","bg-amber-500"];function X5(){const{memberId:t}=xC(),{members:e,assets:n,deleteAsset:i,updateAsset:r}=On(),[s,o]=F.useState(!1),[a,l]=F.useState(null),[c,h]=F.useState(!1),[d,f]=F.useState(vh()),m=e.findIndex(M=>M.id===t),w=e[m],v=n.filter(M=>M.ownerId===t);if(v.filter(M=>M.type==="gold"),!w)return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center text-gray-400 text-2xl mb-4",children:"?"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Anggota tidak ditemukan"}),y.jsx(Hn,{to:"/",className:"text-primary-600 hover:text-primary-700 font-medium",children:" Kembali ke Dashboard"})]});const _=v.reduce((M,S)=>M+S.currentValue,0),x=v.reduce((M,S)=>M+S.initialValue,0),E=Ts(_,x),T=Ba(_,x),R=Fx[m%Fx.length],N=(M,S)=>{confirm(`Hapus aset "${S}"?`)&&i(M)};return y.jsxs("div",{className:"space-y-8",children:[y.jsx(Me,{animation:"fade-up",children:y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(Hn,{to:"/",className:"p-2 rounded-xl hover:bg-gray-100 transition-colors",children:y.jsx(e4,{className:"w-5 h-5"})}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:`w-14 h-14 rounded-full ${R} flex items-center justify-center text-white text-xl font-bold`,children:Y5(w.name)}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:w.name}),y.jsx("p",{className:"text-gray-500",children:lp[w.role]})]})]})]}),y.jsx("div",{className:"flex gap-2",children:y.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[y.jsx(La,{className:"w-4 h-4 mr-2"}),"Tambah Aset"]})})]})}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[y.jsx(Me,{animation:"fade-up",delay:100,children:y.jsxs("div",{className:"stat-card",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Total Aset"}),y.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:it(_)})]})}),y.jsx(Me,{animation:"fade-up",delay:150,children:y.jsxs("div",{className:"stat-card",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Modal Awal"}),y.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:it(x)})]})}),y.jsx(Me,{animation:"fade-up",delay:200,children:y.jsxs("div",{className:"stat-card",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Profit/Loss"}),y.jsxs("p",{className:`text-2xl font-bold mt-1 ${E>=0?"text-emerald-600":"text-red-600"}`,children:[E>=0?"+":"",it(E)]}),y.jsx("p",{className:`text-sm ${E>=0?"text-emerald-600":"text-red-600"}`,children:Fa(T)})]})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsx(Me,{animation:"fade-left",delay:250,children:y.jsxs("div",{className:"glass-card p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pertumbuhan Aset"}),y.jsx(VS,{assets:v,title:`Aset ${w.name}`})]})}),y.jsx(Me,{animation:"fade-right",delay:250,children:y.jsxs("div",{className:"glass-card p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alokasi Aset"}),y.jsx(OS,{assets:v})]})})]}),y.jsx(Me,{animation:"fade-up",delay:300,children:y.jsxs("div",{className:"glass-card p-6",children:[y.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Daftar Aset (",v.length,")"]}),v.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:y.jsx(hh,{className:"w-8 h-8 text-gray-400"})}),y.jsx("p",{className:"text-gray-500 mb-4",children:"Belum ada aset"}),y.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[y.jsx(La,{className:"w-4 h-4 mr-2"}),"Tambah Aset Pertama"]})]}):y.jsx("div",{className:"space-y-3",children:v.map((M,S)=>{const b=Ts(M.currentValue,M.initialValue),A=Ba(M.currentValue,M.initialValue),k=Q5[M.type],C=ja[M.type];return y.jsx(Me,{animation:"fade-left",delay:350+S*50,children:y.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-gray-50 hover:bg-white hover:shadow transition-all",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:`${C}20`},children:y.jsx(k,{className:"w-6 h-6",style:{color:C}})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"font-medium text-gray-900",children:M.name}),y.jsxs("p",{className:"text-sm text-gray-500",children:[Xn[M.type],M.goldDetails&&y.jsxs("span",{className:"text-yellow-600 ml-1",children:[" ",M.goldDetails.weightGram," gram"]})]}),M.notes&&y.jsxs("p",{className:"text-xs text-gray-400 mt-0.5 italic",children:['"',M.notes,'"']})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"font-semibold text-gray-900",children:it(M.currentValue)}),y.jsxs("p",{className:`text-sm ${b>=0?"text-emerald-600":"text-red-600"}`,children:[b>=0?"+":"",it(b)," (",Fa(A),")"]})]}),y.jsxs("div",{className:"flex gap-1",children:[y.jsx("button",{onClick:()=>l(M),className:"p-2 rounded-lg text-gray-400 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Edit",children:y.jsx(LT,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>N(M.id,M.name),className:"p-2 rounded-lg text-gray-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Hapus",children:y.jsx(jT,{className:"w-4 h-4"})})]})]})},M.id)})})]})}),y.jsx(Mg,{isOpen:s,onClose:()=>o(!1),defaultOwnerId:t}),y.jsx(LS,{isOpen:!!a,onClose:()=>l(null),asset:a})]})}const J5={savings:hh,deposit:pg,cash:gg,gold:uh,mutual_fund:mg,stocks:yg,bpjs_jht:_g};function Z5(t){return t.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase()}const Bx=["bg-blue-500","bg-purple-500","bg-emerald-500","bg-amber-500"];function e6(){const{members:t,assets:e,deleteAsset:n}=On(),[i,r]=F.useState(!1),[s,o]=F.useState(null),[a,l]=F.useState(""),[c,h]=F.useState("all"),[d,f]=F.useState("value"),m=T=>{var R;return((R=t.find(N=>N.id===T))==null?void 0:R.name)||"Unknown"},w=T=>t.findIndex(R=>R.id===T);let v=e.filter(T=>{const R=T.name.toLowerCase().includes(a.toLowerCase())||m(T.ownerId).toLowerCase().includes(a.toLowerCase()),N=c==="all"||T.type===c;return R&&N});v=[...v].sort((T,R)=>{if(d==="value")return R.currentValue-T.currentValue;if(d==="profit"){const N=T.currentValue-T.initialValue;return R.currentValue-R.initialValue-N}return T.name.localeCompare(R.name)});const _=(T,R)=>{confirm(`Hapus aset "${R}"?`)&&n(T)},x=()=>{const T=["Nama","Jenis","Pemilik","Nilai Awal","Nilai Saat Ini","Profit","Berat Emas (g)"],R=e.map(A=>{var k;return[A.name,Xn[A.type],m(A.ownerId),A.initialValue,A.currentValue,A.currentValue-A.initialValue,((k=A.goldDetails)==null?void 0:k.weightGram)||""]}),N=[T,...R].map(A=>A.join(",")).join(`
`),M=new Blob([N],{type:"text/csv"}),S=URL.createObjectURL(M),b=document.createElement("a");b.href=S,b.download="aset-keluarga.csv",b.click(),URL.revokeObjectURL(S)},E=v.reduce((T,R)=>T+R.currentValue,0);return y.jsxs("div",{className:"space-y-6",children:[y.jsx(Me,{animation:"fade-up",children:y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Semua Aset"}),y.jsxs("p",{className:"text-gray-500 mt-1",children:[v.length," aset  Total ",it(E)]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:x,className:"btn-secondary",children:[y.jsx(n4,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),y.jsxs("button",{onClick:()=>r(!0),className:"btn-primary",children:[y.jsx(La,{className:"w-4 h-4 mr-2"}),"Tambah Aset"]})]})]})}),y.jsx(Me,{animation:"fade-up",delay:100,children:y.jsx("div",{className:"glass-card p-4",children:y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(xv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Cari aset...",value:a,onChange:T=>l(T.target.value),className:"input-field pl-10"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{value:c,onChange:T=>h(T.target.value),className:"select-field w-auto",children:[y.jsx("option",{value:"all",children:"Semua Jenis"}),Object.entries(Xn).map(([T,R])=>y.jsx("option",{value:T,children:R},T))]}),y.jsxs("select",{value:d,onChange:T=>f(T.target.value),className:"select-field w-auto",children:[y.jsx("option",{value:"value",children:"Nilai Tertinggi"}),y.jsx("option",{value:"profit",children:"Profit Tertinggi"}),y.jsx("option",{value:"name",children:"Nama A-Z"})]})]})]})})}),y.jsx(Me,{animation:"fade-up",delay:200,children:y.jsx("div",{className:"glass-card",children:v.length===0?y.jsxs("div",{className:"text-center py-16",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:y.jsx(xv,{className:"w-8 h-8 text-gray-400"})}),y.jsx("p",{className:"text-gray-500 mb-4",children:a||c!=="all"?"Tidak ada aset yang cocok":"Belum ada aset"}),!a&&c==="all"&&y.jsxs("button",{onClick:()=>r(!0),className:"btn-primary",children:[y.jsx(La,{className:"w-4 h-4 mr-2"}),"Tambah Aset Pertama"]})]}):y.jsx("div",{className:"overflow-auto max-h-[calc(100vh-14rem)] relative",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 sticky top-0 z-10 shadow-sm",children:y.jsxs("tr",{children:[y.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider px-6 py-4",children:"Aset"}),y.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider px-6 py-4",children:"Jenis"}),y.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider px-6 py-4",children:"Pemilik"}),y.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 uppercase tracking-wider px-6 py-4",children:"Nilai"}),y.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 uppercase tracking-wider px-6 py-4",children:"Profit"}),y.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 uppercase tracking-wider px-6 py-4",children:"Aksi"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-50",children:v.map((T,R)=>{const N=Ts(T.currentValue,T.initialValue),M=Ba(T.currentValue,T.initialValue),S=J5[T.type],b=ja[T.type],A=w(T.ownerId),k=Bx[A>=0?A%Bx.length:0];return y.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors scroll-animate visible",style:{transitionDelay:`${R*30}ms`},children:[y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${b}20`},children:y.jsx(S,{className:"w-5 h-5",style:{color:b}})}),y.jsxs("div",{children:[y.jsx("span",{className:"font-medium text-gray-900",children:T.name}),T.goldDetails&&y.jsxs("span",{className:"block text-xs text-yellow-600",children:[T.goldDetails.weightGram," gram"]})]})]})}),y.jsx("td",{className:"px-6 py-4 text-gray-500",children:Xn[T.type]}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`w-6 h-6 rounded-full ${k} flex items-center justify-center text-white text-xs font-semibold`,children:Z5(m(T.ownerId))}),y.jsx("span",{className:"text-gray-700",children:m(T.ownerId)})]})}),y.jsx("td",{className:"px-6 py-4 text-right font-semibold text-gray-900",children:it(T.currentValue)}),y.jsxs("td",{className:"px-6 py-4 text-right",children:[y.jsxs("span",{className:`font-medium ${N>=0?"text-emerald-600":"text-red-600"}`,children:[N>=0?"+":"",it(N)]}),y.jsx("span",{className:`block text-sm ${N>=0?"text-emerald-600":"text-red-600"}`,children:Fa(M)})]}),y.jsx("td",{className:"px-6 py-4 text-right",children:y.jsxs("div",{className:"flex justify-end gap-1",children:[y.jsx("button",{onClick:()=>o(T),className:"p-2 rounded-lg text-gray-400 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Edit",children:y.jsx(LT,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>_(T.id,T.name),className:"p-2 rounded-lg text-gray-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Hapus",children:y.jsx(jT,{className:"w-4 h-4"})})]})})]},T.id)})})]})})})}),y.jsx(Mg,{isOpen:i,onClose:()=>r(!1)}),y.jsx(LS,{isOpen:!!s,onClose:()=>o(null),asset:s})]})}function t6(){const{initializeDefaultData:t,isLoading:e,isInitialized:n}=On();return F.useEffect(()=>(YV(),t(),()=>{XV()}),[t]),e&&!n?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-white to-indigo-50",children:y.jsxs("div",{className:"text-center",children:[y.jsx(r4,{className:"w-12 h-12 text-primary-500 animate-spin mx-auto mb-4"}),y.jsx("p",{className:"text-gray-600 font-medium",children:"Memuat data dari Firebase..."})]})}):y.jsx($C,{basename:"/assets-tracker/",children:y.jsx(a4,{children:y.jsxs(OC,{children:[y.jsx(_c,{path:"/",element:y.jsx(G5,{})}),y.jsx(_c,{path:"/member/:memberId",element:y.jsx(X5,{})}),y.jsx(_c,{path:"/assets",element:y.jsx(e6,{})})]})})})}tE(document.getElementById("root")).render(y.jsx(F.StrictMode,{children:y.jsx(t6,{})}));
